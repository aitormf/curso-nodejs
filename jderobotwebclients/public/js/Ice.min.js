(function(f){var a=f.Ice||{};a.Class=function(){var a,c,e;1==arguments.length?c=arguments[0]:2==arguments.length&&(a=arguments[0],c=arguments[1]);void 0!==c&&(e=c.__init__)&&delete c.__init__;e=e||function(){};void 0!==a&&(e.prototype=new a,e.prototype.constructor=e);if(void 0!==c)for(var d in c)e.prototype[d]=c[d];return e};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Slice||{},b=f.Ice||{},c=b.Class,e=c(Error,{__init__:function(a){this.ice_cause=a},ice_name:function(){return"Ice::Exception"},toString:function(){var a=this.ice_name(),c;for(c in this)if("stack"!=c&&0!==c.indexOf("_")){var d=this[c];"function"!=typeof d&&(a+="\n    "+c+': "'+d+'"')}return a}});e.captureStackTrace=function(a){var c=Error().stack;void 0!==c&&(a.ice_name&&a.ice_name().replace("::","."),Object.defineProperty(a,"stack",{get:function(){return c}}))};b.Exception=e;var d=
c(e,{__init__:function(a){e.call(this,a);e.captureStackTrace(this)},ice_name:function(){return"Ice::LocalException"}});b.LocalException=d;a.defineLocalException=function(a,c,d){a.prototype=new c;a.prototype.constructor=a;a.prototype.ice_name=function(){return d};return a};var g=c(e,{__init__:function(a){e.call(this,a);e.captureStackTrace(this)},ice_name:function(){return"Ice::UserException"},__write:function(a){a.startWriteException(null);k(this,a,this.__mostDerivedType());a.endWriteException()},
__read:function(a){a.startReadException();m(this,a,this.__mostDerivedType());a.endReadException(!1)},__usesClasses:function(){return!1}});b.UserException=g;var k=function(a,c,d){void 0!==d&&d!==g&&(c.startWriteSlice(d.__id,-1,d.__parent===g),d.prototype.__writeMemberImpl&&d.prototype.__writeMemberImpl.call(a,c),c.endWriteSlice(),k(a,c,d.__parent))},m=function(a,c,d){void 0!==d&&d!==g&&(c.startReadSlice(),d.prototype.__readMemberImpl&&d.prototype.__readMemberImpl.call(a,c),c.endReadSlice(),m(a,c,d.__parent))},
p=function(a){a.startWriteException(this.__slicedData);k(this,a,this.__mostDerivedType());a.endWriteException()},h=function(a){a.startReadException();m(this,a,this.__mostDerivedType());this.__slicedData=a.endReadException(!0)};a.defineUserException=function(a,c,d,b,k,e,g){a.__parent=c;a.prototype=new c;a.__id="::"+d;a.prototype.ice_name=function(){return d};a.prototype.constructor=a;a.prototype.__mostDerivedType=function(){return a};e&&(a.prototype.__write=p,a.prototype.__read=h);a.prototype.__writeMemberImpl=
b;a.prototype.__readMemberImpl=k;g&&(a.prototype.__usesClasses=function(){return!0});return a};f.Slice=a;f.Ice=b})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=f.Slice||{};b.defineSequence=function(c,b,d,g,k){var m=null;Object.defineProperty(c,b,{get:function(){null===m&&(m=a.StreamHelpers.generateSeqHelper(eval(d),g,eval(k)));return m}})};a.ArrayUtil={clone:function(a){return void 0===a?a:null===a?[]:a.slice()},equals:function(a,b,d){var g,k;if(a.length!=b.length)return!1;if(void 0!==d&&null!==d)for(g=0,k=a.length;g<k;++g){if(!d.call(d,a[g],b[g]))return!1}else for(g=0,k=a.length;g<k;++g)if(a[g]!=b[g])return!1;return!0},shuffle:function(a){for(var b=
a.length;1<b;--b){var d=a[b-1],g=Math.floor(Math.random()*b);a[b-1]=a[g];a[g]=d}},indexOf:function(a,b,d){if(void 0!==d&&null!==d)for(var g=0;g<a.length;++g){if(d.call(d,a[g],b))return g}else return a.indexOf(b);return-1},filter:function(a,b,d){d=void 0===d?b:d;for(var g=[],k=0;k<a.length;++k)b.call(d,a[k],k,a)&&g.push(a[k]);return g}};f.Slice=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{};a.DispatchStatus={DispatchOK:0,DispatchUserException:1,DispatchAsync:2};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Slice||{},b=f.Ice||{},c=b.Class({__init__:function(a,c){this._name=a;this._value=c},equals:function(a){if(this===a)return!0;var c=Object.getPrototypeOf(this);return a instanceof c.constructor?this._value==a._value:!1},hashCode:function(){return this._value},toString:function(){return this._name}}),e=c.prototype;Object.defineProperty(e,"name",{enumerable:!0,get:function(){return this._name}});Object.defineProperty(e,"value",{enumerable:!0,get:function(){return this._value}});var d=
b.Class({__init__:function(a){this._enumType=a},write:function(a,c){this._enumType.__write(a,c)},writeOpt:function(a,c,d){this._enumType.__writeOpt(a,c,d)},read:function(a){return this._enumType.__read(a)},readOpt:function(a,c){return this._enumType.__readOpt(a,c)}});b.EnumHelper=d;var g=function(a,c){a.writeEnum(c)},k=function(a,c,d){a.writeOptValue(c,b.OptionalFormat.Size,b.BasicStream.prototype.writeEnum,d)};a.defineEnum=function(a){var b=function(a,d){c.call(this,a,d)};b.prototype=new c;b.prototype.constructor=
b;var h=[],l=0,e;for(e in a){var n=a[e],s=new b(e,n);h[n]=s;Object.defineProperty(b,e,{enumerable:!0,value:s});n>l&&(l=n)}Object.defineProperty(b,"minWireSize",{get:function(){return 1}});b.__write=g;b.__read=function(a){return a.readEnum(b)};b.__writeOpt=k;b.__readOpt=function(a,c){return a.readOptEnum(c,b)};b.__helper=new d(b);Object.defineProperty(b,"valueOf",{value:function(a){return void 0===a?b:h[a]}});Object.defineProperty(b,"maxValue",{value:l});Object.defineProperty(b.prototype,"maxValue",
{value:l});return b};b.EnumBase=c;f.Slice=a;f.Ice=b})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{},b=a.Exception,c=a.Class(Error,{__init__:function(a){Error.call(this);b.captureStackTrace(this);this.message=a}}),e={};e.AssertionFailedException=c;e.assert=function(a,b){if(!a)throw console.log(void 0===b?"assertion failed":b),console.log(Error().stack),new c(void 0===b?"assertion failed":b);};a.Debug=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{};a.FormatType=Slice.defineEnum({DefaultFormat:0,CompactFormat:1,SlicedFormat:2});f.Ice=a})("undefined"===typeof global?window:global);
(function(f){function a(a,c,d){switch(a){case 92:c.push("\\\\");break;case 39:c.push("\\'");break;case 34:c.push('\\"');break;case 8:c.push("\\b");break;case 12:c.push("\\f");break;case 10:c.push("\\n");break;case 13:c.push("\\r");break;case 9:c.push("\\t");break;default:if(32<=a&&126>=a)a=String.fromCharCode(a),null!==d&&-1!==d.indexOf(a)&&c.push("\\"),c.push(a);else{c.push("\\");d=a.toString(8);for(a=d.length;3>a;a++)c.push("0");c.push(d)}}}function b(a,c){var d=a.charCodeAt(c);if(!(32<=d&&126>=
d)){var b;b=0<c?"character after `"+a.substring(0,c)+"'":"first character";throw Error(b+(" is not a printable ASCII character (ordinal "+d+")"));}return d}function c(a,c,e,p){d.assert(0<=c);d.assert(e<=a.length);if(c>=e)throw Error("EOF while decoding string");if("\\"!=a.charAt(c))a=b(a,c++);else{if(c+1==e)throw Error("trailing backslash");switch(a.charAt(++c)){case "\\":case "'":case '"':a=a.charCodeAt(c++);break;case "b":++c;a=8;break;case "f":++c;a=12;break;case "n":++c;a=10;break;case "r":++c;
a=13;break;case "t":++c;a=9;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":for(var h=0,l=0;3>l&&c<e;++l){var q=a.charAt(c++);if(-1=="01234567".indexOf(q)){--c;break}h=8*h+parseInt(q)}if(255<h)throw c="octal value \\"+h.toString(8)+" ("+h+") is out of range",Error(c);a=h;break;default:a=b(a,c++)}}p.value=c;return a}var e=f.Ice||{},d=e.Debug;e.StringUtil={findFirstOf:function(a,c,d){var b=a.length;for(d=void 0===d?0:d;d<b;d++){var h=a.charAt(d);if(-1!=c.indexOf(h))return d}return-1},
findFirstNotOf:function(a,c,d){var b=a.length;for(d=void 0===d?0:d;d<b;d++){var h=a.charAt(d);if(-1==c.indexOf(h))return d}return-1},escapeString:function(c,d){d=void 0===d?null:d;var b,e;if(null!==d)for(b=0,e=d.length;b<e;++b)if(32>d.charCodeAt(b)||126<d.charCodeAt(b))throw Error("special characters must be in ASCII range 32-126");var h=[],l;b=0;for(e=c.length;b<e;++b)l=c.charCodeAt(b),128>l?a(l,h,d):(127<l&&2048>l?a(l>>6|192,h,d):(a(l>>12|224,h,d),a(l>>6&63|128,h,d)),a(l&63|128,h,d));return h.join("")},
unescapeString:function(a,b,e){b=void 0===b?0:b;e=void 0===e?a.length:e;d.assert(0<=b&&b<=e&&e<=a.length);for(var p=[],h={value:0},l,q,n;b<e;)l=c(a,b,e,h),b=h.value,128>l?p.push(String.fromCharCode(l)):191<l&&224>l?(q=c(a,b,e,h),b=h.value,p.push(String.fromCharCode((l&31)<<6|q&63))):(q=c(a,b,e,h),b=h.value,n=c(a,b,e,h),b=h.value,p.push(String.fromCharCode((l&15)<<12|(q&63)<<6|n&63)));return p.join("")},splitString:function(a,c){for(var d=[],b="",h=0,l=null;h<a.length;)if(null!==l||'"'!==a.charAt(h)&&
"'"!==a.charAt(h)){if(null===l&&"\\"===a.charAt(h)&&h+1<a.length&&('"'===a.charAt(h+1)||"'"===a.charAt(h+1)))++h;else if(null!==l&&"\\"===a.charAt(h)&&h+1<a.length&&a.charAt(h+1)===l)++h;else if(null!==l&&a.charAt(h)===l){++h;l=null;continue}else if(-1!==c.indexOf(a.charAt(h))&&null===l){++h;0<b.length&&(d.push(b),b="");continue}h<a.length&&(b+=a.charAt(h++))}else l=a.charAt(h++);0<b.length&&d.push(b);return null!==l?null:d},checkQuote:function(a,c){c=void 0===c?0:c;var d=a.charAt(c);if('"'==d||"'"==
d){c++;for(var b=a.length,h;c<b&&-1!=(h=a.indexOf(d,c));){if("\\"!=a.charAt(h-1))return h;c=h+1}return-1}return 0},hashCode:function(a){for(var c=0,d=a.length,b=0;b<d;b++)c=31*c+a.charCodeAt(b);return c},toInt:function(a){var c=parseInt(a,10);if(isNaN(c))throw Error("conversion of `"+a+"' to int failed");return c}};f.Ice=e})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.StringUtil;a.HashUtil={addBoolean:function(a,b){return(a<<5)+a^(b?0:1)},addString:function(a,e){void 0!==e&&null!==e&&(a=(a<<5)+a^b.hashCode(e));return a},addNumber:function(a,b){return(a<<5)+a^b},addHashable:function(a,b){void 0!==b&&null!==b&&(a=(a<<5)+a^b.hashCode());return a},addArray:function(a,b,d){if(void 0!==b&&null!==b)for(var g=0;g<b.length;++g)a=d(a,b[g]);return a}};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=function(a,c){var b=1===a.__state?c.onResponse:c.onException;try{if("function"!==typeof b)c.promise.setState(a.__state,a._args);else{var k=b.apply(null,a._args);k&&"function"==typeof k.then?k.then(function(){c.promise.succeed.apply(c.promise,arguments)},function(){c.promise.fail.apply(c.promise,arguments)}):c.promise.succeed(k)}}catch(m){c.promise.fail.call(c.promise,m)}},c=a.Class({__init__:function(){this.__state=0;this.__listeners=[]},then:function(a,b){var g=new c,
k=this;setTimeout(function(){k.__listeners.push({promise:g,onResponse:a,onException:b});k.resolve()},0);return g},exception:function(a){return this.then(null,a)},finally:function(a){var b=new c,g=this,k=function(c){return function(){var p=arguments;try{var h=a.apply(null,p);if(h&&"function"==typeof h.then){var l=function(){c.apply(b,p)};h.then(l).exception(l)}else c.apply(b,p)}catch(k){c.apply(b,p)}}};setTimeout(function(){g.then(k(b.succeed),k(b.fail))});return b},delay:function(a){var b=new c,g=
this,k=function(c,b){return function(){var d=arguments;setTimeout(function(){b.apply(c,d)},a)}};setTimeout(function(){g.then(k(b,b.succeed),k(b,b.fail))});return b},resolve:function(){if(0!==this.__state)for(var a;a=this.__listeners.pop();)b(this,a)},setState:function(a,c){if(0===this.__state&&0!==a){this.__state=a;this._args=c;var b=this;setTimeout(function(){b.resolve()},0)}},succeed:function(){this.setState(1,arguments);return this},fail:function(){this.setState(2,arguments);return this},succeeded:function(){return 1===
this.__state},failed:function(){return 2===this.__state},completed:function(){return 0!==this.__state}});c.all=function(){if(1===arguments.length&&arguments[0]instanceof Array)return c.all.apply(this,arguments[0]);var a=new c,b=Array.prototype.slice.call(arguments),g=Array(arguments.length),k=b.length;0===k&&a.succeed.apply(a,g);for(var m=0;m<b.length;++m)(function(c){b[c]&&"function"==typeof b[c].then?b[c].then(function(){g[c]=arguments;k--;0===k&&a.succeed.apply(a,g)},function(){a.fail.apply(a,
arguments)}):(g[c]=b[c],k--,0===k&&a.succeed.apply(a,g))})(m);return a};c.try=function(a){return(new c).succeed().then(a)};c.delay=function(a){if(1<arguments.length){var b=new c,g=Array.prototype.slice.call(arguments);a=g.pop();return b.succeed.apply(b,g).delay(a)}return(new c).succeed().delay(a)};a.Promise=c;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Class({__init__:function(a,b){this.high=a;this.low=b},hashCode:function(){return this.low},equals:function(a){return this===a?!0:a instanceof b?this.high===a.high&&this.low===a.low:!1},toString:function(){return this.high+":"+this.low},toNumber:function(){if(0!=(this.high&b.SIGN_MASK)){var a=~this.low,e=~this.high;if(4294967295>a)a+=1;else if(a=0,e+=1,e>b.HIGH_MAX)return Number.NEGATIVE_INFINITY;return-1*e*b.HIGH_MASK+a}return this.high>b.HIGH_MAX?Number.POSITIVE_INFINITY:
this.high*b.HIGH_MASK+this.low}});b.SIGN_MASK=2147483648;b.HIGH_MASK=4294967296;b.HIGH_MAX=2097151;a.Long=b;f.Ice=a})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{};a.AsyncStatus={Queued:0,Sent:1};f.Ice=a})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{};a.OptionalFormat=Slice.defineEnum({F1:0,F2:1,F4:2,F8:3,Size:4,VSize:5,FSize:6,Class:7});f.Ice=a})("undefined"===typeof global?window:global);
(function(f){function a(a,c,b,d,l){for(var e=a._table[l];null!==e;e=e._nextInBucket)if(e._hash===d&&a.keysEqual(c,e._key)){e._value=b;return}a.add(c,b,d,l)}var b=f.Slice||{},c=f.Ice||{},e=c.StringUtil,d=c.Class({__init__:function(a){this._size=0;this._head=null;this._initialCapacity=32;this._loadFactor=0.75;this._table=[];this._keyComparator=function(a,c){return a===c};this._valueComparator=function(a,c){return a===c};var c,b;if(void 0===a||null===a||0===a._size)for(this._threshold=this._initialCapacity*
this._loadFactor,c=0;c<this._initialCapacity;c++)this._table[c]=null;else{this._threshold=a._threshold;this._keyComparator=a._keyComparator;this._valueComparator=a._valueComparator;b=a._table.length;this._table.length=b;for(c=0;c<b;c++)this._table[c]=null;this.merge(a)}},set:function(c,b){var d=this.computeHash(c),h=this.hashIndex(d,this._table.length);return a(this,c,b,d,h)},get:function(a){a=this.findEntry(a,this.computeHash(a));return void 0!==a?a._value:void 0},has:function(a){return void 0!==
this.findEntry(a,this.computeHash(a))},delete:function(a){for(var c=this.computeHash(a),b=this.hashIndex(c,this._table.length),d=null,l=this._table[b];null!==l;l=l._nextInBucket){if(l._hash===c&&this.keysEqual(a,l._key))return this._size--,null!==d?d._nextInBucket=l._nextInBucket:this._table[b]=l._nextInBucket,null!==l._prev&&(l._prev._next=l._next),null!==l._next&&(l._next._prev=l._prev),this._head===l&&(this._head=l._next),l._value;d=l}},clear:function(){for(var a=0;a<this._table.length;++a)this._table[a]=
null;this._head=null;this._size=0},forEach:function(a,c){c=void 0===c?a:c;for(var b=this._head;null!==b;b=b._next)a.call(c,b._key,b._value)},equals:function(a){if(null===a||!(a instanceof d)||this._size!==a._size)return!1;for(var c=this._head;null!==c;c=c._next){var b=a.findEntry(c._key,c._hash);if(void 0===b||!this.valuesEqual(c._value,b._value))return!1}return!0},clone:function(){return new d(this)},merge:function(c){for(c=c._head;null!==c;c=c._next)a(this,c._key,c._value,c._hash,this.hashIndex(c._hash,
this._table.length))},add:function(a,c,b,d){a=Object.create(null,{key:{enumerable:!0,get:function(){return this._key}},value:{enumerable:!0,get:function(){return this._value}},next:{enumerable:!0,get:function(){return this._next}},_key:{enumerable:!1,writable:!0,value:a},_value:{enumerable:!1,writable:!0,value:c},_prev:{enumerable:!1,writable:!0,value:null},_next:{enumerable:!1,writable:!0,value:null},_nextInBucket:{enumerable:!1,writable:!0,value:null},_hash:{enumerable:!1,writable:!0,value:b}});
a._nextInBucket=this._table[d];this._table[d]=a;a._next=this._head;null!==this._head&&(this._head._prev=a);this._head=a;this._size++;this._size>=this._threshold&&this.resize(2*this._table.length)},resize:function(a){for(var c=[],b=0;b<a;b++)c[b]=null;for(b=this._head;null!==b;b=b._next){var d=this.hashIndex(b._hash,a);b._nextInBucket=c[d];c[d]=b}this._table=c;this._threshold=a*this._loadFactor},findEntry:function(a,c){for(var b=this.hashIndex(c,this._table.length),b=this._table[b];null!==b;b=b._nextInBucket)if(b._hash===
c&&this.keysEqual(a,b._key))return b},hashIndex:function(a,c){return a&c-1},computeHash:function(a){if("function"===typeof a.hashCode)return a.hashCode();var c=0,b=typeof a;if("string"===b||a instanceof String)c=e.hashCode(a);else if("number"===b||a instanceof Number)c=a.toFixed(0);else if("boolean"===b||a instanceof Boolean)c=a?1:0;else if(null!==a)throw"cannot compute hash for value of type "+b;return c},keysEqual:function(a,c){return this._keyComparator.call(this._keyComparator,a,c)},valuesEqual:function(a,
c){return this._valueComparator.call(this._valueComparator,a,c)}}),g=d.prototype;Object.defineProperty(g,"size",{get:function(){return this._size}});Object.defineProperty(g,"entries",{get:function(){return this._head}});Object.defineProperty(g,"keyComparator",{get:function(){return this._keyComparator},set:function(a){this._keyComparator=a}});Object.defineProperty(g,"valueComparator",{get:function(){return this._valueComparator},set:function(a){this._valueComparator=a}});Object.defineProperty(d,"compareEquals",
{get:function(){return function(a,c){return a.equals(c)}}});b.defineDictionary=function(a,b,e,h,l,g,n,s){a[b]=n?function(a){a=new d(a);a.keyComparator=d.compareEquals;return a}:d;var r=null;Object.defineProperty(a,e,{get:function(){null===r&&(r=c.StreamHelpers.generateDictHelper(eval(h),eval(l),g,eval(s),a[b]));return r}})};c.HashMap=d;f.Slice=b;f.Ice=c})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Class,c=Object.defineProperty,e=a.OptionalFormat,d={FSizeOptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,e.FSize)&&(c=a.startSize(),this.write(a,b),a.endSize(c))};this.readOpt=function(a,c){var b;a.readOpt(c,e.FSize)&&(a.skip(4),b=this.read(a));return b}},VSizeOptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,e.VSize)&&(a.writeSize(this.minWireSize),this.write(a,b))};this.readOpt=function(a,c){var b;a.readOpt(c,
e.VSize)&&(a.skipSize(),b=this.read(a));return b}},VSizeContainerOptHelper:function(a){this.writeOpt=function(c,b,d){void 0!==d&&c.writeOpt(b,e.VSize)&&(b=this.size(d),c.writeSize(254<b?b*a+5:b*a+1),this.write(c,d))};this.readOpt=function(a,c){var b;a.readOpt(c,e.VSize)&&(a.skipSize(),b=this.read(a));return b}},VSizeContainer1OptHelper:function(){this.writeOpt=function(a,c,b){void 0!==b&&a.writeOpt(c,e.VSize)&&this.write(a,b)};this.readOpt=function(a,c){var b;a.readOpt(c,e.VSize)&&(b=this.read(a));
return b}}},g=b({write:function(a,c){if(null===c||0===c.length)a.writeSize(0);else{var b=this.elementHelper;a.writeSize(c.length);for(var d=0;d<c.length;++d)b.write(a,c[d])}},read:function(a){var c=this.elementHelper,b=a.readAndCheckSeqSize(c.minWireSize),d=[];d.length=b;for(var h=0;h<b;++h)d[h]=c.read(a);return d},size:function(a){return null===a||void 0===a?0:a.length}});c(g.prototype,"minWireSize",{get:function(){return 1}});var k=new g;k.write=function(a,c){return a.writeByteSeq(c)};k.read=function(a){return a.readByteSeq()};
c(k,"elementHelper",{get:function(){return a.ByteHelper}});d.VSizeContainer1OptHelper.call(k);var m=function(a){var c=a.readAndCheckSeqSize(1),b=[];b.length=c;for(var d=this.elementType,h=function(c){a.readObject(function(a){b[c]=a},d)},e=0;e<c;++e)h(e);return b};d.generateSeqHelper=function(b,h,n){if(b===a.ByteHelper)return k;var e=new g;h?1===b.minWireSize?d.VSizeContainer1OptHelper.call(e):d.VSizeContainerOptHelper.call(e,b.minWireSize):d.FSizeOptHelper.call(e);c(e,"elementHelper",{get:function(){return b}});
b==a.ObjectHelper&&(c(e,"elementType",{get:function(){return n}}),e.read=m);return e};var p=b({write:function(a,c){if(null===c||0===c.size)a.writeSize(0);else{var b=this.keyHelper,d=this.valueHelper;a.writeSize(c.size);for(var h=c.entries;null!==h;h=h.next)b.write(a,h.key),d.write(a,h.value)}},read:function(a){for(var c=new this.mapType,b=a.readSize(),d=this.keyHelper,h=this.valueHelper,e=0;e<b;++e)c.set(d.read(a),h.read(a));return c},size:function(a){return null===a||void 0===a?0:a.size}});Object.defineProperty(p.prototype,
"minWireSize",{get:function(){return 1}});var h=function(a){for(var c=a.readSize(),b=new this.mapType,d=this.valueType,h=function(c){a.readObject(function(a){b.set(c,a)},d)},e=this.keyHelper,g=0;g<c;++g)h(e.read(a));return b};d.generateDictHelper=function(b,e,n,g,r){var k=new p;n?d.VSizeContainerOptHelper.call(k,b.minWireSize+e.minWireSize):d.FSizeOptHelper.call(k);c(k,"mapType",{get:function(){return r}});c(k,"keyHelper",{get:function(){return b}});c(k,"valueHelper",{get:function(){return e}});e==
a.ObjectHelper&&(c(k,"valueType",{get:function(){return g}}),k.read=h);return k};a.StreamHelpers=d;f.Ice=a})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{};a.Address=function(a,c){this.host=a;this.port=c};f.Ice=a})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{};a.ReferenceMode={ModeTwoway:0,ModeOneway:1,ModeBatchOneway:2,ModeDatagram:3,ModeBatchDatagram:4,ModeLast:4};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=f.Slice||{},c=a.Class,e=0,d=c({__init__:function(){this.__address=e++},hashCode:function(){return this.__address},ice_isA:function(a,c){return 0<=this.__mostDerivedType().__ids.indexOf(a)},ice_ping:function(a){},ice_ids:function(a){return this.__mostDerivedType().__ids},ice_id:function(a){return this.__mostDerivedType().__id},toString:function(){return"[object "+this.ice_id()+"]"},ice_preMarshal:function(){},ice_postUnmarshal:function(){},__write:function(a){a.startWriteObject(null);
g(this,a,this.__mostDerivedType());a.endWriteObject()},__read:function(a){a.startReadObject();k(this,a,this.__mostDerivedType());a.endReadObject(!1)},ice_instanceof:function(a){return a?this instanceof a?!0:this.__mostDerivedType().__instanceof(a):!1},__mostDerivedType:function(){return d}});d.write=function(a,c){a.writeObject(c)};d.writeOpt=function(a,c,b){a.writeOptObject(c,b)};d.read=function(a){var c={value:null};a.readObject(function(a){c.value=a},d);return c};d.readOpt=function(a,c){var b={value:void 0};
a.readOptObject(c,function(a){b.value=a},d);return b};d.ice_staticId=function(){return d.__id};d.__instanceof=function(a){if(a===this)return!0;for(var c in this.__implements)if(this.__implements[c].__instanceof(a))return!0;return this.__parent?this.__parent.__instanceof(a):!1};d.__ids=["::Ice::Object"];d.__id=d.__ids[0];d.__compactId=-1;d.__preserved=!1;var g=function(a,c,b){void 0!==b&&b!==d&&(c.startWriteSlice(b.__id,b.__compactId,b.__parent===d),b.prototype.__writeMemberImpl&&b.prototype.__writeMemberImpl.call(a,
c),c.endWriteSlice(),g(a,c,b.__parent))},k=function(a,c,b){void 0!==b&&b!==d&&(c.startReadSlice(),b.prototype.__readMemberImpl&&b.prototype.__readMemberImpl.call(a,c),c.endReadSlice(),k(a,c,b.__parent))},m=function(a){a.startWriteObject(this.__slicedData);g(this,a,this.__mostDerivedType());a.endWriteObject()},p=function(a){a.startReadObject();k(this,a,this.__mostDerivedType());this.__slicedData=a.endReadObject(!0)};a.Object=d;b.defineLocalObject=function(a,c){var b=a||function(){};void 0!==c&&(b.prototype=
new c,b.__parent=c,b.prototype.constructor=a);return b};b.defineObject=function(a,c,b,e,g,r,k,f,w){var t=a||function(){};t.prototype=new c;t.__parent=c;t.__ids=g;t.__id=g[e];t.__compactId=r;t.__instanceof=d.__instanceof;t.__implements=b;t.write=function(a,c){a.writeObject(c)};t.writeOpt=function(a,c,b){a.writeOptObject(c,b)};t.read=function(a){var c={value:null};a.readObject(function(a){c.value=a},t);return c};t.readOpt=function(a,c){var b={value:void 0};a.readOptObject(c,function(a){b.value=a},t);
return b};t.ice_staticId=function(){return g[e]};t.prototype.constructor=t;t.prototype.__mostDerivedType=function(){return t};w&&(t.prototype.__write=m,t.prototype.__read=p);t.prototype.__writeMemberImpl=k;t.prototype.__readMemberImpl=f;return t};f.Slice=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};Slice.defineSequence(b,"BoolSeqHelper","Ice.BoolHelper",!0);Slice.defineSequence(b,"ByteSeqHelper","Ice.ByteHelper",!0);Slice.defineSequence(b,"ShortSeqHelper","Ice.ShortHelper",!0);Slice.defineSequence(b,"IntSeqHelper","Ice.IntHelper",!0);Slice.defineSequence(b,"LongSeqHelper","Ice.LongHelper",!0);Slice.defineSequence(b,"FloatSeqHelper","Ice.FloatHelper",!0);Slice.defineSequence(b,"DoubleSeqHelper","Ice.DoubleHelper",!0);Slice.defineSequence(b,"StringSeqHelper","Ice.StringHelper",
!1);Slice.defineSequence(b,"ObjectSeqHelper","Ice.ObjectHelper",!1,"Ice.Object");Slice.defineSequence(b,"ObjectProxySeqHelper","Ice.ObjectPrx",!1);f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);(function(f,a){var b=f.Ice||{};Slice.defineSequence(b,"EndpointSeqHelper","Ice.ObjectHelper",!1,"Ice.Endpoint");f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};Slice.defineDictionary(b,"SliceChecksumDict","SliceChecksumDictHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Slice||{},b=f.Ice||{},c=b.ArrayUtil,e=function(a,d){if(a===d)return!0;if(null!==a&&void 0!==a&&null!==d&&void 0!==d&&a.prototype===d.prototype){if(a instanceof b.HashMap||"function"==typeof a.equals)return a.equals(d);if(a instanceof Array)return c.equals(a,d,e)}return!1},d=function(a){if(this===a)return!0;if(null===a||void 0===a||this.prototype!==a.prototype)return!1;var c,b,d;for(d in this)if(c=this[d],b=a[d],"function"!=typeof c&&!e(c,b))return!1;return!0},g=function(){var a=
new this.constructor,b,d;for(d in this)b=this[d],void 0===b||null===b?a[d]=b:"function"!=typeof b&&(a[d]="function"==typeof b.clone?b.clone():b instanceof Array?c.clone(b):b);return a},k=function(a,c){if("function"==typeof c.hashCode)return b.HashUtil.addHashable(a,c);if(c instanceof Array)return b.HashUtil.addArray(a,c,k);var d=typeof c;if(c instanceof String||"string"==d)return b.HashUtil.addString(a,c);if(c instanceof Number||"number"==d)return b.HashUtil.addNumber(a,c);if(c instanceof Boolean||
"boolean"==d)return b.HashUtil.addBoolean(a,c)},m=function(){var a=5381,c,b;for(b in this)c=this[b],void 0!==c&&null!==c&&"function"!=typeof c&&(a=k(a,c));return a};a.defineStruct=function(a,c,e,k,n,s){a.prototype.clone=g;a.prototype.equals=d;c&&(a.prototype.hashCode=m);k&&e&&(a.prototype.__write=e,a.prototype.__read=k,a.write=function(a,c){c.__write(a)},a.read=function(a){var c=new this;c.__read(a);return c},Object.defineProperty(a,"minWireSize",{get:function(){return n}}),s?b.StreamHelpers.VSizeOptHelper.call(a):
b.StreamHelpers.FSizeOptHelper.call(a));return a};f.Slice=a;f.Ice=b})("undefined"===typeof global?window:global);
(function(f){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,c){var b=new Uint8Array(this);c=void 0===c?b.length:c;for(var e=new Uint8Array(new ArrayBuffer(c-a)),p=0,h=e.length;p<h;p++)e[p]=b[p+a];return e.buffer});var a=f.Ice||a,b=a.Long,c=a.Class({__init__:function(a){void 0!==a?(this.b=a,this.v=new DataView(this.b)):this.v=this.b=null;this._shrinkCounter=this._limit=this._position=0},empty:function(){return 0===this._limit},resize:function(a){0===a?this.clear():a>this.capacity&&
this.reserve(a);this._limit=a},clear:function(){this.v=this.b=null;this._limit=this._position=0},expand:function(a){a=0===this.capacity?a:this._position+a;a>this._limit&&this.resize(a)},reset:function(){0<this._limit&&2*this._limit<this.capacity?2<++this._shrinkCounter&&(this.reserve(this._limit),this._shrinkCounter=0):this._shrinkCounter=0;this._position=this._limit=0},reserve:function(a){a>this.capacity?(a=Math.max(a,2*this.capacity),a=Math.max(1024,a),this.b?(a=new Uint8Array(a),a.set(new Uint8Array(this.b)),
this.b=a.buffer):this.b=new ArrayBuffer(a),this.v=new DataView(this.b)):a<this.capacity&&(this.b=this.b.slice(0,this.capacity),this.v=new DataView(this.b))},put:function(a){if(this._position===this._limit)throw Error("BufferOverflowException");this.v.setUint8(this._position,a);this._position++},putAt:function(a,c){if(a>=this._limit)throw Error("IndexOutOfBoundsException");this.v.setUint8(a,c)},putArray:function(a){if(0<a.byteLength){if(this._position+a.length>this._limit)throw Error("BufferOverflowException");
(new Uint8Array(this.b,0,this.b.byteLength)).set(a,this._position);this._position+=a.byteLength}},putShort:function(a){if(this._position+2>this._limit)throw Error("BufferOverflowException");this.v.setInt16(this._position,a,!0);this._position+=2},putInt:function(a){if(this._position+4>this._limit)throw Error("BufferOverflowException");this.v.setInt32(this._position,a,!0);this._position+=4},putIntAt:function(a,c){if(a+4>this._limit||0>a)throw Error("IndexOutOfBoundsException");this.v.setInt32(a,c,!0)},
putFloat:function(a){if(this._position+4>this._limit)throw Error("BufferOverflowException");this.v.setFloat32(this._position,a,!0);this._position+=4},putDouble:function(a){if(this._position+8>this._limit)throw Error("BufferOverflowException");this.v.setFloat64(this._position,a,!0);this._position+=8},putLong:function(a){if(this._position+8>this._limit)throw Error("BufferOverflowException");this.v.setInt32(this._position,a.low,!0);this._position+=4;this.v.setInt32(this._position,a.high,!0);this._position+=
4},writeString:function(a,c){var b=unescape(encodeURIComponent(c));a.writeSize(b.length);a.expand(b.length);this.putString(b,b.length)},putString:function(a,c){if(this._position+c>this._limit)throw Error("BufferOverflowException");for(var b=0;b<c;++b)this.v.setUint8(this._position,a.charCodeAt(b)),this._position++},get:function(){if(this._position>=this._limit)throw Error("BufferUnderflowException");var a=this.v.getUint8(this._position);this._position++;return a},getAt:function(a){if(0>a||a>=this._limit)throw Error("IndexOutOfBoundsException");
return this.v.getUint8(a)},getArray:function(a){if(this._position+a>this._limit)throw Error("BufferUnderflowException");var c=this.b.slice(this._position,this._position+a);this._position+=a;return new Uint8Array(c)},getArrayAt:function(a,c){if(a+c>this._limit)throw Error("BufferUnderflowException");c=void 0===c?this.b.byteLength-a:c;return new Uint8Array(this.b.slice(a,a+c))},getShort:function(){if(2>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getInt16(this._position,
!0);this._position+=2;return a},getInt:function(){if(4>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getInt32(this._position,!0);this._position+=4;return a},getFloat:function(){if(4>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getFloat32(this._position,!0);this._position+=4;return a},getDouble:function(){if(8>this._limit-this._position)throw Error("BufferUnderflowException");var a=this.v.getFloat64(this._position,!0);this._position+=
8;return a},getLong:function(){if(8>this._limit-this._position)throw Error("BufferUnderflowException");var a=new b;a.low=this.v.getInt32(this._position,!0);this._position+=4;a.high=this.v.getInt32(this._position,!0);this._position+=4;return a},getString:function(a){if(this._position+a>this._limit)throw Error("BufferUnderflowException");for(var c=new DataView(this.b,this._position,a),b="",e=0;e<a;++e)b+=String.fromCharCode(c.getUint8(e));this._position+=a;return b=decodeURIComponent(escape(b))}}),
e=c.prototype;Object.defineProperty(e,"position",{get:function(){return this._position},set:function(a){0<=a&&a<=this._limit&&(this._position=a)}});Object.defineProperty(e,"limit",{get:function(){return this._limit},set:function(a){a<=this.capacity&&(this._limit=a,this._position>a&&(this._position=a))}});Object.defineProperty(e,"capacity",{get:function(){return null===this.b?0:this.b.byteLength}});Object.defineProperty(e,"remaining",{get:function(){return this._limit-this._position}});c.createNative=
function(a){return void 0===a?new Uint8Array(0):new Uint8Array(a)};a.Buffer=c;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};b.ProtocolVersion=Slice.defineStruct(function(a,b){this.major=void 0!==a?a:0;this.minor=void 0!==b?b:0},!0,function(a){a.writeByte(this.major);a.writeByte(this.minor)},function(a){this.major=a.readByte();this.minor=a.readByte()},2,!0);b.EncodingVersion=Slice.defineStruct(function(a,b){this.major=void 0!==a?a:0;this.minor=void 0!==b?b:0},!0,function(a){a.writeByte(this.major);a.writeByte(this.minor)},function(a){this.major=a.readByte();this.minor=a.readByte()},2,!0);
f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};b.Identity=Slice.defineStruct(function(a,b){this.name=void 0!==a?a:null;this.category=void 0!==b?b:null},!0,function(a){a.writeString(this.name);a.writeString(this.category)},function(a){this.name=a.readString();this.category=a.readString()},2,!1);Slice.defineDictionary(b,"ObjectDict","ObjectDictHelper","Ice.Identity","Ice.ObjectHelper",!1,!0,"Ice.Object");Slice.defineSequence(b,"IdentitySeqHelper","Ice.Identity",!1);f.Ice=b})("undefined"===typeof global?window:global,
"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};b.InitializationException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.reason=void 0!==a?a:null},b.LocalException,"Ice::InitializationException");b.PluginInitializationException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.reason=void 0!==a?a:null},b.LocalException,"Ice::PluginInitializationException");b.CollocationOptimizationException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},
b.LocalException,"Ice::CollocationOptimizationException");b.AlreadyRegisteredException=Slice.defineLocalException(function(a,e,d){b.LocalException.call(this,d);this.kindOfObject=void 0!==a?a:null;this.id=void 0!==e?e:null},b.LocalException,"Ice::AlreadyRegisteredException");b.NotRegisteredException=Slice.defineLocalException(function(a,e,d){b.LocalException.call(this,d);this.kindOfObject=void 0!==a?a:null;this.id=void 0!==e?e:null},b.LocalException,"Ice::NotRegisteredException");b.TwowayOnlyException=
Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.operation=void 0!==a?a:null},b.LocalException,"Ice::TwowayOnlyException");b.CloneNotImplementedException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::CloneNotImplementedException");b.UnknownException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.unknown=void 0!==a?a:null},b.LocalException,"Ice::UnknownException");b.UnknownLocalException=Slice.defineLocalException(function(a,
e){b.UnknownException.call(this,a,e)},b.UnknownException,"Ice::UnknownLocalException");b.UnknownUserException=Slice.defineLocalException(function(a,e){b.UnknownException.call(this,a,e)},b.UnknownException,"Ice::UnknownUserException");b.VersionMismatchException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::VersionMismatchException");b.CommunicatorDestroyedException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,
"Ice::CommunicatorDestroyedException");b.ObjectAdapterDeactivatedException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.name=void 0!==a?a:null},b.LocalException,"Ice::ObjectAdapterDeactivatedException");b.ObjectAdapterIdInUseException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.id=void 0!==a?a:null},b.LocalException,"Ice::ObjectAdapterIdInUseException");b.NoEndpointException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,
e);this.proxy=void 0!==a?a:null},b.LocalException,"Ice::NoEndpointException");b.EndpointParseException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.str=void 0!==a?a:null},b.LocalException,"Ice::EndpointParseException");b.EndpointSelectionTypeParseException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.str=void 0!==a?a:null},b.LocalException,"Ice::EndpointSelectionTypeParseException");b.VersionParseException=Slice.defineLocalException(function(a,
e){b.LocalException.call(this,e);this.str=void 0!==a?a:null},b.LocalException,"Ice::VersionParseException");b.IdentityParseException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.str=void 0!==a?a:null},b.LocalException,"Ice::IdentityParseException");b.ProxyParseException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.str=void 0!==a?a:null},b.LocalException,"Ice::ProxyParseException");b.IllegalIdentityException=Slice.defineLocalException(function(a,
e){b.LocalException.call(this,e);this.id=void 0!==a?a:null},b.LocalException,"Ice::IllegalIdentityException");b.RequestFailedException=Slice.defineLocalException(function(a,e,d,g){b.LocalException.call(this,g);this.id=void 0!==a?a:null;this.facet=void 0!==e?e:null;this.operation=void 0!==d?d:null},b.LocalException,"Ice::RequestFailedException");b.ObjectNotExistException=Slice.defineLocalException(function(a,e,d,g){b.RequestFailedException.call(this,a,e,d,g)},b.RequestFailedException,"Ice::ObjectNotExistException");
b.FacetNotExistException=Slice.defineLocalException(function(a,e,d,g){b.RequestFailedException.call(this,a,e,d,g)},b.RequestFailedException,"Ice::FacetNotExistException");b.OperationNotExistException=Slice.defineLocalException(function(a,e,d,g){b.RequestFailedException.call(this,a,e,d,g)},b.RequestFailedException,"Ice::OperationNotExistException");b.SyscallException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.error=void 0!==a?a:0},b.LocalException,"Ice::SyscallException");
b.SocketException=Slice.defineLocalException(function(a,e){b.SyscallException.call(this,a,e)},b.SyscallException,"Ice::SocketException");b.FileException=Slice.defineLocalException(function(a,e,d){b.SyscallException.call(this,a,d);this.path=void 0!==e?e:null},b.SyscallException,"Ice::FileException");b.ConnectFailedException=Slice.defineLocalException(function(a,e){b.SocketException.call(this,a,e)},b.SocketException,"Ice::ConnectFailedException");b.ConnectionRefusedException=Slice.defineLocalException(function(a,
e){b.ConnectFailedException.call(this,a,e)},b.ConnectFailedException,"Ice::ConnectionRefusedException");b.ConnectionLostException=Slice.defineLocalException(function(a,e){b.SocketException.call(this,a,e)},b.SocketException,"Ice::ConnectionLostException");b.DNSException=Slice.defineLocalException(function(a,e,d){b.LocalException.call(this,d);this.error=void 0!==a?a:0;this.host=void 0!==e?e:null},b.LocalException,"Ice::DNSException");b.TimeoutException=Slice.defineLocalException(function(a){b.LocalException.call(this,
a)},b.LocalException,"Ice::TimeoutException");b.ConnectTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::ConnectTimeoutException");b.CloseTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::CloseTimeoutException");b.ConnectionTimeoutException=Slice.defineLocalException(function(a){b.TimeoutException.call(this,a)},b.TimeoutException,"Ice::ConnectionTimeoutException");b.ProtocolException=
Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.reason=void 0!==a?a:null},b.LocalException,"Ice::ProtocolException");b.BadMagicException=Slice.defineLocalException(function(a,e,d){b.ProtocolException.call(this,a,d);this.badMagic=void 0!==e?e:null},b.ProtocolException,"Ice::BadMagicException");b.UnsupportedProtocolException=Slice.defineLocalException(function(a,e,d,g){b.ProtocolException.call(this,a,g);this.bad=void 0!==e?e:null;this.supported=void 0!==d?d:null},b.ProtocolException,
"Ice::UnsupportedProtocolException");b.UnsupportedEncodingException=Slice.defineLocalException(function(a,e,d,g){b.ProtocolException.call(this,a,g);this.bad=void 0!==e?e:null;this.supported=void 0!==d?d:null},b.ProtocolException,"Ice::UnsupportedEncodingException");b.UnknownMessageException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::UnknownMessageException");b.ConnectionNotValidatedException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,
a,e)},b.ProtocolException,"Ice::ConnectionNotValidatedException");b.UnknownRequestIdException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::UnknownRequestIdException");b.UnknownReplyStatusException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::UnknownReplyStatusException");b.CloseConnectionException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,
"Ice::CloseConnectionException");b.ForcedCloseConnectionException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::ForcedCloseConnectionException");b.IllegalMessageSizeException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::IllegalMessageSizeException");b.CompressionException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::CompressionException");
b.DatagramLimitException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::DatagramLimitException");b.MarshalException=Slice.defineLocalException(function(a,e){b.ProtocolException.call(this,a,e)},b.ProtocolException,"Ice::MarshalException");b.ProxyUnmarshalException=Slice.defineLocalException(function(a,e){b.MarshalException.call(this,a,e)},b.MarshalException,"Ice::ProxyUnmarshalException");b.UnmarshalOutOfBoundsException=Slice.defineLocalException(function(a,
e){b.MarshalException.call(this,a,e)},b.MarshalException,"Ice::UnmarshalOutOfBoundsException");b.NoObjectFactoryException=Slice.defineLocalException(function(a,e,d){b.MarshalException.call(this,a,d);this.type=void 0!==e?e:null},b.MarshalException,"Ice::NoObjectFactoryException");b.UnexpectedObjectException=Slice.defineLocalException(function(a,e,d,g){b.MarshalException.call(this,a,g);this.type=void 0!==e?e:null;this.expectedType=void 0!==d?d:null},b.MarshalException,"Ice::UnexpectedObjectException");
b.MemoryLimitException=Slice.defineLocalException(function(a,e){b.MarshalException.call(this,a,e)},b.MarshalException,"Ice::MemoryLimitException");b.StringConversionException=Slice.defineLocalException(function(a,e){b.MarshalException.call(this,a,e)},b.MarshalException,"Ice::StringConversionException");b.EncapsulationException=Slice.defineLocalException(function(a,e){b.MarshalException.call(this,a,e)},b.MarshalException,"Ice::EncapsulationException");b.FeatureNotSupportedException=Slice.defineLocalException(function(a,
e){b.LocalException.call(this,e);this.unsupportedFeature=void 0!==a?a:null},b.LocalException,"Ice::FeatureNotSupportedException");b.SecurityException=Slice.defineLocalException(function(a,e){b.LocalException.call(this,e);this.reason=void 0!==a?a:null},b.LocalException,"Ice::SecurityException");b.FixedProxyException=Slice.defineLocalException(function(a){b.LocalException.call(this,a)},b.LocalException,"Ice::FixedProxyException");b.ResponseSentException=Slice.defineLocalException(function(a){b.LocalException.call(this,
a)},b.LocalException,"Ice::ResponseSentException");f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){function a(a){return 26>a?String.fromCharCode(g+a):52>a?String.fromCharCode(k+(a-26)):62>a?String.fromCharCode(m+(a-52)):62==a?"+":"/"}function b(a){return"A"<=a&&"Z">=a?a.charCodeAt(0)-g:"a"<=a&&"z">=a?a.charCodeAt(0)-k+26:"0"<=a&&"9">=a?a.charCodeAt(0)-m+52:"+"==a?62:63}var c=f.Ice||{},e=c.Buffer,d={},g=65,k=97,m=48;d.encode=function(b){if(null===b||0===b.length)return"";for(var c=[],d,e,n,g,r=0;r<b.length;r+=3)d=b[r]&255,n=e=0,r+1<b.length&&(e=b[r+1]&255),r+2<b.length&&(n=b[r+2]&255),
g=d>>2&255,d=((d&3)<<4|e>>4)&255,e=((e&15)<<2|n>>6)&255,n&=63,c.push(a(g)),c.push(a(d)),r+1<b.length?c.push(a(e)):c.push("="),r+2<b.length?c.push(a(n)):c.push("=");b=c.join("");c=[];for(g=0;76<b.length-g;)c.push(b.substring(g,g+76)),c.push("\r\n"),g+=76;c.push(b.substring(g));return c.join("")};d.decode=function(a){for(var c=[],g=0;g<a.length;g++){var k=a.charAt(g);d.isBase64(k)&&c.push(k)}if(0===c.length)return null;g=3*c.length/4+1;a=new e;a.resize(g);for(var n,s,r,u,m=0;m<c.length;m+=4)k=g=s="A",
n=c[m],m+1<c.length&&(s=c[m+1]),m+2<c.length&&(g=c[m+2]),m+3<c.length&&(k=c[m+3]),n=b(n)&255,s=b(s)&255,r=b(g)&255,u=b(k)&255,a.put(n<<2|s>>4),"="!=g&&a.put((s&15)<<4|r>>2),"="!=k&&a.put((r&3)<<6|u);return 0<a.remaining?a.getArrayAt(0,a.position):a.getArrayAt(0)};d.isBase64=function(a){return"A"<=a&&"Z">=a||"a"<=a&&"z">=a||"0"<=a&&"9">=a||"+"==a||"/"==a||"="==a?!0:!1};c.Base64=d;f.Ice=c})("undefined"===typeof global?window:global);
(function(f){function a(a){var b=a.indexOf(".");if(-1===b)throw new c.VersionParseException("malformed version value `"+a+"'");var b=a.substring(0,b),d;try{d=e.toInt(b)}catch(p){throw new c.VersionParseException("invalid version value `"+a+"'");}if(1>d||255<d)throw new c.VersionParseException("range error in version `"+a+"'");return d}function b(a){var b=a.indexOf(".");if(-1===b)throw new c.VersionParseException("malformed version value `"+a+"'");var b=a.substring(b+1),d;try{d=e.toInt(b)}catch(p){throw new c.VersionParseException("invalid version value `"+
a+"'");}if(0>d||255<d)throw new c.VersionParseException("range error in version `"+a+"'");return d}var c=f.Ice||{},e=c.StringUtil,d={};c.Encoding_1_0=new c.EncodingVersion(1,0);c.Encoding_1_1=new c.EncodingVersion(1,1);c.Protocol_1_0=new c.ProtocolVersion(1,0);d.headerSize=14;d.magic=c.Buffer.createNative([73,99,101,80]);d.protocolMajor=1;d.protocolMinor=0;d.protocolEncodingMajor=1;d.protocolEncodingMinor=0;d.encodingMajor=1;d.encodingMinor=1;d.requestMsg=0;d.requestBatchMsg=1;d.replyMsg=2;d.validateConnectionMsg=
3;d.closeConnectionMsg=4;d.replyOK=0;d.replyUserException=1;d.replyObjectNotExist=2;d.replyFacetNotExist=3;d.replyOperationNotExist=4;d.replyUnknownLocalException=5;d.replyUnknownUserException=6;d.replyUnknownException=7;d.requestHdr=c.Buffer.createNative([d.magic[0],d.magic[1],d.magic[2],d.magic[3],d.protocolMajor,d.protocolMinor,d.protocolEncodingMajor,d.protocolEncodingMinor,d.requestMsg,0,0,0,0,0,0,0,0,0]);d.requestBatchHdr=c.Buffer.createNative([d.magic[0],d.magic[1],d.magic[2],d.magic[3],d.protocolMajor,
d.protocolMinor,d.protocolEncodingMajor,d.protocolEncodingMinor,d.requestBatchMsg,0,0,0,0,0,0,0,0,0]);d.replyHdr=c.Buffer.createNative([d.magic[0],d.magic[1],d.magic[2],d.magic[3],d.protocolMajor,d.protocolMinor,d.protocolEncodingMajor,d.protocolEncodingMinor,d.replyMsg,0,0,0,0,0]);d.currentProtocol=new c.ProtocolVersion(d.protocolMajor,d.protocolMinor);d.currentProtocolEncoding=new c.EncodingVersion(d.protocolEncodingMajor,d.protocolEncodingMinor);d.currentEncoding=new c.EncodingVersion(d.encodingMajor,
d.encodingMinor);d.checkSupportedProtocol=function(a){if(a.major!==d.currentProtocol.major||a.minor>d.currentProtocol.minor)throw new c.UnsupportedProtocolException("",a,d.currentProtocol);};d.checkSupportedProtocolEncoding=function(a){if(a.major!==d.currentProtocolEncoding.major||a.minor>d.currentProtocolEncoding.minor)throw new c.UnsupportedEncodingException("",a,d.currentProtocolEncoding);};d.checkSupportedEncoding=function(a){if(a.major!==d.currentEncoding.major||a.minor>d.currentEncoding.minor)throw new c.UnsupportedEncodingException("",
a,d.currentEncoding);};d.getCompatibleProtocol=function(a){return a.major!==d.currentProtocol.major?a:a.minor<d.currentProtocol.minor?a:d.currentProtocol};d.getCompatibleEncoding=function(a){return a.major!==d.currentEncoding.major?a:a.minor<d.currentEncoding.minor?a:d.currentEncoding};d.isSupported=function(a,b){return a.major===b.major&&a.minor<=b.minor};c.stringToProtocolVersion=function(d){return new c.ProtocolVersion(a(d),b(d))};c.stringToEncodingVersion=function(d){return new c.EncodingVersion(a(d),
b(d))};c.protocolVersionToString=function(a){return a.major+"."+a.minor};c.encodingVersionToString=function(a){return a.major+"."+a.minor};c.Protocol=d;f.Ice=c})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Promise,c=a.Class(b,{__init__:function(a,c,d,e,h){b.call(this);void 0!==a&&(this._communicator=a,this._instance=null!==a?a.instance:null,this._operation=c,this._connection=d,this._proxy=e,this._adapter=h)},__exception:function(a){this.fail(a)}}),e=c.prototype,d=Object.defineProperty;d(e,"communicator",{get:function(){return this._communicator}});d(e,"connection",{get:function(){return this._connection}});d(e,"proxy",{get:function(){return this._proxy}});d(e,"adapter",
{get:function(){return this._adapter}});d(e,"operation",{get:function(){return this._operation}});a.AsyncResultBase=c;f.Ice=a})("undefined"===typeof global?window:global);(function(f,a){var b=f.Ice||{};b.EndpointSelectionType=Slice.defineEnum({Random:0,Ordered:1});f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};Slice.defineDictionary(b,"Context","ContextHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);b.OperationMode=Slice.defineEnum({Normal:0,Nonmutating:1,Idempotent:2});b.Current=Slice.defineStruct(function(a,e,d,g,k,m,p,h,l){this.adapter=void 0!==a?a:null;this.con=void 0!==e?e:null;this.id=void 0!==d?d:null;this.facet=void 0!==g?g:null;this.operation=void 0!==k?k:null;this.mode=void 0!==m?m:b.Normal;this.ctx=void 0!==p?p:null;this.requestId=void 0!==h?h:0;this.encoding=
void 0!==l?l:null},!1);f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=a.UnexpectedObjectException,c=a.MemoryLimitException;a.ExUtil={toString:function(a){return a.stack?a.stack:a.toString()},throwUOE:function(a,c){var g=c.ice_id();throw new b("expected element of type `"+a+"' but received '"+g,g,a);},throwMemoryLimitException:function(a,b){throw new c("requested "+a+" bytes, maximum allowed is "+b+" bytes (see Ice.MessageSizeMax)");}};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ExUtil,c=a.Debug,e=a.Class(Error,{__init__:function(b,d){d=void 0===d?!1:d;b instanceof a.LocalException?(this._ex=b,this._retry=d):(c.assert(b instanceof e),this._ex=b._ex,this._retry=b._retry)}});e.throwWrapper=function(c){if(c instanceof a.UserException)throw new e(new a.UnknownUserException(c.ice_name()),!1);if(c instanceof a.LocalException){if(c instanceof a.UnknownException||c instanceof a.ObjectNotExistException||c instanceof a.OperationNotExistException||c instanceof
a.FacetNotExistException)throw new e(c,!1);c=new a.UnknownLocalException(c.ice_name(),c);throw new e(c,!1);}c=new a.UnknownException(b.toString(c),c);throw new e(c,!1);};var d=e.prototype;Object.defineProperty(d,"inner",{get:function(){return this._ex}});Object.defineProperty(d,"retry",{get:function(){return this._retry}});a.LocalExceptionWrapper=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.ExUtil,e=a.Class({__init__:function(a,b){this._instance=a;this._interval=b;this._scheduledInterval=0;this._timerToken=-1;this._connections=[]},destroy:function(){b.assert(null!==this._instance);this._instance.timer().cancel(this._timerToken);this._connections=this._instance=null},checkIntervalForACM:function(a){if(!(0>=a)){if(0===this._interval)a=Math.floor(Math.min(300,Math.max(5,a/10)));else{if(this._scheduledInterval===this._interval)return;a=this._interval}if(0===
this._scheduledInterval||this._scheduledInterval>a){this._scheduledInterval=a;this._instance.timer().cancel(this._timerToken);var b=this;this._timerToken=this._instance.timer().scheduleRepeated(function(){b.runTimerTask()},1E3*a)}}},add:function(a){b.assert(null!==this._instance);this._connections.push(a)},remove:function(a){b.assert(null!==this._instance);a=this._connections.indexOf(a);b.assert(-1!==a);this._connections.splice(a,1)},runTimerTask:function(){for(var a=Date.now(),b=0;b<this._connections.length;++b)try{this._connections[b].monitor(a)}catch(e){if(null===
this._instance)break;var m="exception in connection monitor:\n"+c.toString(e);this._instance.initializationData().logger.error(m)}}});a.ConnectionMonitor=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Class({__init__:function(){this._connections=[]},add:function(a){this._connections.push(a)},swapConnections:function(){if(0===this._connections.length)return null;var a=this._connections;this._connections=[];return a}});a.ConnectionReaper=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){function a(a,b){var c=new h;c.__read(b);a.push("\nidentity = "+b.instance.identityToString(c));c=d.StringSeqHelper.read(b);a.push("\nfacet = ");0<c.length&&a.push(m.escapeString(c[0],""));c=b.readString();a.push("\noperation = "+c)}function b(b,c){a(b,c);var e=c.readByte();b.push("\nmode = "+e+" ");switch(p.valueOf(e)){case p.Normal:b.push("(normal)");break;case p.Nonmutating:b.push("(nonmutating)");break;case p.Idempotent:b.push("(idempotent)");break;default:b.push("(unknown)")}e=c.readSize();
for(b.push("\ncontext = ");0<e--;){var h=c.readString(),l=c.readString();b.push(h+"/"+l);0<e&&b.push(", ")}e=c.skipEncaps();e.equals(k.Encoding_1_0)||(b.push("\nencoding = "),b.push(d.encodingVersionToString(e)))}function c(c,d){d.readByte();d.readByte();d.readByte();d.readByte();d.readByte();d.readByte();d.readByte();d.readByte();var h=d.readByte();c.push("\nmessage type = "+h+" ("+e(h)+")");var r=d.readByte();c.push("\ncompression status = "+r+" ");switch(r){case 0:c.push("(not compressed; do not compress response, if any)");
break;case 1:c.push("(not compressed; compress response, if any)");break;case 2:c.push("(compressed; compress response, if any)");break;default:c.push("(unknown)")}r=d.readInt();c.push("\nmessage size = "+r);switch(h){case k.requestMsg:r=d.readInt();c.push("\nrequest id = "+r);0===r&&c.push(" (oneway)");b(c,d);break;case k.requestBatchMsg:r=d.readInt();c.push("\nnumber of requests = "+r);for(var l=0;l<r;++l)c.push("\nrequest #"+l+":"),b(c,d);break;case k.replyMsg:switch(r=d.readInt(),c.push("\nrequest id = "+
r),r=d.readByte(),c.push("\nreply status = "+r+" "),r){case k.replyOK:c.push("(ok)");break;case k.replyUserException:c.push("(user exception)");break;case k.replyObjectNotExist:case k.replyFacetNotExist:case k.replyOperationNotExist:switch(r){case k.replyObjectNotExist:c.push("(object not exist)");break;case k.replyFacetNotExist:c.push("(facet not exist)");break;case k.replyOperationNotExist:c.push("(operation not exist)");break;default:g.assert(!1)}a(c,d);break;case k.replyUnknownException:case k.replyUnknownLocalException:case k.replyUnknownUserException:switch(r){case k.replyUnknownException:c.push("(unknown exception)");
break;case k.replyUnknownLocalException:c.push("(unknown local exception)");break;case k.replyUnknownUserException:c.push("(unknown user exception)");break;default:g.assert(!1)}r=d.readString();c.push("\nunknown = "+r);break;default:c.push("(unknown)")}}return h}function e(a){switch(a){case k.requestMsg:return"request";case k.requestBatchMsg:return"batch request";case k.replyMsg:return"reply";case k.closeConnectionMsg:return"close connection";case k.validateConnectionMsg:return"validate connection";
default:return"unknown"}}var d=f.Ice||{},g=d.Debug,k=d.Protocol,m=d.StringUtil,p=d.OperationMode,h=d.Identity,l={traceSend:function(a,b,d){if(1<=d.protocol){var h=a.pos;a.pos=0;var l=[],k=c(l,a);b.trace(d.protocolCat,"sending "+e(k)+" "+l.join(""));a.pos=h}},traceRecv:function(a,b,d){if(1<=d.protocol){var h=a.pos;a.pos=0;var l=[],k=c(l,a);b.trace(d.protocolCat,"received "+e(k)+" "+l.join(""));a.pos=h}},trace:function(a,b,d,e){if(1<=e.protocol){var h=b.pos;b.pos=0;var l=[];l.push(a);c(l,b);d.trace(e.protocolCat,
l.join(""));b.pos=h}}};new d.HashMap;l.dumpStream=function(a){var b=a.pos;a.pos=0;var c=a.readBlob(a.size());l.dumpOctets(c);a.pos=b};l.dumpOctets=function(a){for(var b=[],c=0;c<a.length;c+=8){var d;for(d=c;8>d-c;d++)if(d<a.length){var e=a[d];0>e&&(e+=256);b.push((10>e?"  "+e:100>e?" "+e:""+e)+" ")}else b.push("    ");b.push('"');for(d=c;d<a.length&&8>d-c;d++)32<=a[d]&&127>a[d]?b.push(String.fromCharCode(a[d])):b.push(".");b.push('"\n')}console.log(b.join(""))};d.TraceUtil=l;f.Ice=d})("undefined"===
typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ReferenceMode,c=a.Class({__init__:function(a,c,g){this._reference=a;this._response=a.getMode()==b.ModeTwoway;this._connection=c;this._compress=g},prepareBatchRequest:function(a){this._connection.prepareBatchRequest(a)},finishBatchRequest:function(a){this._connection.finishBatchRequest(a,this._compress)},abortBatchRequest:function(){this._connection.abortBatchRequest()},sendAsyncRequest:function(a){return this._connection.sendAsyncRequest(a,this._compress,this._response)},
flushAsyncBatchRequests:function(a){return this._connection.flushAsyncBatchRequests(a)},getReference:function(){return this._reference},getConnection:function(){return this._connection},onConnection:function(a){a.succeed(this._connection,a)}});a.ConnectionRequestHandler=c;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.FormatType,c=a.EndpointSelectionType,e=a.Protocol;a.DefaultsAndOverrides=function(d){var g;this.defaultProtocol=d.getPropertyWithDefault("Ice.Default.Protocol",void 0!==a.TcpEndpointFactory?"tcp":"ws");g=d.getProperty("Ice.Default.Host");this.defaultHost=0<g.length?g:null;g=d.getProperty("Ice.Override.Timeout");0<g.length?(this.overrideTimeout=!0,this.overrideTimeoutValue=d.getPropertyAsInt("Ice.Override.Timeout")):(this.overrideTimeout=!1,this.overrideTimeoutValue=
-1);g=d.getProperty("Ice.Override.ConnectTimeout");0<g.length?(this.overrideConnectTimeout=!0,this.overrideConnectTimeoutValue=d.getPropertyAsInt("Ice.Override.ConnectTimeout")):(this.overrideConnectTimeout=!1,this.overrideConnectTimeoutValue=-1);g=d.getProperty("Ice.Override.CloseTimeout");0<g.length?(this.overrideCloseTimeout=!0,this.overrideCloseTimeoutValue=d.getPropertyAsInt("Ice.Override.CloseTimeout")):(this.overrideCloseTimeout=!1,this.overrideCloseTimeoutValue=-1);this.overrideSecure=this.overrideCompress=
!1;g=d.getPropertyWithDefault("Ice.Default.EndpointSelection","Random");if("Random"===g)this.defaultEndpointSelection=c.Random;else if("Ordered"===g)this.defaultEndpointSelection=c.Ordered;else throw d=new a.EndpointSelectionTypeParseException,d.str="illegal value `"+g+"'; expected `Random' or `Ordered'",d;this.defaultLocatorCacheTimeout=d.getPropertyAsIntWithDefault("Ice.Default.LocatorCacheTimeout",-1);this.defaultPreferSecure=0<d.getPropertyAsIntWithDefault("Ice.Default.PreferSecure",0);g=d.getPropertyWithDefault("Ice.Default.EncodingVersion",
a.encodingVersionToString(e.currentEncoding));this.defaultEncoding=a.stringToEncodingVersion(g);e.checkSupportedEncoding(this.defaultEncoding);this.defaultFormat=0<d.getPropertyAsIntWithDefault("Ice.Default.SlicedFormat",0)?b.SlicedFormat:b.CompactFormat};f.Ice=a})("undefined"===typeof global?window:global);(function(f){var a=f.Ice||{};a.CompactIdRegistry=new a.HashMap;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Class(a.Object,{__init__:function(a){this._unknownTypeId=a},getUnknownTypeId:function(){return this._unknownTypeId},__write:function(a){a.startWriteObject(this._slicedData);a.endWriteObject()},__read:function(a){a.startReadObject();this._slicedData=a.endReadObject(!0)}});a.SliceInfo=function(){this.typeId="";this.compactId=-1;this.bytes=[];this.objects=[];this.isLastSlice=this.hasOptionalMembers=!1};a.SlicedData=function(a){this.slices=a};a.UnknownSlicedObject=b;f.Ice=
a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.ExUtil,e=a.FormatType,d=a.HashMap,g=a.Object,k=a.OptionalFormat,m=a.Protocol,p=a.TraceUtil,h=a.ArrayUtil,l=a.SlicedData,q=function(a,b){this.index=a;this.patcher=b},n=a.Class,s=n({__init__:function(a,b,c,e){this._stream=a;this._encaps=b;this._sliceObjects=c;this._servantFactoryManager=e;this._patchMap=null;this._unmarshaledMap=new d;this._typeIdMap=null;this._typeIdIndex=0;this._objectList=null},readOpt:function(){return!1},readPendingObjects:function(){},
readTypeId:function(b){null===this._typeIdMap&&(this._typeIdMap=new d);if(b){if(b=this._stream.readSize(),b=this._typeIdMap.get(b),void 0===b)throw new a.UnmarshalOutOfBoundsException;}else b=this._stream.readString(),this._typeIdMap.set(++this._typeIdIndex,b);return b},newInstance:function(a){var b=this._servantFactoryManager.find(a),c=null;void 0!==b&&(c=b.create(a));if(null===c||void 0===c)b=this._servantFactoryManager.find(""),void 0!==b&&(c=b.create(a));if(null===c||void 0===c)c=this._stream.createObject(a);
return c},addPatchEntry:function(a,c){b.assert(0<a);var e=this._unmarshaledMap.get(a);void 0!==e&&null!==e?c.call(null,e):(null===this._patchMap&&(this._patchMap=new d),e=this._patchMap.get(a),void 0===e&&(e=[],this._patchMap.set(a,e)),e.push(c))},unmarshal:function(a,d){var e,h,n;this._unmarshaledMap.set(a,d);d.__read(this._stream);if(null!==this._patchMap&&(n=this._patchMap.get(a),void 0!==n)){b.assert(0<n.length);e=0;for(h=n.length;e<h;++e)n[e](d);this._patchMap.delete(a)}if(null!==this._patchMap&&
0!==this._patchMap.size||null!==this._objectList){if(null===this._objectList&&(this._objectList=[]),this._objectList.push(d),null===this._patchMap||0===this._patchMap.size){e=0;for(h=this._objectList.length;e<h;e++)try{this._objectList[e].ice_postUnmarshal()}catch(l){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+c.toString(l))}this._objectList=[]}}else try{d.ice_postUnmarshal()}catch(A){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+
c.toString(A))}}}),r=n(s,{__init__:function(a,b,c,d){s.call(this,a,b,c,d);this._sliceType=0},readObject:function(c){b.assert(null!==c);var d=this._stream.readInt();if(0<d)throw new a.MarshalException("invalid object id");d=-d;0===d?c.call(null,null):this.addPatchEntry(d,c)},throwException:function(){b.assert(0===this._sliceType);var c=this._stream.readBool();this._sliceType=2;this._skipFirstSlice=!1;this.startSlice();for(var d=this._typeId;;){var e=this._stream.createUserException(this._typeId);if(null!==
e)throw e.__read(this._stream),c&&this.readPendingObjects(),e;this.skipSlice();try{this.startSlice()}catch(h){throw h instanceof a.UnmarshalOutOfBoundsException&&(h.reason="unknown exception type `"+d+"'"),h;}}},startInstance:function(a){b.assert(this._sliceType===a);this._skipFirstSlice=!0},endInstance:function(){var b;if(1===this._sliceType){this.startSlice();b=this._stream.readSize();if(0!==b)throw new a.MarshalException("invalid Object slice");this.endSlice()}this._sliceType=0;return null},startSlice:function(){var b;
if(this._skipFirstSlice)return this._skipFirstSlice=!1,this._typeId;1===this._sliceType?(b=this._stream.readBool(),this._typeId=this.readTypeId(b)):this._typeId=this._stream.readString();this._sliceSize=this._stream.readInt();if(4>this._sliceSize)throw new a.UnmarshalOutOfBoundsException;return this._typeId},endSlice:function(){},skipSlice:function(){if(0<this._stream.instance.traceLevels().slicing){var a=this._stream.instance.initializationData().logger;1===this._sliceType?p.traceSlicing("object",
this._typeId,this._stream.instance.traceLevels().slicingCat,a):p.traceSlicing("exception",this._typeId,this._stream.instance.traceLevels().slicingCat,a)}b.assert(4<=this._sliceSize);this._stream.skip(this._sliceSize-4)},readPendingObjects:function(){var b,c;do for(b=c=this._stream.readSize();0<b;--b)this.readInstance();while(0<c);if(null!==this._patchMap&&0!==this._patchMap.size)throw new a.MarshalException("index for class received, but no instance");},readInstance:function(){var b=this._stream.readInt(),
c,d=null;if(0>=b)throw new a.MarshalException("invalid object id");this._sliceType=1;this._skipFirstSlice=!1;this.startSlice();for(c=this._typeId;;){if(this._typeId==g.ice_staticId())throw new a.NoObjectFactoryException("",c);if(d=this.newInstance(this._typeId))break;if(!this._sliceObjects)throw new a.NoObjectFactoryException("object slicing is disabled",this._typeId);this.skipSlice();this.startSlice()}this.unmarshal(b,d)}}),u=n(s,{__init__:function(a,b,c,d){s.call(this,a,b,c,d);this._current=null;
this._objectIdIndex=1},readObject:function(c){b.assert(void 0!==c);var d=this._stream.readSize();if(0>d)throw new a.MarshalException("invalid object id");if(0===d)null!==c&&c.call(null,null);else if(null!==this._current&&0!==(this._current.sliceFlags&8)){if(null!==c){null===this._current.indirectPatchList&&(this._current.indirectPatchList=[]);var e=new q;e.index=d-1;e.patcher=c;this._current.indirectPatchList.push(e)}}else this.readInstance(d,c)},throwException:function(){b.assert(null===this._current);
this.push(2);this.startSlice();for(var c=this._current.typeId;;){var d=this._stream.createUserException(this._current.typeId);if(null!==d)throw d.__read(this._stream),d;this.skipSlice();if(0!==(this._current.sliceFlags&32)){if(0===c.indexOf("::"))throw new a.UnknownUserException(c.substr(2));throw new a.UnknownUserException(c);}this.startSlice()}},startInstance:function(a){b.assert(void 0!==a);b.assert(null!==this._current.sliceType&&this._current.sliceType===a);this._current.skipFirstSlice=!0},endInstance:function(a){var b=
null;a&&(b=this.readSlicedData());null!==this._current.slices&&(this._current.slices.length=0,this._current.indirectionTables.length=0);this._current=this._current.previous;return b},startSlice:function(){if(this._current.skipFirstSlice)return this._current.skipFirstSlice=!1,this._current.typeId;this._current.sliceFlags=this._stream.readByte();1===this._current.sliceType?3===(this._current.sliceFlags&3)?(this._current.typeId="",this._current.compactId=this._stream.readSize()):(this._current.typeId=
0!==(this._current.sliceFlags&3)?this.readTypeId(0!==(this._current.sliceFlags&2)):"",this._current.compactId=-1):(this._current.typeId=this._stream.readString(),this._current.compactId=-1);if(0!==(this._current.sliceFlags&16)){if(this._current.sliceSize=this._stream.readInt(),4>this._current.sliceSize)throw new a.UnmarshalOutOfBoundsException;}else this._current.sliceSize=0;return this._current.typeId},endSlice:function(){var c,d,e=[],h;0!==(this._current.sliceFlags&4)&&this._stream.skipOpts();if(0!==
(this._current.sliceFlags&8)){h=this._stream.readAndCheckSeqSize(1);for(d=0;d<h;++d)e[d]=this.readInstance(this._stream.readSize(),null);if(0===e.length)throw new a.MarshalException("empty indirection table");if((null===this._current.indirectPatchList||0===this._current.indirectPatchList.length)&&0===(this._current.sliceFlags&4))throw new a.MarshalException("no references to indirection table");if(null!==this._current.indirectPatchList){d=0;for(h=this._current.indirectPatchList.length;d<h;++d){c=
this._current.indirectPatchList[d];b.assert(0<=c.index);if(c.index>=e.length)throw new a.MarshalException("indirection out of range");this.addPatchEntry(e[c.index],c.patcher)}this._current.indirectPatchList.length=0}}},skipSlice:function(){if(0<this._stream.instance.traceLevels().slicing){var c=this._stream.instance.initializationData().logger,d=this._stream.instance.traceLevels().slicingCat;2===this._current.sliceType?p.traceSlicing("exception",this._current.typeId,d,c):p.traceSlicing("object",this._current.typeId,
d,c)}d=this._stream.pos;if(0!==(this._current.sliceFlags&16))b.assert(4<=this._current.sliceSize),this._stream.skip(this._current.sliceSize-4);else{if(1===this._current.sliceType)throw new a.NoObjectFactoryException("compact format prevents slicing (the sender should use the sliced format instead)",this._current.typeId);if(0===this._current.typeId.indexOf("::"))throw new a.UnknownUserException(this._current.typeId.substring(2));throw new a.UnknownUserException(this._current.typeId);}c=new a.SliceInfo;
c.typeId=this._current.typeId;c.compactId=this._current.compactId;c.hasOptionalMembers=0!==(this._current.sliceFlags&4);c.isLastSlice=0!==(this._current.sliceFlags&32);var e=this._stream._buf,h=e.position,n=h;c.hasOptionalMembers&&--n;e.position=d;c.bytes=e.getArray(n-d);e.position=h;null===this._current.slices&&(this._current.slices=[],this._current.indirectionTables=[]);if(0!==(this._current.sliceFlags&8)){d=this._stream.readAndCheckSeqSize(1);e=[];for(h=0;h<d;++h)e[h]=this.readInstance(this._stream.readSize(),
null);this._current.indirectionTables.push(e)}else this._current.indirectionTables.push(null);this._current.slices.push(c)},readOpt:function(a,b){return null===this._current||0!==(this._current.sliceFlags&4)?this._stream.readOptImpl(a,b):!1},readInstance:function(c,d){b.assert(0<c);var e,h=null;if(1<c)return null!==d&&this.addPatchEntry(c,d),c;this.push(1);c=++this._objectIdIndex;this.startSlice();for(e=this._current.typeId;;){0<=this._current.compactId&&(this._current.typeId="",0===this._current.typeId.length&&
(this._current.typeId=this._stream.getTypeId(this._current.compactId)));if(0<this._current.typeId.length&&(h=this.newInstance(this._current.typeId),null!==h&&void 0!==h))break;if(!this._sliceObjects)throw new a.NoObjectFactoryException("object slicing is disabled",this._current.typeId);this.skipSlice();if(0!==(this._current.sliceFlags&32)){h=new a.UnknownSlicedObject(e);break}this.startSlice()}this.unmarshal(c,h);if(null===this._current&&null!==this._patchMap&&0!==this._patchMap.size)throw new a.MarshalException("index for class received, but no instance");
null!==d&&d.call(null,h);return c},readSlicedData:function(){var a,c,d,e,n,A;if(null===this._current.slices)return null;b.assert(this._current.slices.length===this._current.indirectionTables.length);a=0;for(c=this._current.slices.length;a<c;++a)for(d=this._current.indirectionTables[a],e=this._current.slices[a],e.objects=[],A=d?d.length:0,n=0;n<A;++n)this.addPatchEntry(d[n],v(e.objects,n,g));return new l(h.clone(this._current.slices))},push:function(a){this._current=null===this._current?new u.InstanceData(null):
this._current.next?this._current.next:new u.InstanceData(this._current);this._current.sliceType=a;this._current.skipFirstSlice=!1}});u.InstanceData=function(a){null!==a&&(a.next=this);this.previous=a;this.sliceType=this.next=null;this.skipFirstSlice=!1;this.indirectionTables=this.slices=null;this.sliceSize=this.sliceFlags=0;this.typeId=null;this.compactId=0;this.indirectPatchList=null};var v=function(a,b,d){return function(e){null===e||e instanceof d||c.throwUOE(d.ice_staticId(),e);a[b]=e}},w=n({__init__:function(a,
b){this._stream=a;this._encaps=b;this._marshaledMap=new d;this._typeIdMap=null;this._typeIdIndex=0},writeOpt:function(){return!1},writePendingObjects:function(){},registerTypeId:function(a){null===this._typeIdMap&&(this._typeIdMap=new d);var b=this._typeIdMap.get(a);if(void 0!==b)return b;this._typeIdMap.set(a,++this._typeIdIndex);return-1}}),t=n(w,{__init__:function(a,b){w.call(this,a,b);this._objectIdIndex=this._writeSlice=this._sliceType=0;this._toBeMarshaledMap=new d},writeObject:function(a){b.assert(void 0!==
a);null!==a?this._stream.writeInt(-this.registerObject(a)):this._stream.writeInt(0)},writeUserException:function(a){b.assert(null!==a&&void 0!==a);var c=a.__usesClasses();this._stream.writeBool(c);a.__write(this._stream);c&&this.writePendingObjects()},startInstance:function(a){this._sliceType=a},endInstance:function(){1===this._sliceType&&(this.startSlice(g.ice_staticId(),-1,!0),this._stream.writeSize(0),this.endSlice());this._sliceType=0},startSlice:function(a){if(1===this._sliceType){var b=this.registerTypeId(a);
0>b?(this._stream.writeBool(!1),this._stream.writeString(a)):(this._stream.writeBool(!0),this._stream.writeSize(b))}else this._stream.writeString(a);this._stream.writeInt(0);this._writeSlice=this._stream.pos},endSlice:function(){this._stream.rewriteInt(this._stream.pos-this._writeSlice+4,this._writeSlice-4)},writePendingObjects:function(){for(var a=this,b=function(b,d){a._stream.writeInt(d);try{b.ice_preMarshal()}catch(e){a._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+
c.toString(e))}b.__write(a._stream)},e;0<this._toBeMarshaledMap.size;)this._marshaledMap.merge(this._toBeMarshaledMap),e=this._toBeMarshaledMap,this._toBeMarshaledMap=new d,this._stream.writeSize(e.size),e.forEach(b);this._stream.writeSize(0)},registerObject:function(a){b.assert(null!==a);var c=this._toBeMarshaledMap.get(a);if(void 0!==c)return c;c=this._marshaledMap.get(a);if(void 0!==c)return c;this._toBeMarshaledMap.set(a,++this._objectIdIndex);return this._objectIdIndex}}),x=n(w,{__init__:function(a,
b){w.call(this,a,b);this._current=null;this._objectIdIndex=1},writeObject:function(a){b.assert(void 0!==a);var c;null===a?this._stream.writeSize(0):null!==this._current&&this._encaps.format===e.SlicedFormat?(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new d),c=this._current.indirectionMap.get(a),void 0===c&&(this._current.indirectionTable.push(a),c=this._current.indirectionTable.length,this._current.indirectionMap.set(a,c)),this._stream.writeSize(c)):
this.writeInstance(a)},writePendingObjects:function(){},writeUserException:function(a){b.assert(null!==a&&void 0!==a);a.__write(this._stream)},startInstance:function(a,b){this._current=null===this._current?new x.InstanceData(null):null===this._current.next?new x.InstanceData(this._current):this._current.next;this._current.sliceType=a;this._current.firstSlice=!0;null!==b&&void 0!==b&&this.writeSlicedData(b)},endInstance:function(){this._current=this._current.previous},startSlice:function(a,c,d){b.assert((null===
this._current.indirectionTable||0===this._current.indirectionTable.length)&&(null===this._current.indirectionMap||0===this._current.indirectionMap.size));this._current.sliceFlagsPos=this._stream.pos;this._current.sliceFlags=0;this._encaps.format===e.SlicedFormat&&(this._current.sliceFlags|=16);d&&(this._current.sliceFlags|=32);this._stream.writeByte(0);if(1===this._current.sliceType){if(this._encaps.format===e.SlicedFormat||this._current.firstSlice)0<=c?(this._current.sliceFlags|=3,this._stream.writeSize(c)):
(c=this.registerTypeId(a),0>c?(this._current.sliceFlags|=1,this._stream.writeString(a)):(this._current.sliceFlags|=2,this._stream.writeSize(c)))}else this._stream.writeString(a);0!==(this._current.sliceFlags&16)&&this._stream.writeInt(0);this._current.writeSlice=this._stream.pos;this._current.firstSlice=!1},endSlice:function(){var a,c;0!==(this._current.sliceFlags&4)&&this._stream.writeByte(255);0!==(this._current.sliceFlags&16)&&(a=this._stream.pos-this._current.writeSlice+4,this._stream.rewriteInt(a,
this._current.writeSlice-4));if(null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length){b.assert(this._encaps.format===e.SlicedFormat);this._current.sliceFlags|=8;this._stream.writeSize(this._current.indirectionTable.length);a=0;for(c=this._current.indirectionTable.length;a<c;++a)this.writeInstance(this._current.indirectionTable[a]);this._current.indirectionTable.length=0;this._current.indirectionMap.clear()}this._stream.rewriteByte(this._current.sliceFlags,this._current.sliceFlagsPos)},
writeOpt:function(a,b){return null===this._current?this._stream.writeOptImpl(a,b):this._stream.writeOptImpl(a,b)?(this._current.sliceFlags|=4,!0):!1},writeSlicedData:function(a){b.assert(null!==a&&void 0!==a);if(this._encaps.format===e.SlicedFormat){var c,h,n,l,A;c=0;for(h=a.slices.length;c<h;++c){n=a.slices[c];this.startSlice(n.typeId,n.compactId,n.isLastSlice);this._stream.writeBlob(n.bytes);n.hasOptionalMembers&&(this._current.sliceFlags|=4);if(null!==n.objects&&0<n.objects.length)for(null===this._current.indirectionTable&&
(this._current.indirectionTable=[],this._current.indirectionMap=new d),l=0,A=n.objects.length;l<A;++l)this._current.indirectionTable.push(n.objects[l]);this.endSlice()}}},writeInstance:function(a){b.assert(null!==a&&void 0!==a);var d=this._marshaledMap.get(a);if(void 0!==d)this._stream.writeSize(d);else{this._marshaledMap.set(a,++this._objectIdIndex);try{a.ice_preMarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+c.toString(e))}this._stream.writeSize(1);
a.__write(this._stream)}}});x.InstanceData=function(a){b.assert(void 0!==a);null!==a&&(a.next=this);this.previous=a;this.sliceType=this.next=null;this.firstSlice=!1;this.sliceFlagsPos=this.writeSlice=this.sliceFlags=0;this.indirectionMap=this.indirectionTable=null};var z=n({__init__:function(){this.sz=this.start=0;this.encoding=null;this.encoding_1_0=!1;this.next=this.decoder=null},reset:function(){this.decoder=null},setEncoding:function(b){this.encoding=b;this.encoding_1_0=b.equals(a.Encoding_1_0)}}),
B=n({__init__:function(){this.start=0;this.format=e.DefaultFormat;this.encoding=null;this.encoding_1_0=!1;this.next=this.encoder=null},reset:function(){this.encoder=null},setEncoding:function(b){this.encoding=b;this.encoding_1_0=b.equals(a.Encoding_1_0)}}),n=n({__init__:function(b,c,d,e){this._instance=b;this._closure=null;this._encoding=c;this._writeEncapsCache=this._readEncapsCache=this._writeEncapsStack=this._readEncapsStack=null;this._sliceObjects=!0;this._messageSizeMax=this._instance.messageSizeMax();
this._unlimited=void 0!==d?d:!1;this._sizePos=this._startSeq=-1;this._buf=void 0!==e?new a.Buffer(e):new a.Buffer},reset:function(){this._buf.reset();this.clear()},clear:function(){null!==this._readEncapsStack&&(b.assert(this._readEncapsStack.next),this._readEncapsStack.next=this._readEncapsCache,this._readEncapsCache=this._readEncapsStack,this._readEncapsCache.reset(),this._readEncapsStack=null);null!==this._writeEncapsStack&&(b.assert(this._writeEncapsStack.next),this._writeEncapsStack.next=this._writeEncapsCache,
this._writeEncapsCache=this._writeEncapsStack,this._writeEncapsCache.reset(),this._writeEncapsStack=null);this._startSeq=-1;this._sliceObjects=!0},swap:function(a){b.assert(this._instance===a._instance);var c;c=a._buf;a._buf=this._buf;this._buf=c;c=a._closure;a._closure=this._closure;this._closure=c;this.resetEncaps();a.resetEncaps();c=a._unlimited;a._unlimited=this._unlimited;this._unlimited=c;c=a._startSeq;a._startSeq=this._startSeq;this._startSeq=c;c=a._minSeqSize;a._minSeqSize=this._minSeqSize;
this._minSeqSize=c;c=a._sizePos;a._sizePos=this._sizePos;this._sizePos=c},resetEncaps:function(){this._writeEncapsStack=this._readEncapsStack=null},resize:function(a){!this._unlimited&&a>this._messageSizeMax&&c.throwMemoryLimitException(a,this._messageSizeMax);this._buf.resize(a);this._buf.position=a},prepareWrite:function(){this._buf.position=0;return this._buf},startWriteObject:function(a){b.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.startInstance(1,
a)},endWriteObject:function(){b.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.endInstance()},startReadObject:function(){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);this._readEncapsStack.decoder.startInstance(1)},endReadObject:function(a){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);return this._readEncapsStack.decoder.endInstance(a)},startWriteException:function(a){b.assert(null!==
this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.startInstance(2,a)},endWriteException:function(){b.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.endInstance()},startReadException:function(){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);this._readEncapsStack.decoder.startInstance(2)},endReadException:function(a){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);
return this._readEncapsStack.decoder.endInstance(a)},startWriteEncaps:function(a,b){void 0===a&&(null!==this._writeEncapsStack?(a=this._writeEncapsStack.encoding,b=this._writeEncapsStack.format):(a=this._encoding,b=e.DefaultFormat));m.checkSupportedEncoding(a);var c=this._writeEncapsCache;null!==c?(c.reset(),this._writeEncapsCache=this._writeEncapsCache.next):c=new B;c.next=this._writeEncapsStack;this._writeEncapsStack=c;this._writeEncapsStack.format=b;this._writeEncapsStack.setEncoding(a);this._writeEncapsStack.start=
this._buf.limit;this.writeInt(0);this._writeEncapsStack.encoding.__write(this)},endWriteEncaps:function(){b.assert(this._writeEncapsStack);var a=this._writeEncapsStack.start;this._buf.putIntAt(a,this._buf.limit-a);a=this._writeEncapsStack;this._writeEncapsStack=a.next;a.next=this._writeEncapsCache;this._writeEncapsCache=a;this._writeEncapsCache.reset()},endWriteEncapsChecked:function(){if(null===this._writeEncapsStack)throw new a.EncapsulationException("not in an encapsulation");this.endWriteEncaps()},
writeEmptyEncaps:function(a){m.checkSupportedEncoding(a);this.writeInt(6);a.__write(this)},writeEncaps:function(b){if(6>b.length)throw new a.EncapsulationException;this.expand(b.length);this._buf.putArray(b)},getWriteEncoding:function(){return null!==this._writeEncapsStack?this._writeEncapsStack.encoding:this._encoding},startReadEncaps:function(){var b=this._readEncapsCache;null!==b?(b.reset(),this._readEncapsCache=this._readEncapsCache.next):b=new z;b.next=this._readEncapsStack;this._readEncapsStack=
b;this._readEncapsStack.start=this._buf.position;b=this.readInt();if(6>b)throw new a.UnmarshalOutOfBoundsException;if(b-4>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;this._readEncapsStack.sz=b;b=new a.EncodingVersion;b.__read(this);m.checkSupportedEncoding(b);this._readEncapsStack.setEncoding(b);return b},endReadEncaps:function(){b.assert(null!==this._readEncapsStack);if(!this._readEncapsStack.encoding_1_0){if(this.skipOpts(),this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new a.EncapsulationException;
}else if(this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz){if(this._buf.position+1!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new a.EncapsulationException;try{this._buf.get()}catch(c){throw new a.UnmarshalOutOfBoundsException;}}var d=this._readEncapsStack;this._readEncapsStack=d.next;d.next=this._readEncapsCache;this._readEncapsCache=d;this._readEncapsCache.reset()},skipEmptyEncaps:function(c){b.assert(void 0!==c);if(6!==this.readInt())throw new a.EncapsulationException;
var d=this._buf.position;if(d+2>this._buf.limit)throw new a.UnmarshalOutOfBoundsException;null!==c?c.__read(this):this._buf.position=d+2},endReadEncapsChecked:function(){if(null===this._readEncapsStack)throw new a.EncapsulationException("not in an encapsulation");this.endReadEncaps()},readEncaps:function(c){b.assert(void 0!==c);var d=this.readInt();if(6>d)throw new a.UnmarshalOutOfBoundsException;if(d-4>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;null!==c?(c.__read(this),this._buf.position-=
6):this._buf.position-=4;try{return this._buf.getArray(d)}catch(e){throw new a.UnmarshalOutOfBoundsException;}},getReadEncoding:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding:this._encoding},getReadEncapsSize:function(){b.assert(null!==this._readEncapsStack);return this._readEncapsStack.sz-6},skipEncaps:function(){var b=this.readInt();if(6>b)throw new a.UnmarshalOutOfBoundsException;var c=new a.EncodingVersion;c.__read(this);try{this._buf.position=this._buf.position+
b-6}catch(d){throw new a.UnmarshalOutOfBoundsException;}return c},startWriteSlice:function(a,c,d){b.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.startSlice(a,c,d)},endWriteSlice:function(){b.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder);this._writeEncapsStack.encoder.endSlice()},startReadSlice:function(){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);return this._readEncapsStack.decoder.startSlice()},
endReadSlice:function(){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);this._readEncapsStack.decoder.endSlice()},skipSlice:function(){b.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder);this._readEncapsStack.decoder.skipSlice()},readPendingObjects:function(){null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readPendingObjects():(null!==this._readEncapsStack&&this._readEncapsStack.encoding_1_0||null===
this._readEncapsStack&&this._encoding.equals(a.Encoding_1_0))&&this.skipSize()},writePendingObjects:function(){null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writePendingObjects():(null!==this._writeEncapsStack&&this._writeEncapsStack.encoding_1_0||null===this._writeEncapsStack&&this._encoding.equals(a.Encoding_1_0))&&this.writeSize(0)},writeSize:function(a){254<a?(this.expand(5),this._buf.put(255),this._buf.putInt(a)):(this.expand(1),this._buf.put(a))},
readSize:function(){try{var b=this._buf.get();if(255===b){var c=this._buf.getInt();if(0>c)throw new a.UnmarshalOutOfBoundsException;return c}return b}catch(d){throw new a.UnmarshalOutOfBoundsException;}},readAndCheckSeqSize:function(b){var c=this.readSize();if(0===c)return c;-1===this._startSeq||this._buf.position>this._startSeq+this._minSeqSize?(this._startSeq=this._buf.position,this._minSeqSize=c*b):this._minSeqSize+=c*b;if(this._startSeq+this._minSeqSize>this._buf.limit)throw new a.UnmarshalOutOfBoundsException;
return c},startSize:function(){var a=this._buf.position;this.writeInt(0);return a},endSize:function(a){b.assert(0<=a);this.rewriteInt(this._buf.position-a-4,a)},writeBlob:function(a){null!==a&&(this.expand(a.length),this._buf.putArray(a))},readBlob:function(b){if(this._buf.remaining<b)throw new a.UnmarshalOutOfBoundsException;try{return this._buf.getArray(b)}catch(c){throw new a.UnmarshalOutOfBoundsException;}},writeOpt:function(a,c){b.assert(null!==this._writeEncapsStack);return null!==this._writeEncapsStack.encoder?
this._writeEncapsStack.encoder.writeOpt(a,c):this.writeOptImpl(a,c)},readOpt:function(a,c){b.assert(null!==this._readEncapsStack);return null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readOpt(a,c):this.readOptImpl(a,c)},writeOptValue:function(a,b,c,d){void 0!==d&&this.writeOpt(a,b)&&c.call(this,d)},readOptValue:function(a,b,c){if(this.readOpt(a,b))return c.call(this)},writeByte:function(a){this.expand(1);this._buf.put(a)},rewriteByte:function(a,b){this._buf.putAt(b,a)},readByte:function(){try{return this._buf.get()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}},writeByteSeq:function(a){null===a||0===a.length?this.writeSize(0):(this.writeSize(a.length),this.expand(a.length),this._buf.putArray(a))},readByteSeq:function(){return this._buf.getArray(this.readAndCheckSeqSize(1))},writeBool:function(a){this.expand(1);this._buf.put(a?1:0)},rewriteBool:function(a,b){this._buf.putAt(b,a?1:0)},readBool:function(){try{return 1===this._buf.get()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeShort:function(a){this.expand(2);this._buf.putShort(a)},readShort:function(){try{return this._buf.getShort()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}},writeInt:function(a){this.expand(4);this._buf.putInt(a)},rewriteInt:function(a,b){this._buf.putIntAt(b,a)},readInt:function(){try{return this._buf.getInt()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeLong:function(a){this.expand(8);this._buf.putLong(a)},readLong:function(){try{return this._buf.getLong()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeFloat:function(a){this.expand(4);this._buf.putFloat(a)},readFloat:function(){try{return this._buf.getFloat()}catch(b){throw new a.UnmarshalOutOfBoundsException;
}},writeDouble:function(a){this.expand(8);this._buf.putDouble(a)},readDouble:function(){try{return this._buf.getDouble()}catch(b){throw new a.UnmarshalOutOfBoundsException;}},writeString:function(a){null===a||0===a.length?this.writeSize(0):this._buf.writeString(this,a)},readString:function(){var b=this.readSize();if(0===b)return"";if(this._buf.remaining<b)throw new a.UnmarshalOutOfBoundsException;try{return this._buf.getString(b)}catch(c){throw new a.UnmarshalOutOfBoundsException;}},writeProxy:function(a){this._instance.proxyFactory().proxyToStream(a,
this)},writeOptProxy:function(a,b){if(void 0!==b&&this.writeOpt(a,k.FSize)){var c=this.startSize();this.writeProxy(b);this.endSize(c)}},readProxy:function(a){return this._instance.proxyFactory().streamToProxy(this,a)},readOptProxy:function(a,b){if(this.readOpt(a,k.FSize))return this.skip(4),this.readProxy(b)},writeEnum:function(a){this.isWriteEncoding_1_0()?127>a.maxValue?this.writeByte(a.value):32767>a.maxValue?this.writeShort(a.value):this.writeInt(a.value):this.writeSize(a.value)},readEnum:function(b){var c;
c=this.getReadEncoding().equals(a.Encoding_1_0)?127>b.maxValue?this.readByte():32767>b.maxValue?this.readShort():this.readInt():this.readSize();b=b.valueOf(c);if(void 0===b)throw new a.MarshalException("enumerator value "+c+" is out of range");return b},readOptEnum:function(a,b){if(this.readOpt(a,k.Size))return this.readEnum(b)},writeObject:function(a){this.initWriteEncaps();this._writeEncapsStack.encoder.writeObject(a)},writeOptObject:function(a,b){void 0!==b&&this.writeOpt(a,k.Class)&&this.writeObject(b)},
readObject:function(a,b){this.initReadEncaps();this._readEncapsStack.decoder.readObject.call(this._readEncapsStack.decoder,function(d){null===d||d.ice_instanceof(b)||c.throwUOE(b.ice_staticId(),d);a(d)})},readOptObject:function(a,b,c){this.readOpt(a,k.Class)?this.readObject(b,c):b(void 0)},writeUserException:function(a){this.initWriteEncaps();this._writeEncapsStack.encoder.writeUserException(a)},throwException:function(){this.initReadEncaps();this._readEncapsStack.decoder.throwException()},sliceObjects:function(a){this._sliceObjects=
a},readOptImpl:function(b,c){var d,e;if(this.isReadEncoding_1_0())return!1;for(;;){if(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz)return!1;d=this.readByte();if(255===d)return this._buf.position-=1,!1;e=k.valueOf(d&7);d>>=3;30===d&&(d=this.readSize());if(d>b)return e=30>d?1:255>d?2:6,this._buf.position-=e,!1;if(d<b)this.skipOpt(e);else{if(e!==c)throw new a.MarshalException("invalid optional data member `"+d+"': unexpected format");return!0}}},writeOptImpl:function(a,b){if(this.isWriteEncoding_1_0())return!1;
var c=b.value;30>a?this.writeByte(c|a<<3):(c|=240,this.writeByte(c),this.writeSize(a));return!0},skipOpt:function(b){switch(b){case k.F1:this.skip(1);break;case k.F2:this.skip(2);break;case k.F4:this.skip(4);break;case k.F8:this.skip(8);break;case k.Size:this.skipSize();break;case k.VSize:this.skip(this.readSize());break;case k.FSize:this.skip(this.readInt());break;case k.Class:this.readObject(null,a.Object)}},skipOpts:function(){for(var a,b;!(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz);){a=
this.readByte();a=0>a?a+256:a;if(255===a)break;b=k.valueOf(a&7);30===a>>3&&this.skipSize();this.skipOpt(b)}},skip:function(b){if(b>this._buf.remaining)throw new a.UnmarshalOutOfBoundsException;this._buf.position+=b},skipSize:function(){255===this.readByte()&&this.skip(4)},isEmpty:function(){return this._buf.empty()},expand:function(a){!this._unlimited&&this._buf&&this._buf.position+a>this._messageSizeMax&&c.throwMemoryLimitException(this._buf.position+a,this._messageSizeMax);this._buf.expand(a)},
createObject:function(b){var c=null,d;try{var e=2<b.length?b.substr(2).replace("::","."):"";d=eval(e);void 0!==d&&(c=new d)}catch(h){throw new a.NoObjectFactoryException("no object factory",b,h);}return c},getTypeId:function(b){b=a.CompactIdRegistry.get(b);return void 0===b?"":b},isReadEncoding_1_0:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding_1_0:this._encoding.equals(a.Encoding_1_0)},isWriteEncoding_1_0:function(){return this._writeEncapsStack?this._writeEncapsStack.encoding_1_0:
this._encoding.equals(a.Encoding_1_0)},initReadEncaps:function(){null===this._readEncapsStack&&(this._readEncapsStack=this._readEncapsCache,null!==this._readEncapsStack?this._readEncapsCache=this._readEncapsCache.next:this._readEncapsStack=new z,this._readEncapsStack.setEncoding(this._encoding),this._readEncapsStack.sz=this._buf.limit);if(null===this._readEncapsStack.decoder){var a=this._instance.servantFactoryManager();this._readEncapsStack.decoder=this._readEncapsStack.encoding_1_0?new r(this,this._readEncapsStack,
this._sliceObjects,a):new u(this,this._readEncapsStack,this._sliceObjects,a)}},initWriteEncaps:function(){this._writeEncapsStack||((this._writeEncapsStack=this._writeEncapsCache)?this._writeEncapsCache=this._writeEncapsCache.next:this._writeEncapsStack=new B,this._writeEncapsStack.setEncoding(this._encoding));this._writeEncapsStack.format===e.DefaultFormat&&(this._writeEncapsStack.format=this._instance.defaultsAndOverrides().defaultFormat);this._writeEncapsStack.encoder||(this._writeEncapsStack.encoder=
this._writeEncapsStack.encoding_1_0?new t(this,this._writeEncapsStack):new x(this,this._writeEncapsStack))},createUserException:function(b){var c=null,d;try{var e=2<b.length?b.substr(2).replace("::","."):"";d=eval(e);void 0!==d&&(c=new d)}catch(h){throw new a.MarshalException(h);}return c}}),y=Object.defineProperty;y(n.prototype,"pos",{get:function(){return this._buf.position},set:function(a){this._buf.position=a}});y(n.prototype,"size",{get:function(){return this._buf.limit}});y(n.prototype,"instance",
{get:function(){return this._instance}});y(n.prototype,"closure",{get:function(){return this._type},set:function(a){this._type=a}});y(n.prototype,"buffer",{get:function(){return this._buf}});var A=function(a,b,c,d){var e={write:function(b,c){return a.call(b,c)},read:function(a){return b.call(a)},writeOpt:function(b,c,e){b.writeOptValue(c,d,a,e)},readOpt:function(a,c){return a.readOptValue(c,d,b)}};y(e,"minWireSize",{get:function(){return c}});return e},C=n.prototype;a.ByteHelper=A(C.writeByte,C.readByte,
1,a.OptionalFormat.F1);a.BoolHelper=A(C.writeBool,C.readBool,1,a.OptionalFormat.F1);a.ShortHelper=A(C.writeShort,C.readShort,2,a.OptionalFormat.F2);a.IntHelper=A(C.writeInt,C.readInt,4,a.OptionalFormat.F4);a.LongHelper=A(C.writeLong,C.readLong,8,a.OptionalFormat.F8);a.FloatHelper=A(C.writeFloat,C.readFloat,4,a.OptionalFormat.F4);a.DoubleHelper=A(C.writeDouble,C.readDouble,8,a.OptionalFormat.F8);a.StringHelper=A(C.writeString,C.readString,1,a.OptionalFormat.VSize);a.ObjectHelper={write:function(a,
b){a.writeObject(b)},read:function(b){var c;b.readObject(function(a){c=a},a.Object);return c},writeOpt:function(b,c,d){b.writeOptValue(c,a.OptionalFormat.Class,C.writeObject,d)},readOpt:function(b,c){var d;b.readOptObject(c,function(a){d=a},a.Object);return d}};y(a.ObjectHelper,"minWireSize",{get:function(){return 1}});a.BasicStream=n;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResultBase,c=a.Debug,e=a.Protocol,d=a.UserException,g=a.BasicStream,k=a.Class(b,{__init__:function(a,c,d,l,k,n,s){b.call(this,a,c,d,l,k);void 0!==a&&(this._completed=n,this._sent=s,this._is=null,this._os=null!==a?new g(this._instance,e.currentProtocolEncoding,!1):null,this._state=0,this._exception=null)},__os:function(){return this._os},__is:function(){return this._is},__startReadParams:function(){this._is.startReadEncaps();return this._is},__endReadParams:function(){this._is.endReadEncaps()},
__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){c.assert(0!==(this._state&k.Done));if(0===(this._state&k.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(a){throw a instanceof d&&this._is.endReadEncaps(),a;}},__exception:function(a){this._state|=k.Done;this._exception=a;this._os.resize(0);this.fail(a,this)},__response:function(){null!==this.proxy&&this.proxy.ice_isTwoway()&&
(c.assert(null!==this._completed),this._completed(this))}});k.OK=1;k.Done=2;k.Sent=4;a.AsyncResult=k;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResult,c=a.BasicStream,e=a.Debug,d=a.HashMap,g=a.LocalExceptionWrapper,k=a.OperationMode,m=a.Protocol,p=a.Identity,h=a.Class(b,{__init__:function(a,c,d,e){void 0!==a?(b.call(this,a.ice_getCommunicator(),c,null,a,null,d,e),this._batch=this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram(),this._batchStarted=!1,this._timerToken=-1,this._handler=this._timerConnection=null,this._encoding=m.getCompatibleEncoding(this._proxy.__reference().getEncoding()),
this._cnt=0,this._mode=null):b.call(this)},__prepare:function(b,c,e){this._handler=null;this._cnt=0;this._mode=c;m.checkSupportedProtocol(m.getCompatibleProtocol(this._proxy.__reference().getProtocol()));null===e&&(e=h._emptyContext);if(this._batch)for(;;)try{this._handler=this._proxy.__getRequestHandler();this._handler.prepareBatchRequest(this._os);this._batchStarted=!0;break}catch(k){if(k instanceof g)this.handleExceptionWrapper(k);else if(k instanceof a.LocalException)this.handleException(k,!1);
else throw k;}else this._os.writeBlob(m.requestHdr);b=this._proxy.__reference();b.getIdentity().__write(this._os);var r=b.getFacet();null===r||0===r.length?a.StringSeqHelper.write(this._os,null):a.StringSeqHelper.write(this._os,[r]);this._os.writeString(this._operation);this._os.writeByte(c.value);if(void 0!==e){if(null!==e&&!(e instanceof d))throw Error("illegal context value, expecting null or HashMap");a.ContextHelper.write(this._os,e)}else c=b.getInstance().getImplicitContext(),e=b.getContext(),
null===c?a.ContextHelper.write(this._os,e):c.write(e,this._os)},__sent:function(a){this._state|=b.Sent;if(0===(this._state&b.Done))if(!this._proxy.ice_isTwoway())this._state=this._state|b.Done|b.OK,this._os.resize(0),this._sent?this._sent.call(null,this):this.succeed(this);else if(0<a.timeout()){e.assert(-1===this._timerToken);this._timerConnection=a;var c=this;this._timerToken=this._instance.timer().schedule(function(){c.__runTimerTask()},a.timeout())}},__finishedEx:function(c,d){e.assert(0===(this._state&
b.Done));null!==this._timerConnection&&(this._instance.timer().cancel(this._timerToken),this._timerConnection=null,this._timerToken=-1);try{var h=this.handleException(c,d);0<h?this._instance.retryQueue().add(this,h):this.__send()}catch(k){k instanceof a.LocalException?this.__exception(k):this.fail(k,this)}},__finishedWrapper:function(b){try{var c=this.handleExceptionWrapper(b);0<c?this._instance.retryQueue().add(this,c):this.__send()}catch(d){d instanceof a.LocalException?this.__exception(d):this.fail(d,
this)}},__finished:function(d){e.assert(this._proxy.ice_isTwoway());var h;try{e.assert(null===this._exception&&0===(this._state&b.Done));null!==this._timerConnection&&(e.assert(-1!==this._timerToken),this._instance.timer().cancel(this._timerToken),this._timerConnection=null,this._timerToken=-1);null===this._is&&(this._is=new c(this._instance,m.currentProtocolEncoding,!1));this._is.swap(d);h=this._is.readByte();switch(h){case m.replyOK:case m.replyUserException:break;case m.replyObjectNotExist:case m.replyFacetNotExist:case m.replyOperationNotExist:var n=
new p;n.__read(this._is);var k=a.StringSeqHelper.read(this._is),r;if(0<k.length){if(1<k.length)throw new a.MarshalException;r=k[0]}else r="";var g=this._is.readString(),f=null;switch(h){case m.replyObjectNotExist:f=new a.ObjectNotExistException;break;case m.replyFacetNotExist:f=new a.FacetNotExistException;break;case m.replyOperationNotExist:f=new a.OperationNotExistException;break;default:e.assert(!1)}f.id=n;f.facet=r;f.operation=g;throw f;case m.replyUnknownException:case m.replyUnknownLocalException:case m.replyUnknownUserException:f=
this._is.readString();n=null;switch(h){case m.replyUnknownException:n=new a.UnknownException;break;case m.replyUnknownLocalException:n=new a.UnknownLocalException;break;case m.replyUnknownUserException:n=new a.UnknownUserException;break;default:e.assert(!1)}n.unknown=f;throw n;default:throw new a.UnknownReplyStatusException;}this._state|=b.Done;h==m.replyOK&&(this._state|=b.OK)}catch(w){w instanceof a.LocalException?this.__finishedEx(w,!0):this.fail(w,this);return}e.assert(h===m.replyOK||h===m.replyUserException);
this.__response()},__send:function(){if(this._batch)e.assert(null!==this._handler),this._handler.finishBatchRequest(this._os),this.succeed(this);else for(;;){var b=0;try{this._handler=this._proxy.__getRequestHandler();this._handler.sendAsyncRequest(this);break}catch(c){if(c instanceof g)b=this.handleExceptionWrapper(c);else if(c instanceof a.LocalException)b=this.handleException(c,!1);else throw c;}if(0<b)return this._instance.retryQueue().add(this,b),!1}},__startWriteParams:function(a){this._os.startWriteEncaps(this._encoding,
a);return this._os},__endWriteParams:function(){this._os.endWriteEncaps()},__writeEmptyParams:function(){this._os.writeEmptyEncaps(this._encoding)},__writeParamEncaps:function(a){null===a||0===a.length?this._os.writeEmptyEncaps(this._encoding):this._os.writeEncaps(a)},__exception:function(a){b.prototype.__exception.call(this,a);this._batchStarted&&(e.assert(null!==this._handler),this._handler.abortBatchRequest())},handleException:function(b,c){var d={value:0};try{if(!c||b instanceof a.CloseConnectionException||
b instanceof a.ObjectNotExistException)throw b;throw new g(b,!1);}catch(e){if(e instanceof g)this._mode===k.Nonmutating||this._mode===k.Idempotent?this._cnt=this._proxy.__handleExceptionWrapperRelaxed(this._handler,e,d,this._cnt):this._proxy.__handleExceptionWrapper(this._handler,e);else if(e instanceof a.LocalException)this._cnt=this._proxy.__handleException(this._handler,e,d,this._cnt);else throw e;}return d.value},handleExceptionWrapper:function(a){var b={value:0};this._mode===k.Nonmutating||this._mode===
k.Idempotent?this._cnt=this._proxy.__handleExceptionWrapperRelaxed(this._handler,a,b,this._cnt):this._proxy.__handleExceptionWrapper(this._handler,a);return b.value},__runTimerTask:function(){var b=this._timerConnection;this._timerConnection=null;this._timerToken=-1;null!==b&&b.exception(new a.TimeoutException)}});h._emptyContext=new d;a.OutgoingAsync=h;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResult,c=a.Class(b,{__init__:function(a,c){b.call(this,a,c,null,null,null,null)},__sent:function(a){this._state=this._state|b.Done|b.OK|b.Sent;this._os.resize(0);this.succeed(this)},__finishedEx:function(a,b){this.__exception(a)}});a.BatchOutgoingAsync=c;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.BatchOutgoingAsync,c=a.Protocol,e=a.Class(b,{__init__:function(a,c){b.call(this,a.ice_getCommunicator(),c);this._proxy=a},__send:function(){c.checkSupportedProtocol(this._proxy.__reference().getProtocol());var a=null;try{a=this._proxy.__getRequestHandler(),a.flushAsyncBatchRequests(this)}catch(b){this._proxy.__handleException(a,b,0,-1)}}});a.ProxyBatchOutgoingAsync=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{};a.SocketOperation={None:0,Read:1,Write:2,Connect:2};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ExUtil,c=a.StringUtil,e=a.Identity,d=a.IdentityParseException,a=f.Ice||{};a.stringToIdentity=function(a){for(var k=new e,m=-1,p=0;-1!==(p=a.indexOf("/",p));){if(0===p||"\\"!=a.charAt(p-1))if(-1==m)m=p;else throw k=new d,k.str="unescaped backslash in identity `"+a+"'",k;p++}if(-1==m){k.category="";try{k.name=c.unescapeString(a)}catch(h){throw k=new d,k.str="invalid identity name `"+a+"': "+b.toString(h),k;}}else{try{k.category=c.unescapeString(a,0,m)}catch(l){throw k=
new d,k.str="invalid category in identity `"+a+"': "+b.toString(l),k;}if(m+1<a.length)try{k.name=c.unescapeString(a,m+1,a.length)}catch(f){throw k=new d,k.str="invalid name in identity `"+a+"': "+b.toString(f),k;}else k.name=""}return k};a.identityToString=function(a){return null===a.category||0===a.category.length?c.escapeString(a.name,"/"):c.escapeString(a.category,"/")+"/"+c.escapeString(a.name,"/")};a.proxyIdentityCompare=function(a,b){if(a===b)return 0;if(null===a&&null!==b)return-1;if(null!==
a&&null===b)return 1;var c=a.ice_getIdentity(),d=b.ice_getIdentity(),e;return 0!==(e=c.name.localeCompare(d.name))?e:c.category.localeCompare(d.category)};a.proxyIdentityAndFacetCompare=function(a,b){if(a===b)return 0;if(null===a&&null!==b)return-1;if(null!==a&&null===b)return 1;var c=a.ice_getIdentity(),d=b.ice_getIdentity(),e;if(0!==(e=c.name.localeCompare(d.name))||0!==(e=c.category.localeCompare(d.category)))return e;c=a.ice_getFacet();d=b.ice_getFacet();return null===c&&null===d?0:null===c?-1:
null===d?1:c.localeCompare(d)};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.InitializationException,e=a.Class({__init__:function(){this._context=new b},getContext:function(){return new b(this._context)},setContext:function(a){null!==a&&0<a.size?this._context=new b(a):this._context.clear()},containsKey:function(a){null===a&&(a="");return this._context.has(a)},get:function(a){null===a&&(a="");a=this._context.get(a);null===a&&(a="");return a},put:function(a,b){null===a&&(a="");null===b&&(b="");var c=this._context.get(a);null===c&&
(c="");this._context.set(a,b);return c},remove:function(a){null===a&&(a="");var b=this._context.get(a);this._context.delete(a);null===b&&(b="");return b},write:function(c,e){if(0===c.size)a.ContextHelper.write(e,this._context);else{var k=null;0===this._context.size?k=c:(k=new b(this._context),k.merge(c));a.ContextHelper.write(e,k)}}});e.create=function(a){if(0===a.length||"None"===a)return null;if("Shared"===a)return new e;throw new c("'"+a+"' is not a valid value for Ice.ImplicitContext");};a.ImplicitContextI=
e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncStatus,c=a.BasicStream,e=a.BatchOutgoingAsync,d=a.ConnectionRequestHandler,g=a.Debug,k=a.ExUtil,m=a.LocalExceptionWrapper,p=a.OutgoingAsync,h=a.Protocol,l=a.ReferenceMode,q=a.LocalException,n=a.Class({__init__:function(a,b){this._reference=a;this._response=a.getMode()===l.ModeTwoway;this._proxy=b;this._batchAutoFlush=0<a.getInstance().initializationData().properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlush",1)?!0:!1;this._batchRequestInProgress=this._flushing=
this._initialized=!1;this._batchRequestsSize=h.requestBatchHdr.length;this._batchStream=new c(a.getInstance(),h.currentProtocolEncoding,this._batchAutoFlush);this._updateRequestHandler=!1;this._connection=null;this._compress=!1;this._exception=null;this._requests=[];this._updateRequestHandler=!1;this._pendingPromises=[]},connect:function(){var a=this;this._reference.getConnection().then(function(b,c){a.setConnection(b,c)}).exception(function(b){a.setException(b)});if(this.initialized())return g.assert(null!==
this._connection),new d(this._reference,this._connection,this._compress);this._updateRequestHandler=!0;return this},prepareBatchRequest:function(a){this.initialized()?this._connection.prepareBatchRequest(a):(this._batchRequestInProgress=!0,this._batchStream.swap(a))},finishBatchRequest:function(a){this.initialized()?this._connection.finishBatchRequest(a,this._compress):(g.assert(this._batchRequestInProgress),this._batchRequestInProgress=!1,this._batchStream.swap(a),!this._batchAutoFlush&&this._batchStream.size+
this._batchRequestsSize>this._reference.getInstance().messageSizeMax()&&k.throwMemoryLimitException(this._batchStream.size+this._batchRequestsSize,this._reference.getInstance().messageSizeMax()),this._requests.push(new s(this._batchStream)))},abortBatchRequest:function(){if(this.initialized())this._connection.abortBatchRequest();else{g.assert(this._batchRequestInProgress);this._batchRequestInProgress=!1;var a=new c(this._reference.getInstance(),h.currentProtocolEncoding,this._batchAutoFlush);this._batchStream.swap(a);
this._batchRequestsSize=h.requestBatchHdr.length}},sendAsyncRequest:function(a){return this.initialized()?this._connection.sendAsyncRequest(a,this._compress,this._response):(this._requests.push(new s(a)),b.Queued)},flushAsyncBatchRequests:function(a){return this.initialized()?this._connection.flushAsyncBatchRequests(a):(this._requests.push(new s(a)),b.Queued)},getReference:function(){return this._reference},getConnection:function(){if(null!==this._exception)throw this._exception;return this._connection},
onConnection:function(a){null!==this._exception?a.__exception(this._exception):null!==this._connection?(g.assert(this._initialized),a.succeed(this._connection,a)):this._pendingPromises.push(a)},setConnection:function(a,b){g.assert(null===this._exception&&null===this._connection);g.assert(this._updateRequestHandler||0===this._requests.length);this._connection=a;this._compress=b;var c=this._reference.getRouterInfo();if(null!==c){var d=this;if(!c.addProxy(this._proxy).then(function(){d.flushRequests()}).exception(function(a){d.setException(a)}).completed())return}this.flushRequests()},
setException:function(a){g.assert(!this._initialized&&null===this._exception);g.assert(this._updateRequestHandler||0===this._requests.length);this._exception=a;this._proxy=null;0<this._requests.length&&this.flushRequestsWithException(a);for(var b=0;b<this._pendingPromises.length;++b)this._pendingPromises[b].fail(a);this._pendingPromises=[]},initialized:function(){if(this._initialized)return g.assert(null!==this._connection),!0;if(null!==this._exception)throw this._exception;return this._initialized},
flushRequests:function(){g.assert(null!==this._connection&&!this._initialized);this._flushing=!0;try{for(;0<this._requests.length;){var a=this._requests[0];if(null!==a.out)this._connection.sendAsyncRequest(a.out,this._compress,this._response);else if(null!==a.batchOut)this._connection.flushAsyncBatchRequests(a.batchOut);else{var b=new c(a.os.instance,h.currentProtocolEncoding);this._connection.prepareBatchRequest(b);try{a.os.pos=0,b.writeBlob(a.os.readBlob(a.os.size))}catch(e){throw this._connection.abortBatchRequest(),
e;}this._connection.finishBatchRequest(b,this._compress)}this._requests.shift()}}catch(n){if(n instanceof m)g.assert(null===this._exception&&0<this._requests.length),this._exception=n.inner,this.flushRequestsWithExceptionWrapper(n);else if(n instanceof q)g.assert(null===this._exception&&0<this._requests.length),this._exception=n,this.flushRequestsWithException(n);else throw n;}this._updateRequestHandler&&null===this._exception&&this._proxy.__setRequestHandler(new d(this._reference,this._connection,
this._compress));g.assert(!this._initialized);null===this._exception&&(this._initialized=!0,this._flushing=!1);this._proxy=null;for(b=0;b<this._pendingPromises.length;++b)a=this._pendingPromises[b],a.succeed(this._connection,a);this._pendingPromises=[]},flushRequestsWithException:function(a){for(var b=0;b<this._requests.length;++b){var c=this._requests[b];null!==c.out?c.out.__finishedEx(a,!1):null!==c.batchOut&&c.batchOut.__finishedEx(a,!1)}this._requests=[]},flushRequestsWithExceptionWrapper:function(a){for(var b=
0;b<this._requests.length;++b){var c=this._requests[b];null!==c.out?c.out.__finishedWrapper(a):null!==c.batchOut&&c.batchOut.__finishedEx(a.inner,!1)}this._requests=[]}});a.ConnectRequestHandler=n;f.Ice=a;var s=function(a){this.batchOut=this.out=this.os=null;a instanceof c?(this.os=new c(a.instance,h.currentProtocolEncoding),this.os.swap(a)):a instanceof p?this.out=a:(g.assert(a instanceof e),this.batchOut=a)}})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=f.Slice||{},c=a.ArrayUtil,e=a.AsyncResultBase,d=a.AsyncResult,g=a.ConnectRequestHandler,k=a.Debug,m=a.HashMap,p=a.OutgoingAsync,h=a.ProxyBatchOutgoingAsync,l=a.ReferenceMode,q=a.Class({__init__:function(){this._handler=this._reference=null},hashCode:function(a){return this._reference.hashCode()},ice_getCommunicator:function(){return this._reference.getCommunicator()},toString:function(){return this._reference.toString()},ice_getIdentity:function(){return this._reference.getIdentity().clone()},
ice_identity:function(b){if(void 0===b||null===b||0===b.name.length)throw new a.IllegalIdentityException;if(b.equals(this._reference.getIdentity()))return this;var c=new q;c.__setup(this._reference.changeIdentity(b));return c},ice_getContext:function(){return new m(this._reference.getContext())},ice_context:function(a){return this.__newInstance(this._reference.changeContext(a))},ice_getFacet:function(){return this._reference.getFacet()},ice_facet:function(a){if(void 0===a||null===a)a="";if(a===this._reference.getFacet())return this;
var b=new q;b.__setup(this._reference.changeFacet(a));return b},ice_getAdapterId:function(){return this._reference.getAdapterId()},ice_adapterId:function(a){if(void 0===a||null===a)a="";return a===this._reference.getAdapterId()?this:this.__newInstance(this._reference.changeAdapterId(a))},ice_getEndpoints:function(){return c.clone(this._reference.getEndpoints())},ice_endpoints:function(a){if(void 0===a||null===a)a=[];return c.equals(a,this._reference.getEndpoints())?this:this.__newInstance(this._reference.changeEndpoints(a))},
ice_getLocatorCacheTimeout:function(){return this._reference.getLocatorCacheTimeout()},ice_locatorCacheTimeout:function(a){return a===this._reference.getLocatorCacheTimeout()?this:this.__newInstance(this._reference.changeLocatorCacheTimeout(a))},ice_isConnectionCached:function(){return this._reference.getCacheConnection()},ice_connectionCached:function(a){return a===this._reference.getCacheConnection()?this:this.__newInstance(this._reference.changeCacheConnection(a))},ice_getEndpointSelection:function(){return this._reference.getEndpointSelection()},
ice_endpointSelection:function(a){return a===this._reference.getEndpointSelection()?this:this.__newInstance(this._reference.changeEndpointSelection(a))},ice_isSecure:function(){return this._reference.getSecure()},ice_secure:function(a){return a===this._reference.getSecure()?this:this.__newInstance(this._reference.changeSecure(a))},ice_getEncodingVersion:function(){return this._reference.getEncoding().clone()},ice_encodingVersion:function(a){return a.equals(this._reference.getEncoding())?this:this.__newInstance(this._reference.changeEncoding(a))},
ice_isPreferSecure:function(){return this._reference.getPreferSecure()},ice_preferSecure:function(a){return a===this._reference.getPreferSecure()?this:this.__newInstance(this._reference.changePreferSecure(a))},ice_getRouter:function(){var a=this._reference.getRouterInfo();return null!==a?a.getRouter():null},ice_router:function(a){a=this._reference.changeRouter(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getLocator:function(){var a=this._reference.getLocatorInfo();return null!==
a?a.getLocator():null},ice_locator:function(a){a=this._reference.changeLocator(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_isTwoway:function(){return this._reference.getMode()===l.ModeTwoway},ice_twoway:function(){return this._reference.getMode()===l.ModeTwoway?this:this.__newInstance(this._reference.changeMode(l.ModeTwoway))},ice_isOneway:function(){return this._reference.getMode()===l.ModeOneway},ice_oneway:function(){return this._reference.getMode()===l.ModeOneway?this:
this.__newInstance(this._reference.changeMode(l.ModeOneway))},ice_isBatchOneway:function(){return this._reference.getMode()===l.ModeBatchOneway},ice_batchOneway:function(){return this._reference.getMode()===l.ModeBatchOneway?this:this.__newInstance(this._reference.changeMode(l.ModeBatchOneway))},ice_isDatagram:function(){return this._reference.getMode()===l.ModeDatagram},ice_datagram:function(){return this._reference.getMode()===l.ModeDatagram?this:this.__newInstance(this._reference.changeMode(l.ModeDatagram))},
ice_isBatchDatagram:function(){return this._reference.getMode()===l.ModeBatchDatagram},ice_batchDatagram:function(){return this._reference.getMode()===l.ModeBatchDatagram?this:this.__newInstance(this._reference.changeMode(l.ModeBatchDatagram))},ice_compress:function(a){a=this._reference.changeCompress(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_timeout:function(a){a=this._reference.changeTimeout(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getConnectionId:function(){return this._reference.getConnectionId()},
ice_connectionId:function(a){a=this._reference.changeConnectionId(a);return a.equals(this._reference)?this:this.__newInstance(a)},ice_getConnection:function(){var a=new e(this._reference.getCommunicator(),"ice_getConnection",null,this,null);this.__getRequestHandler().onConnection(a);return a},ice_getCachedConnection:function(){return this._handler?this._handler.getConnection():null},ice_flushBatchRequests:function(){var a=new h(this,"ice_flushBatchRequests");try{a.__send()}catch(b){this.__handleLocalException(a,
b)}return a},equals:function(a){return this===a?!0:a instanceof q?this._reference.equals(a._reference):!1},__reference:function(){return this._reference},__copyFrom:function(a){k.assert(null===this._reference);k.assert(null===this._handler);this._reference=a._reference;this._reference.getCacheConnection()&&(this._handler=a._handler)},__handleException:function(b,c,d,e){null!==this._handler&&b._connection===this._handler._connection&&(this._handler=null);if(-1==e)throw c;try{return this._reference.getInstance().proxyFactory().checkRetryAfterException(c,
this._reference,d,e)}catch(h){if(h instanceof a.CommunicatorDestroyedException)throw c;throw h;}},__handleExceptionWrapper:function(a,b){null!==this._handler&&a._connection===this._handler._connection&&(this._handler=null);if(!b.retry)throw b.inner;},__handleExceptionWrapperRelaxed:function(a,b,c,d){return b.retry?(null!==this._handler&&a._connection===this._handler._connection&&(this._handler=null),d):this.__handleException(a,b.inner,c,d)},__checkAsyncTwowayOnly:function(a){if(!this.ice_isTwoway())throw Error("`"+
a+"' can only be called with a twoway proxy");},ice_invoke:function(b,c,e,h,l){l&&null===h&&(h=new a.HashMap);var k=this;l=function(b){try{var c=[];0===(g._state&d.OK)?c.push(!1):c.push(!0);k._reference.getMode()===a.ReferenceMode.ModeTwoway&&c.push(b._is.readEncaps(null));c.push(b);b.succeed.apply(b,c)}catch(e){q.__dispatchLocalException(b,e)}};var g=new p(this,b,l,l);try{g.__prepare(b,c,h),g.__writeParamEncaps(e),g.__send()}catch(m){this.__handleLocalException(g,m)}return g},__getRequestHandler:function(){return this._reference.getCacheConnection()?
null!==this._handler?this._handler:this._handler=this.__createRequestHandler():this.__createRequestHandler()},__setRequestHandler:function(a){this._reference.getCacheConnection()&&(this._handler=a)},__createRequestHandler:function(){return(new g(this._reference,this)).connect()},__setup:function(a){k.assert(null===this._reference);this._reference=a},__newInstance:function(a){var b=new this.constructor;b.__setup(a);return b},__handleLocalException:function(b,c){if(c instanceof a.LocalException)b.__exception(c);
else throw c;},ice_instanceof:function(a){return a?this instanceof a?!0:this.constructor.__instanceof(a):!1}});q.__invoke=function(a,b,c,d,e,h,l,k,g){(null!==l||0<k.length)&&a.__checkAsyncTwowayOnly(b);var m=new p(a,b,function(a){q.__completed(a,l,k)});try{m.__prepare(b,c,e);if(null===h)m.__writeEmptyParams();else{var f=m.__startWriteParams(d);h.call(null,f,g);m.__endWriteParams()}m.__send()}catch(A){a.__handleLocalException(m,A)}return m};q.__completed=function(a,b,c){if(q.__check(a,c))try{if(null===
b)a.__readEmptyParams(),a.succeed(a);else{var d=b(a);a.succeed.apply(a,d)}}catch(e){q.__dispatchLocalException(a,e)}};q.__returns_bool=function(a,b){b.push(a.readBool())};q.__returns_byte=function(a,b){b.push(a.readByte())};q.__returns_short=function(a,b){b.push(a.readShort())};q.__returns_int=function(a,b){b.push(a.readInt())};q.__returns_long=function(a,b){b.push(a.readLong())};q.__returns_float=function(a,b){b.push(a.readFloat())};q.__returns_double=function(a,b){b.push(a.readDouble())};q.__returns_string=
function(a,b){b.push(a.readString())};q.__returns_ObjectPrx=function(a,b){b.push(a.readProxy())};q.__returns_Object=function(b,c){b.readObject(function(a){c.push(a)},a.Object);b.readPendingObjects()};q.__check=function(b,c){try{b.__throwUserException()}catch(d){if(d instanceof a.UserException){if(null!==c)for(var e=0;e<c.length;++e)if(d instanceof c[e])return b.fail(d,b),!1;b.fail(new a.UnknownUserException(d.ice_name()),b)}else b.fail(d,b);return!1}return!0};q.__dispatchLocalException=function(a,
b){a.fail(b,a)};q.ice_staticId=a.Object.ice_staticId;q.checkedCast=function(b,c,d){var h=null;if(void 0===b||null===b)h=new e(null,"checkedCast",null,null,null),h.succeed(null,h);else{void 0!==c&&(b=b.ice_facet(c));var l=new this;l.__copyFrom(b);h=new e(b.ice_getCommunicator(),"checkedCast",null,l,null);b.ice_isA(this.ice_staticId(),d).then(function(a,b){h.succeed(b?l:null,h)}).exception(function(b){b instanceof a.FacetNotExistException?h.succeed(null,h):h.fail(b,h)})}return h};q.uncheckedCast=function(a,
b){var c=null;void 0!==a&&null!==a&&(c=new this,void 0!==b&&(a=a.ice_facet(b)),c.__copyFrom(a));return c};Object.defineProperty(q,"minWireSize",{get:function(){return 2}});q.write=function(a,b){a.writeProxy(b)};q.read=function(a){return a.readProxy(this)};q.writeOpt=function(a,b,c){a.writeOptProxy(b,c)};q.readOpt=function(a,b){return a.readOptProxy(b,this)};q.__instanceof=function(a){if(a===this)return!0;for(var b in this.__implements)if(this.__implements[b].__instanceof(a))return!0;return this.__parent?
this.__parent.__instanceof(a):!1};b.defineProxy=function(a,b,c){var d=function(){a.call(this)};d.__parent=a;d.__implements=c;d.prototype=new a;d.prototype.constructor=d;d.ice_staticId=b;d.checkedCast=q.checkedCast;d.uncheckedCast=q.uncheckedCast;d.write=q.write;d.writeOpt=q.writeOpt;d.read=q.read;d.readOpt=q.readOpt;d.__instanceof=q.__instanceof;Object.defineProperty(d,"minWireSize",{get:function(){return 2}});return d};a.ObjectPrx=q;f.Slice=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){function a(a){var b=a[0],c=typeof b;"number"===c?b=l[a[0]]:"string"===c&&(b=eval(b));return{type:b,isObject:!0===a[1],tag:a[2]}}function b(b,c){var d={},e,h;d.name=b;d.mode=c[1]?m.OperationMode.valueOf(c[1]):m.OperationMode.Normal;d.sendMode=c[2]?m.OperationMode.valueOf(c[2]):m.OperationMode.Normal;d.amd=c[3]?!0:!1;d.format=c[4]?m.FormatType.valueOf(c[4]):m.FormatType.DefaultFormat;d.servantMethod=d.amd?b+"_async":c[0]?c[0]:b;var l;c[5]&&(l=a(c[5]),l.pos=0);d.returns=l;var k=[],g=[];
if(c[6])for(e=0;e<c[6].length;++e)h=a(c[6][e]),h.pos=e,k.push(h),h.tag&&g.push(h);g.sort(function(a,b){return a.tag-b.tag});d.inParams=k;d.inParamsOpt=g;k=[];g=[];if(c[7]){var p=l?1:0;for(e=0;e<c[7].length;++e)h=a(c[7][e]),h.pos=e+p,k.push(h),h.tag&&g.push(h)}l&&l.tag&&g.push(l);g.sort(function(a,b){return a.tag-b.tag});d.outParams=k;d.outParamsOpt=g;h=[];if(c[8])for(e=0;e<c[8].length;++e)h.push(c[8][e]);d.exceptions=h;d.sendsClasses=!0===c[9];d.returnsClasses=!0===c[10];return d}function c(a,b,c,
d,e,h,l){var k,g,A;for(k=0;k<c.length;++k)g=c[k],g.tag||(A=g.type.read(a),h[g.pos+l]=A);b&&(A=b.type.read(a),h[b.pos+l]=A);for(k=0;k<d.length;++k)g=d[k],A=g.type.readOpt(a,g.tag),h[g.pos+l]=A;e&&a.readPendingObjects()}function e(a,b,c,d,e,h){var l,k;for(l=0;l<d.length;++l)k=d[l],k.tag||k.type.write(a,b[k.pos]);c&&c.type.write(a,b[c.pos]);for(l=0;l<e.length;++l)k=e[l],k.type.writeOpt(a,k.tag,b[k.pos]);h&&a.writePendingObjects()}function d(a,b,c){for(var e,h=0;void 0===e&&h<a.length;++h){var l=a[h];
e=l[b];void 0===e&&(-1===c.indexOf(l)&&c.push(l),l.__implements&&(e=d(l.__implements,b,c)))}return e}function g(a,b){var e=s+b,h=a[e],l;if(void 0===h){l=[];for(var k=a;k&&void 0===h;)k.__implements&&(h=d(k.__implements,e,l)),k=k.__parent;void 0!==h&&(a[e]=h)}if(void 0===h){var g;a.__ops&&(g=a.__ops.find(b));var p;if(void 0===g){for(k=a.__parent;void 0===g&&k;)k.__ops&&void 0!==(g=k.__ops.find(b))&&(p=k),k=k.__parent;for(k=0;void 0===g&&k<l.length;++k){var f=l[k];f.__ops&&void 0!==(g=f.__ops.find(b))&&
(p=f)}}void 0!==g&&(h=function(a,b,d){var e;var h=g,l=a[h.servantMethod];if(void 0===l||"function"!==typeof l){var k="servant for identity "+d.adapter.getCommunicator().identityToString(d.id)+" does not define operation `"+h.servantMethod+"'";console.log(k);throw new m.UnknownException(k);}var p=new n(b,h);try{var r=h.amd?[null]:[];if(0===h.inParams.length)b.readEmptyParams();else{var s=b.startReadParams(),f=h.amd?1:0;c(s,void 0,h.inParams,h.inParamsOpt,h.sendsClasses,r,f);b.endReadParams();if(0<
h.inParams.length&&(h.sendsClasses||0<h.inParamsOpt.length))for(b=0;b<h.inParams.length;++b){var q=h.inParams[b];q.isObject&&void 0!==r[q.pos+f]&&(r[q.pos+f]=r[q.pos+f].value)}}r.push(d);if(h.amd){r[0]=p;try{l.apply(a,r)}catch(u){p.ice_exception(u)}e=m.DispatchStatus.DispatchAsync}else{var v=h.outParams.length;h.returns&&++v;var w=l.apply(a,r);if(1<v&&!(w instanceof Array))throw k="operation `"+h.servantMethod+"' should return an array of length "+numParams,console.log(k),new m.MarshalException(k);
1===v&&(w=[w]);p.__sendResponse(w);e=m.DispatchStatus.DispatchOK}}catch(B){if(p.__checkException(B))p.__sendException(B),e=m.DispatchStatus.DispatchUserException;else throw B;}return e},a[e]=h,p&&(p[e]=h))}return h}function k(a,d,h){var l=null;a.prototype[h[0]?h[0]:d]=function(){var a=arguments;null===l&&(l=b(d,h));var k=a[l.inParams.length],g=null;0<l.inParams.length&&(g=function(a,b){e(a,b,void 0,l.inParams,l.inParamsOpt,l.sendsClasses)});var p=null;if(l.returns||0<l.outParams.length)p=function(a){var b=
[],d=a.__startReadParams(),e;l.returns&&!l.returns.tag&&(e=l.returns);c(d,e,l.outParams,l.outParamsOpt,l.returnsClasses,b,0);a.__endReadParams();if(l.returnsClasses||0<l.outParamsOpt.length)for(l.returns&&l.returns.isObject&&void 0!==b[l.returns.pos+0]&&(b[l.returns.pos+0]=b[l.returns.pos+0].value),d=0;d<l.outParams.length;++d)e=l.outParams[d],e.isObject&&void 0!==b[e.pos+0]&&(b[e.pos+0]=b[e.pos+0].value);b.push(a);return b};return m.ObjectPrx.__invoke(this,l.name,l.sendMode,l.format,k,g,p,l.exceptions,
Array.prototype.slice.call(a))}}var m=f.Ice||{},p=f.Slice||{},h=m.Class,l=[m.ByteHelper,m.BoolHelper,m.ShortHelper,m.IntHelper,m.LongHelper,m.FloatHelper,m.DoubleHelper,m.StringHelper,m.Object,m.ObjectPrx],q=h({__init__:function(a){this.raw=a;this.parsed={}},find:function(a){var c=this.parsed[a];void 0===c&&void 0!==this.raw[a]&&(c=b(a,this.raw[a]),this.parsed[a]=c);return c}}),n=h({__init__:function(a,b){this.incomingAsync=a;this.op=b},ice_response:function(){var a=arguments;if(this.incomingAsync.__validateResponse(!0))try{this.__sendResponse(a),
this.incomingAsync.__response()}catch(b){this.incomingAsync.__exception(b)}},ice_exception:function(a){this.__checkException(a)?this.incomingAsync.__validateResponse(!1)&&(this.__sendException(a),this.incomingAsync.__response()):this.incomingAsync.ice_exception(a)},__sendResponse:function(a){if(void 0===this.op.returns&&0===this.op.outParams.length){if(a&&0<a.length)throw Error("ice_response called with invalid arguments");this.incomingAsync.__writeEmptyParams()}else{var b=this.incomingAsync.__startWriteParams(this.op.format),
c;this.op.returns&&!this.op.returns.tag&&(c=this.op.returns);e(b,a,c,this.op.outParams,this.op.outParamsOpt,this.op.returnsClasses);this.incomingAsync.__endWriteParams(!0)}},__checkException:function(a){for(var b=0;b<this.op.exceptions.length;++b)if(a instanceof this.op.exceptions[b])return!0;return!1},__sendException:function(a){this.incomingAsync.__writeUserException(a,this.op.format)}}),s="__op_";p.defineOperations=function(a,b,c){c&&(a.__ops=new q(c));a.prototype.__dispatch=function(b,c){var d=
g(a,c.operation);if(void 0===d||"function"!==typeof d)throw new m.OperationNotExistException(c.id,c.facet,c.operation);return d.call(d,this,b,c)};if(c)for(var d in c)k(b,d,c[d]);if(b.__implements)for(var e in b.__implements){c=b.__implements[e].prototype;for(var h in c)"function"==typeof c[h]&&void 0===b.prototype[h]&&(b.prototype[h]=c[h])}};p.defineOperations(m.Object,m.ObjectPrx,{ice_ping:[,1,1,,,,,,],ice_isA:[,1,1,,,[1],[[7]],,],ice_id:[,1,1,,,[7],,,],ice_ids:[,1,1,,,["Ice.StringSeqHelper"],,,
]});f.Slice=p;f.Ice=m})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.Debug,e=a.Class({__init__:function(){this._adapterEndpointsTable=new b;this._objectTable=new b;this._objectTable.keyComparator=b.compareEquals},clear:function(){this._adapterEndpointsTable.clear();this._objectTable.clear()},getAdapterEndpoints:function(a,b,c){if(0===b)return c.value=!1,null;a=this._adapterEndpointsTable.get(a);if(void 0!==a)return c.value=this.checkTTL(a.time,b),a.endpoints;c.value=!1;return null},addAdapterEndpoints:function(a,b){this._adapterEndpointsTable.set(a,
new d(Date.now(),b))},removeAdapterEndpoints:function(a){var b=this._adapterEndpointsTable.get(a);this._adapterEndpointsTable.delete(a);return void 0!==b?b.endpoints:null},getObjectReference:function(a,b,c){if(0===b)return c.value=!1,null;a=this._objectTable.get(a);if(void 0!==a)return c.value=this.checkTTL(a.time,b),a.reference;c.value=!1;return null},addObjectReference:function(a,b){this._objectTable.set(a,new g(Date.now(),b))},removeObjectReference:function(a){var b=this._objectTable.get(a);this._objectTable.delete(a);
return void 0!==b?b.reference:null},checkTTL:function(a,b){c.assert(0!==b);return 0>b?!0:Date.now()-a<=1E3*b}});a.LocatorTable=e;f.Ice=a;var d=function(a,b){this.time=a;this.endpoints=b},g=function(a,b){this.time=a;this.reference=b}})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};b.AdapterNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::AdapterNotFoundException",void 0,void 0,!1,!1);b.InvalidReplicaGroupIdException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::InvalidReplicaGroupIdException",void 0,void 0,!1,!1);b.AdapterAlreadyActiveException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::AdapterAlreadyActiveException",
void 0,void 0,!1,!1);b.ObjectNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::ObjectNotFoundException",void 0,void 0,!1,!1);b.ServerNotFoundException=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"Ice::ServerNotFoundException",void 0,void 0,!1,!1);b.Locator=Slice.defineObject(void 0,b.Object,void 0,0,["::Ice::Locator","::Ice::Object"],-1,void 0,void 0,!1);b.LocatorPrx=Slice.defineProxy(b.ObjectPrx,b.Locator.ice_staticId,
void 0);Slice.defineOperations(b.Locator,b.LocatorPrx,{findObjectById:[,2,1,1,,[9],[[b.Identity]],,[b.ObjectNotFoundException],,],findAdapterById:[,2,1,1,,[9],[[7]],,[b.AdapterNotFoundException],,],getRegistry:[,2,1,,,["Ice.LocatorRegistryPrx"],,,,,]});b.LocatorRegistry=Slice.defineObject(void 0,b.Object,void 0,0,["::Ice::LocatorRegistry","::Ice::Object"],-1,void 0,void 0,!1);b.LocatorRegistryPrx=Slice.defineProxy(b.ObjectPrx,b.LocatorRegistry.ice_staticId,void 0);Slice.defineOperations(b.LocatorRegistry,
b.LocatorRegistryPrx,{setAdapterDirectProxy:[,2,2,1,,,[[7],[9]],,[b.AdapterAlreadyActiveException,b.AdapterNotFoundException],,],setReplicatedAdapterDirectProxy:[,2,2,1,,,[[7],[7],[9]],,[b.AdapterAlreadyActiveException,b.AdapterNotFoundException,b.InvalidReplicaGroupIdException],,],setServerProcessProxy:[,2,2,1,,,[[7],["Ice.ProcessPrx"]],,[b.ServerNotFoundException],,]});f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=a.Class({__init__:function(a){this._prefix=void 0!==a&&0<a.length?a+": ":""},print:function(a){this.write(a,!1)},trace:function(a,b){var d=[];d.push("-- ");d.push(this.timestamp());d.push(" ");d.push(this._prefix);d.push(a);d.push(": ");d.push(b);this.write(d.join(""),!0)},warning:function(a){var b=[];b.push("-! ");b.push(this.timestamp());b.push(" ");b.push(this._prefix);b.push("warning: ");b.push(a);this.write(b.join(""),!0)},error:function(a){var b=[];b.push("!! ");
b.push(this.timestamp());b.push(" ");b.push(this._prefix);b.push("error: ");b.push(a);this.write(b.join(""),!0)},cloneWithPrefix:function(a){return new b(a)},write:function(a,b){b&&(a=a.replace(/\n/g,"\n   "));console.log(a)},timestamp:function(){var a=new Date,b=a.getMonth()+1,b=10>b?"0"+b:b,d=a.getDate();return b+"-"+(10>d?"0"+d:d)+"-"+a.getFullYear()+" "+a.toLocaleTimeString()+"."+a.getMilliseconds()}});a.Logger=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.BatchOutgoingAsync;a.ConnectionBatchOutgoingAsync=a.Class(b,{__init__:function(a,e,d){b.call(this,e,d);this._connection=a},__send:function(){this._connection.flushAsyncBatchRequests(this)}});f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};b.Router=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1);b.RouterPrx=Slice.defineProxy(b.ObjectPrx,b.Router.ice_staticId,void 0);Slice.defineOperations(b.Router,b.RouterPrx,{getClientProxy:[,2,1,,,[9],,,,,],getServerProxy:[,2,1,,,[9],,,,,],addProxy:[,2,2,,,,[[9]],,,,],addProxies:[,2,2,,,["Ice.ObjectProxySeqHelper"],[["Ice.ObjectProxySeqHelper"]],,,,]});f.Ice=b})("undefined"===typeof global?window:global,"undefined"===
typeof require?void 0:require);(function(f){var a=f.Ice||{},b=function(a,b,d){this._pattern=a;this._deprecated=b;this._deprecatedBy=d};Object.defineProperty(b.prototype,"pattern",{get:function(){return this._pattern}});Object.defineProperty(b.prototype,"deprecated",{get:function(){return this._deprecated}});Object.defineProperty(b.prototype,"deprecatedBy",{get:function(){return this._deprecatedBy}});a.Property=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.AlreadyRegisteredException,e=a.NotRegisteredException,d=a.Class({__init__:function(){this._factoryMap=new b},add:function(a,b){var d;if(void 0!==this._factoryMap.get(b))throw d=new c,d.id=b,d.kindOfObject="object factory",d;this._factoryMap.set(b,a)},remove:function(a){var b;b=this._factoryMap.get(a);if(void 0===b)throw b=new e,b.id=a,b.kindOfObject="object factory",b;this._factoryMap.delete(a);b.destroy()},find:function(a){return this._factoryMap.get(a)},
destroy:function(){var a=this._factoryMap.entries;for(this._factoryMap=new b;null!==a;)a.value.destroy(),a=a.next}});a.ObjectFactoryManager=d;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};Object.defineProperty(b,"TCPEndpointType",{value:1});Object.defineProperty(b,"UDPEndpointType",{value:3});b.EndpointInfo=Slice.defineLocalObject(function(a,b){this.timeout=void 0!==a?a:0;this.compress=void 0!==b?b:!1});b.Endpoint=Slice.defineLocalObject();b.IPEndpointInfo=Slice.defineLocalObject(function(a,e,d,g){b.EndpointInfo.call(this,a,e);this.host=void 0!==d?d:null;this.port=void 0!==g?g:0},b.EndpointInfo);b.TCPEndpointInfo=Slice.defineLocalObject(function(a,e,
d,g){b.IPEndpointInfo.call(this,a,e,d,g)},b.IPEndpointInfo);b.UDPEndpointInfo=Slice.defineLocalObject(function(a,e,d,g,k,m){b.IPEndpointInfo.call(this,a,e,d,g);this.mcastInterface=void 0!==k?k:null;this.mcastTtl=void 0!==m?m:0},b.IPEndpointInfo);b.OpaqueEndpointInfo=Slice.defineLocalObject(function(a,e,d,g){b.EndpointInfo.call(this,a,e);this.rawEncoding=void 0!==d?d:null;this.rawBytes=void 0!==g?g:null},b.EndpointInfo);f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?
void 0:require);
(function(f){var a=f.Ice||{},b=a.Base64,c=a.HashUtil,e=a.Protocol,d=a.StringUtil,g=a.Class,k=g(a.Endpoint,{streamWrite:function(b){b.writeShort(this._type);b.startWriteEncaps(this._rawEncoding,a.FormatType.DefaultFormat);b.writeBlob(this._rawBytes);b.endWriteEncaps()},toString:function(){var c=b.encode(this._rawBytes);return"opaque -t "+this._type+" -e "+a.encodingVersionToString(this._rawEncoding)+" -v "+c},getInfo:function(){return new m(-1,!1,this._rawEncoding,this._rawBytes,this._type)},type:function(){return this._type},
protocol:function(){return"opaque"},timeout:function(){return-1},changeTimeout:function(a){return this},changeConnectionId:function(a){return this},compress:function(){return!1},changeCompress:function(a){return this},datagram:function(){return!1},secure:function(){return!1},rawBytes:function(){return this._rawBytes},transceiver:function(a){return a.value=null},acceptor:function(a,b){a.value=this;return null},connect:function(){return null},hashCode:function(){return this._hashCode},equals:function(a){if(!(a instanceof
k))return!1;if(this===a)return!0;if(this._type!==a._type||!this._rawEncoding.equals(a._rawEncoding)||this._rawBytes.length!==a._rawBytes.length)return!1;for(var b=0;b<this._rawBytes.length;b++)if(this._rawBytes[b]!==a._rawBytes[b])return!1;return!0},compareTo:function(a){if(this===a)return 0;if(null===a)return 1;if(!(a instanceof k))return this.type()<a.type()?-1:1;if(this._type<a._type)return-1;if(a._type<this._type)return 1;if(this._rawEncoding.major<a._rawEncoding.major)return-1;if(a._rawEncoding.major<
this._rawEncoding.major)return 1;if(this._rawEncoding.minor<a._rawEncoding.minor)return-1;if(a._rawEncoding.minor<this._rawEncoding.minor)return 1;if(this._rawBytes.length<a._rawBytes.length)return-1;if(a._rawBytes.length<this._rawBytes.length)return 1;for(var b=0;b<this._rawBytes.length;b++){if(this._rawBytes[b]<a._rawBytes[b])return-1;if(a._rawBytes[b]<this._rawBytes[b])return 1}return 0},calcHashValue:function(){var a;a=c.addNumber(5381,this._type);a=c.addHashable(a,this._rawEncoding);this._hashCode=
a=c.addArray(a,this._rawBytes,c.addNumber)}});k.fromString=function(c){var h=new k;h._rawEncoding=e.Encoding_1_0;for(var l=0,g=0,n=c.split(/[ \t\n\r]+/),m=0;m<n.length;)if(0===n[m].length)m++;else{var f=n[m++];if(2!=f.length&&"-"!=f.charAt(0))throw new a.EndpointParseException("expected an endpoint option but found `"+f+"' in endpoint `opaque "+c+"'");var u=null;m<n.length&&"-"!=n[m].charAt(0)&&(u=n[m++]);switch(f.charAt(1)){case "t":if(null===u)throw new a.EndpointParseException("no argument provided for -t option in endpoint `opaque "+
c+"'");var v;try{v=d.toInt(u)}catch(w){throw new a.EndpointParseException("invalid type value `"+u+"' in endpoint `opaque "+c+"'");}if(0>v||65535<v)throw new a.EndpointParseException("type value `"+u+"' out of range in endpoint `opaque "+c+"'");h._type=v;++l;if(1<l)throw new a.EndpointParseException("multiple -t options in endpoint `opaque "+c+"'");break;case "v":if(null===u||0===u.length)throw new a.EndpointParseException("no argument provided for -v option in endpoint `opaque "+c+"'");for(f=0;f<
u.length;++f)if(!b.isBase64(u.charAt(f)))throw new a.EndpointParseException("invalid base64 character `"+u.charAt(f)+"' (ordinal "+u.charCodeAt(f)+") in endpoint `opaque "+c+"'");h._rawBytes=b.decode(u);++g;if(1<g)throw new a.EndpointParseException("multiple -v options in endpoint `opaque "+c+"'");break;case "e":if(null===u)throw new a.EndpointParseException("no argument provided for -e option in endpoint `opaque "+c+"'");try{h._rawEncoding=a.stringToEncodingVersion(u)}catch(t){throw new a.EndpointParseException("invalid encoding version `"+
u+"' in endpoint `opaque "+c+"':\n"+t.str);}break;default:throw new a.EndpointParseException("invalid option `"+f+"' in endpoint `opaque "+c+"'");}}if(1!=l)throw new a.EndpointParseException("no -t option in endpoint `opaque "+c+"'");if(1!=g)throw new a.EndpointParseException("no -v option in endpoint `opaque "+c+"'");h.calcHashValue();return h};k.fromStream=function(a,b){var c=new k;c._type=a;c._rawEncoding=b.startReadEncaps();var d=b.getReadEncapsSize();c._rawBytes=b.readBlob(d);b.endReadEncaps();
c.calcHashValue();return c};a.OpaqueEndpointI=k;var m=g(a.OpaqueEndpointInfo,{__init__:function(b,c,d,e,k){a.OpaqueEndpointInfo.call(this,-1,!1,d,e);this._type=k},type:function(){return this._type},datagram:function(){return!1},secure:function(){return!1}});f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Class({create:function(a){throw Error("not implemented");},destroy:function(){throw Error("not implemented");}});a.ObjectFactory=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||a,b={},c=a.Property;b.IceProps=[new c("/^Ice.ACM.Client/",!1,null),new c("/^Ice.ACM.Server/",!1,null),new c("/^Ice.Admin.ACM/",!1,null),new c("/^Ice.Admin.AdapterId/",!1,null),new c("/^Ice.Admin.Endpoints/",!1,null),new c("/^Ice.Admin.Locator.EndpointSelection/",!1,null),new c("/^Ice.Admin.Locator.ConnectionCached/",!1,null),new c("/^Ice.Admin.Locator.PreferSecure/",!1,null),new c("/^Ice.Admin.Locator.LocatorCacheTimeout/",!1,null),new c("/^Ice.Admin.Locator.Locator/",!1,
null),new c("/^Ice.Admin.Locator.Router/",!1,null),new c("/^Ice.Admin.Locator.CollocationOptimized/",!1,null),new c("/^Ice.Admin.Locator/",!1,null),new c("/^Ice.Admin.PublishedEndpoints/",!1,null),new c("/^Ice.Admin.ReplicaGroupId/",!1,null),new c("/^Ice.Admin.Router.EndpointSelection/",!1,null),new c("/^Ice.Admin.Router.ConnectionCached/",!1,null),new c("/^Ice.Admin.Router.PreferSecure/",!1,null),new c("/^Ice.Admin.Router.LocatorCacheTimeout/",!1,null),new c("/^Ice.Admin.Router.Locator/",!1,null),
new c("/^Ice.Admin.Router.Router/",!1,null),new c("/^Ice.Admin.Router.CollocationOptimized/",!1,null),new c("/^Ice.Admin.Router/",!1,null),new c("/^Ice.Admin.ProxyOptions/",!1,null),new c("/^Ice.Admin.ThreadPool.Size/",!1,null),new c("/^Ice.Admin.ThreadPool.SizeMax/",!1,null),new c("/^Ice.Admin.ThreadPool.SizeWarn/",!1,null),new c("/^Ice.Admin.ThreadPool.StackSize/",!1,null),new c("/^Ice.Admin.ThreadPool.Serialize/",!1,null),new c("/^Ice.Admin.ThreadPool.ThreadIdleTime/",!1,null),new c("/^Ice.Admin.ThreadPool.ThreadPriority/",
!1,null),new c("/^Ice.Admin.DelayCreation/",!1,null),new c("/^Ice.Admin.Facets/",!1,null),new c("/^Ice.Admin.InstanceName/",!1,null),new c("/^Ice.Admin.ServerId/",!1,null),new c("/^Ice.BackgroundLocatorCacheUpdates/",!1,null),new c("/^Ice.BatchAutoFlush/",!1,null),new c("/^Ice.ChangeUser/",!1,null),new c("/^Ice.ClientAccessPolicyProtocol/",!1,null),new c("/^Ice.Compression.Level/",!1,null),new c("/^Ice.Config/",!1,null),new c("/^Ice.ConsoleListener/",!1,null),new c("/^Ice.Default.CollocationOptimized/",
!1,null),new c("/^Ice.Default.EncodingVersion/",!1,null),new c("/^Ice.Default.EndpointSelection/",!1,null),new c("/^Ice.Default.Host/",!1,null),new c("/^Ice.Default.Locator.EndpointSelection/",!1,null),new c("/^Ice.Default.Locator.ConnectionCached/",!1,null),new c("/^Ice.Default.Locator.PreferSecure/",!1,null),new c("/^Ice.Default.Locator.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Locator.Locator/",!1,null),new c("/^Ice.Default.Locator.Router/",!1,null),new c("/^Ice.Default.Locator.CollocationOptimized/",
!1,null),new c("/^Ice.Default.Locator/",!1,null),new c("/^Ice.Default.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Package/",!1,null),new c("/^Ice.Default.PreferSecure/",!1,null),new c("/^Ice.Default.Protocol/",!1,null),new c("/^Ice.Default.Router.EndpointSelection/",!1,null),new c("/^Ice.Default.Router.ConnectionCached/",!1,null),new c("/^Ice.Default.Router.PreferSecure/",!1,null),new c("/^Ice.Default.Router.LocatorCacheTimeout/",!1,null),new c("/^Ice.Default.Router.Locator/",!1,null),new c("/^Ice.Default.Router.Router/",
!1,null),new c("/^Ice.Default.Router.CollocationOptimized/",!1,null),new c("/^Ice.Default.Router/",!1,null),new c("/^Ice.Default.SlicedFormat/",!1,null),new c("/^Ice.IPv4/",!1,null),new c("/^Ice.IPv6/",!1,null),new c("/^Ice.EventLog.Source/",!1,null),new c("/^Ice.FactoryAssemblies/",!1,null),new c("/^Ice.GC.Interval/",!1,null),new c("/^Ice.ImplicitContext/",!1,null),new c("/^Ice.InitPlugins/",!1,null),new c("/^Ice.LogFile/",!1,null),new c("/^Ice.MessageSizeMax/",!1,null),new c("/^Ice.MonitorConnections/",
!1,null),new c("/^Ice.Nohup/",!1,null),new c("/^Ice.NullHandleAbort/",!1,null),new c("/^Ice.Override.CloseTimeout/",!1,null),new c("/^Ice.Override.Compress/",!1,null),new c("/^Ice.Override.ConnectTimeout/",!1,null),new c("/^Ice.Override.Timeout/",!1,null),new c("/^Ice.Override.Secure/",!1,null),new c("/^Ice.Package../",!1,null),new c("/^Ice.Plugin../",!1,null),new c("/^Ice.PluginLoadOrder/",!1,null),new c("/^Ice.PreferIPv6Address/",!1,null),new c("/^Ice.PrintAdapterReady/",!1,null),new c("/^Ice.PrintProcessId/",
!1,null),new c("/^Ice.PrintStackTraces/",!1,null),new c("/^Ice.ProgramName/",!1,null),new c("/^Ice.RetryIntervals/",!1,null),new c("/^Ice.ServerIdleTime/",!1,null),new c("/^Ice.SOCKSProxyHost/",!1,null),new c("/^Ice.SOCKSProxyPort/",!1,null),new c("/^Ice.StdErr/",!1,null),new c("/^Ice.StdOut/",!1,null),new c("/^Ice.SyslogFacility/",!1,null),new c("/^Ice.ThreadPool.Client.Size/",!1,null),new c("/^Ice.ThreadPool.Client.SizeMax/",!1,null),new c("/^Ice.ThreadPool.Client.SizeWarn/",!1,null),new c("/^Ice.ThreadPool.Client.StackSize/",
!1,null),new c("/^Ice.ThreadPool.Client.Serialize/",!1,null),new c("/^Ice.ThreadPool.Client.ThreadIdleTime/",!1,null),new c("/^Ice.ThreadPool.Client.ThreadPriority/",!1,null),new c("/^Ice.ThreadPool.Server.Size/",!1,null),new c("/^Ice.ThreadPool.Server.SizeMax/",!1,null),new c("/^Ice.ThreadPool.Server.SizeWarn/",!1,null),new c("/^Ice.ThreadPool.Server.StackSize/",!1,null),new c("/^Ice.ThreadPool.Server.Serialize/",!1,null),new c("/^Ice.ThreadPool.Server.ThreadIdleTime/",!1,null),new c("/^Ice.ThreadPool.Server.ThreadPriority/",
!1,null),new c("/^Ice.ThreadPriority/",!1,null),new c("/^Ice.Trace.Admin.Properties/",!1,null),new c("/^Ice.Trace.GC/",!1,null),new c("/^Ice.Trace.Locator/",!1,null),new c("/^Ice.Trace.Network/",!1,null),new c("/^Ice.Trace.Protocol/",!1,null),new c("/^Ice.Trace.Retry/",!1,null),new c("/^Ice.Trace.Slicing/",!1,null),new c("/^Ice.Trace.ThreadPool/",!1,null),new c("/^Ice.UDP.RcvSize/",!1,null),new c("/^Ice.UDP.SndSize/",!1,null),new c("/^Ice.TCP.Backlog/",!1,null),new c("/^Ice.TCP.RcvSize/",!1,null),
new c("/^Ice.TCP.SndSize/",!1,null),new c("/^Ice.UseApplicationClassLoader/",!1,null),new c("/^Ice.UseSyslog/",!1,null),new c("/^Ice.Warn.AMICallback/",!1,null),new c("/^Ice.Warn.Connections/",!1,null),new c("/^Ice.Warn.Datagrams/",!1,null),new c("/^Ice.Warn.Dispatch/",!1,null),new c("/^Ice.Warn.Endpoints/",!1,null),new c("/^Ice.Warn.UnknownProperties/",!1,null),new c("/^Ice.Warn.UnusedProperties/",!1,null),new c("/^Ice.CacheMessageBuffers/",!1,null)];b.validProps=[b.IceProps];b.clPropNames=["Ice"];
a.PropertyNames=b;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{},c=f.IceMX||{};Slice.defineDictionary(c,"StringIntDict","StringIntDictHelper","Ice.StringHelper","Ice.IntHelper",!1,!1);c.Metrics=Slice.defineObject(function(a,c,g,k,m){b.Object.call(this);this.id=void 0!==a?a:null;this.total=void 0!==c?c:new b.Long(0,0);this.current=void 0!==g?g:0;this.totalLifetime=void 0!==k?k:new b.Long(0,0);this.failures=void 0!==m?m:0},b.Object,void 0,1,["::Ice::Object","::IceMX::Metrics"],-1,function(a){a.writeString(this.id);a.writeLong(this.total);
a.writeInt(this.current);a.writeLong(this.totalLifetime);a.writeInt(this.failures)},function(a){this.id=a.readString();this.total=a.readLong();this.current=a.readInt();this.totalLifetime=a.readLong();this.failures=a.readInt()},!1);c.MetricsPrx=Slice.defineProxy(b.ObjectPrx,c.Metrics.ice_staticId,void 0);Slice.defineOperations(c.Metrics,c.MetricsPrx);c.MetricsFailures=Slice.defineStruct(function(a,b){this.id=void 0!==a?a:null;this.failures=void 0!==b?b:null},!1,function(a){a.writeString(this.id);c.StringIntDictHelper.write(a,
this.failures)},function(a){this.id=a.readString();this.failures=c.StringIntDictHelper.read(a)},2,!1);Slice.defineSequence(c,"MetricsFailuresSeqHelper","IceMX.MetricsFailures",!1);Slice.defineSequence(c,"MetricsMapHelper","Ice.ObjectHelper",!1,"IceMX.Metrics");Slice.defineDictionary(c,"MetricsView","MetricsViewHelper","Ice.StringHelper","IceMX.MetricsMapHelper",!1,!1);c.UnknownMetricsView=Slice.defineUserException(function(a){b.UserException.call(this,a)},b.UserException,"IceMX::UnknownMetricsView",
void 0,void 0,!1,!1);c.MetricsAdmin=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::IceMX::MetricsAdmin"],-1,void 0,void 0,!1);c.MetricsAdminPrx=Slice.defineProxy(b.ObjectPrx,c.MetricsAdmin.ice_staticId,void 0);Slice.defineOperations(c.MetricsAdmin,c.MetricsAdminPrx,{getMetricsViewNames:[,,,,2,["Ice.StringSeqHelper"],,[["Ice.StringSeqHelper"]],,,],enableMetricsView:[,,,,2,,[[7]],,[c.UnknownMetricsView],,],disableMetricsView:[,,,,2,,[[7]],,[c.UnknownMetricsView],,],getMetricsView:[,
,,,2,["IceMX.MetricsViewHelper"],[[7]],[[4]],[c.UnknownMetricsView],,!0],getMapMetricsFailures:[,,,,2,["IceMX.MetricsFailuresSeqHelper"],[[7],[7]],,[c.UnknownMetricsView],,],getMetricsFailures:[,,,,2,[c.MetricsFailures],[[7],[7],[7]],,[c.UnknownMetricsView],,]});c.ThreadMetrics=Slice.defineObject(function(a,b,g,k,m,f,h,l){c.Metrics.call(this,a,b,g,k,m);this.inUseForIO=void 0!==f?f:0;this.inUseForUser=void 0!==h?h:0;this.inUseForOther=void 0!==l?l:0},c.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics",
"::IceMX::ThreadMetrics"],-1,function(a){a.writeInt(this.inUseForIO);a.writeInt(this.inUseForUser);a.writeInt(this.inUseForOther)},function(a){this.inUseForIO=a.readInt();this.inUseForUser=a.readInt();this.inUseForOther=a.readInt()},!1);c.ThreadMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.ThreadMetrics.ice_staticId,void 0);Slice.defineOperations(c.ThreadMetrics,c.ThreadMetricsPrx);c.DispatchMetrics=Slice.defineObject(function(a,d,g,k,m,f,h,l){c.Metrics.call(this,a,d,g,k,m);this.userException=void 0!==
f?f:0;this.size=void 0!==h?h:new b.Long(0,0);this.replySize=void 0!==l?l:new b.Long(0,0)},c.Metrics,void 0,1,["::Ice::Object","::IceMX::DispatchMetrics","::IceMX::Metrics"],-1,function(a){a.writeInt(this.userException);a.writeLong(this.size);a.writeLong(this.replySize)},function(a){this.userException=a.readInt();this.size=a.readLong();this.replySize=a.readLong()},!1);c.DispatchMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.DispatchMetrics.ice_staticId,void 0);Slice.defineOperations(c.DispatchMetrics,
c.DispatchMetricsPrx);c.RemoteMetrics=Slice.defineObject(function(a,d,g,k,m,f,h){c.Metrics.call(this,a,d,g,k,m);this.size=void 0!==f?f:new b.Long(0,0);this.replySize=void 0!==h?h:new b.Long(0,0)},c.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::RemoteMetrics"],-1,function(a){a.writeLong(this.size);a.writeLong(this.replySize)},function(a){this.size=a.readLong();this.replySize=a.readLong()},!1);c.RemoteMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.RemoteMetrics.ice_staticId,void 0);Slice.defineOperations(c.RemoteMetrics,
c.RemoteMetricsPrx);c.InvocationMetrics=Slice.defineObject(function(a,b,g,k,f,p,h,l){c.Metrics.call(this,a,b,g,k,f);this.retry=void 0!==p?p:0;this.userException=void 0!==h?h:0;this.remotes=void 0!==l?l:null},c.Metrics,void 0,1,["::Ice::Object","::IceMX::InvocationMetrics","::IceMX::Metrics"],-1,function(a){a.writeInt(this.retry);a.writeInt(this.userException);c.MetricsMapHelper.write(a,this.remotes)},function(a){this.retry=a.readInt();this.userException=a.readInt();this.remotes=c.MetricsMapHelper.read(a)},
!1);c.InvocationMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.InvocationMetrics.ice_staticId,void 0);Slice.defineOperations(c.InvocationMetrics,c.InvocationMetricsPrx);c.ConnectionMetrics=Slice.defineObject(function(a,d,g,k,f,p,h){c.Metrics.call(this,a,d,g,k,f);this.receivedBytes=void 0!==p?p:new b.Long(0,0);this.sentBytes=void 0!==h?h:new b.Long(0,0)},c.Metrics,void 0,1,["::Ice::Object","::IceMX::ConnectionMetrics","::IceMX::Metrics"],-1,function(a){a.writeLong(this.receivedBytes);a.writeLong(this.sentBytes)},
function(a){this.receivedBytes=a.readLong();this.sentBytes=a.readLong()},!1);c.ConnectionMetricsPrx=Slice.defineProxy(c.MetricsPrx,c.ConnectionMetrics.ice_staticId,void 0);Slice.defineOperations(c.ConnectionMetrics,c.ConnectionMetricsPrx);f.IceMX=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};b.ConnectionInfo=Slice.defineLocalObject(function(a,b,d){this.incoming=void 0!==a?a:!1;this.adapterName=void 0!==b?b:null;this.connectionId=void 0!==d?d:null});b.Connection=Slice.defineLocalObject();b.IPConnectionInfo=Slice.defineLocalObject(function(a,e,d,g,k,f,p){b.ConnectionInfo.call(this,a,e,d);this.localAddress=void 0!==g?g:"";this.localPort=void 0!==k?k:-1;this.remoteAddress=void 0!==f?f:"";this.remotePort=void 0!==p?p:-1},b.ConnectionInfo);b.TCPConnectionInfo=
Slice.defineLocalObject(function(a,e,d,g,k,f,p){b.IPConnectionInfo.call(this,a,e,d,g,k,f,p)},b.IPConnectionInfo);b.UDPConnectionInfo=Slice.defineLocalObject(function(a,e,d,g,k,f,p,h,l){b.IPConnectionInfo.call(this,a,e,d,g,k,f,p);this.mcastAddress=void 0!==h?h:null;this.mcastPort=void 0!==l?l:-1},b.IPConnectionInfo);f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=a.Logger,c=null;a.getProcessLogger=function(){null===c&&(c=new b("",""));return c};a.setProcessLogger=function(a){c=a};f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.CommunicatorDestroyedException,e=a.Class({__init__:function(a){this._instance=a;this._destroyed=!1;this._tokenId=0;this._tokens=new b},destroy:function(){var a=this;this._tokens.forEach(function(b,c){a.cancel(b)});this._destroyed=!0;this._tokens.clear()},schedule:function(a,b){if(this._destroyed)throw new c;var e=this._tokenId++,f=this,p=setTimeout(function(){f.handleTimeout(e)},b);this._tokens.set(e,{callback:a,id:p,isInterval:!1});return e},scheduleRepeated:function(a,
b){if(this._destroyed)throw new c;var e=this._tokenId++,f=this,p=setInterval(function(){f.handleInterval(e)},b);this._tokens.set(e,{callback:a,id:p,isInterval:!0});return e},cancel:function(a){if(this._destroyed)return!1;var b=this._tokens.get(a);if(void 0===b)return!1;this._tokens.delete(a);b.isInterval?clearInterval(b.id):clearTimeout(b.id);return!0},handleTimeout:function(a){if(!this._destroyed){var b=this._tokens.get(a);void 0!==b&&(this._tokens.delete(a),b.callback())}},handleInterval:function(a){this._destroyed||
(a=this._tokens.get(a),void 0!==a&&a.callback())}});a.Timer=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{};b.Process=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::Process"],-1,void 0,void 0,!1);b.ProcessPrx=Slice.defineProxy(b.ObjectPrx,b.Process.ice_staticId,void 0);Slice.defineOperations(b.Process,b.ProcessPrx,{shutdown:[,,,,,,,,,,],writeMessage:[,,,,,,[[7],[3]],,,,]});f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f,a){var b=f.Ice||{};Slice.defineDictionary(b,"PropertyDict","PropertyDictHelper","Ice.StringHelper","Ice.StringHelper",!1,!1);b.PropertiesAdmin=Slice.defineObject(void 0,b.Object,void 0,1,["::Ice::Object","::Ice::PropertiesAdmin"],-1,void 0,void 0,!1);b.PropertiesAdminPrx=Slice.defineProxy(b.ObjectPrx,b.PropertiesAdmin.ice_staticId,void 0);Slice.defineOperations(b.PropertiesAdmin,b.PropertiesAdminPrx,{getProperty:[,,,,,[7],[[7]],,,,],getPropertiesForPrefix:[,,,,,["Ice.PropertyDictHelper"],
[[7]],,,,],setProperties:[,,,1,,,[["Ice.PropertyDictHelper"]],,,,]});f.Ice=b})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=a.StringUtil,c=a.HashMap,e=a.PropertyNames,d=a.Debug,g=a.getProcessLogger,k=a.InitializationException,m=a.Class({__init__:function(a,b){this._properties=new c;if(void 0!==b&&null!==b)for(var d=b._properties.entries;null!==d;d=d.next)this._properties.set(d.key,{value:d.value.value,used:!1});if(void 0!==a&&null!==a)for(var d=this.parseIceCommandLineOptions(a),e=a.length=0;e<d.length;++e)a.push(d[e])},getProperty:function(a){return this.getPropertyWithDefault(a,"")},getPropertyWithDefault:function(a,
b){var c=this._properties.get(a);return void 0!==c?(c.used=!0,c.value):b},getPropertyAsInt:function(a){return this.getPropertyAsIntWithDefault(a,0)},getPropertyAsIntWithDefault:function(a,b){var c=this._properties.get(a);return void 0!==c?(c.used=!0,parseInt(c.value)):b},getPropertyAsList:function(a){return this.getPropertyAsListWithDefault(a,0)},getPropertyAsListWithDefault:function(a,c){if(void 0===c||null===c)c=[];var d=this._properties.get(a);if(void 0!==d){d.used=!0;d=b.splitString(d.value,", \t\r\n");
if(null===d)return g().warning("mismatched quotes in property "+a+"'s value, returning default value"),c;0===d.length&&(d=c);return d}return c},getPropertiesForPrefix:function(a){for(var b=new c,d=this._properties.entries;null!==d;d=d.next)if(void 0===a||null===a||0===d.key.indexOf(a))d.value.used=!0,b.set(d.key,d.value.value);return b},setProperty:function(a,b){null!==a&&void 0!==a&&(a=a.trim());var c=g();if(null===a||void 0===a||0===a.length)throw new k("Attempt to set property with empty key");
var f=a.indexOf(".");if(-1!==f)for(var n=a.substr(0,f),m=0;m<e.validProps.length;++m){var r=e.validProps[m][0].pattern,f=r.indexOf(".");d.assert(-1!=f);if(r.substring(0,f-1)==n){for(var u=!1,f=!1,v,w=0;w<e.validProps[m][w].length&&!u&&(r=e.validProps[m][w].pattern(),u=RegExp(r),(u=u.test(a))&&e.validProps[m][w].deprecated&&(c.warning("deprecated property: "+a),null!==e.validProps[m][w].deprecatedBy&&(a=e.validProps[m][w].deprecatedBy)),!u);++w)if(u=RegExp(r.toUpperCase()),u=u.test(a.toUpperCase())){f=
!0;v=r.substr(2);v=v.substr(0,v.length-1);v=v.replace(/\\/g,"");break}u?f&&c.warning("unknown property: `"+a+"'; did you mean `"+v+"'"):c.warning("unknown property: "+a)}}void 0!==b&&null!==b&&0<b.length?(c=this._properties.get(a),void 0!==c?c.value=b:this._properties.set(a,{value:b,used:!1})):this._properties.delete(a)},getCommandLineOptions:function(){for(var a=[],b=this._properties.entries;null!==b;b=b.next)a.push("--"+b.key+"="+b.pv.value);return a},parseCommandLineOptions:function(a,b){0<a.length&&
"."!=a.charAt(a.length-1)&&(a+=".");a="--"+a;var c=[],d=this;b.forEach(function(b){0===b.indexOf(a)?(-1===b.indexOf("=")&&(b+="=1"),d.parseLine(b.substring(2))):c.push(b)});return c},parseIceCommandLineOptions:function(a){a=a.slice();for(var b=0;b<e.clPropNames.length;++b)a=this.parseCommandLineOptions(e.clPropNames[b],a);return a},parse:function(a){a=a.match(/[^\r\n]+/g);for(var b;b=a.shift();)this.parseLine(b)},parseLine:function(a){for(var b="",c="",d=0,e="",k="",f=!1,m=0;m<a.length;++m){var v=
a.charAt(m);switch(d){case 0:switch(v){case "\\":if(m<a.length-1)switch(v=a.charAt(++m),v){case "\\":case "#":case "=":b+=e;e="";b+=v;break;case " ":0!==b.length&&(e+=v);break;default:b+=e,e="",b+="\\",b+=v}else b+=e,b+=v;break;case " ":case "\t":case "\r":case "\n":0!==b.length&&(e+=v);break;case "=":e="";d=1;break;case "#":f=!0;break;default:b+=e,e="",b+=v}break;case 1:switch(v){case "\\":if(m<a.length-1)switch(v=a.charAt(++m),v){case "\\":case "#":case "=":c+=0===c.length?k:e;k=e="";c+=v;break;
case " ":e+=v;k+=v;break;default:c+=0===c.length?k:e,k=e="",c+="\\",c+=v}else c+=0===c.length?k:e,c+=v;break;case " ":case "\t":case "\r":case "\n":0!==c.length&&(e+=v);break;case "#":c+=k;f=!0;break;default:c+=0===c.length?k:e,k=e="",c+=v}}if(f)break}c+=k;0===d&&0!==b.length||1==d&&0===b.length?g().warning('invalid config file entry: "'+a+'"'):0!==b.length&&this.setProperty(b,c)},clone:function(){return new m(null,this)},getUnusedProperties:function(){for(var a=[],b=this._properties.entries;null!==
b;b=b.next)b.pv.used||a.push(b.key);return a}});m.createProperties=function(a,b){return new m(a,b)};a.Properties=m;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.ExUtil,e=a.HashMap,d=a.StringUtil,g=a.Class({__init__:function(a,b){this._instance=a;this._adapterName=b;this._servantMapMap=new e;this._servantMapMap.keyComparator=e.compareEquals;this._defaultServantMap=new e;this._locatorMap=new e},addServant:function(c,g,f){b.assert(null!==this._instance);null===f&&(f="");var h=this._servantMapMap.get(g);if(void 0===h)h=new e,this._servantMapMap.set(g,h);else if(h.has(f))throw c=new a.AlreadyRegisteredException,c.id=
this._instance.identityToString(g),c.kindOfObject="servant",0<f.length&&(c.id+=" -f "+d.escapeString(f,"")),c;h.set(f,c)},addDefaultServant:function(c,d){b.assert(null!==this._instance);if(void 0!==this._defaultServantMap.get(d)){var e=new a.AlreadyRegisteredException;e.kindOfObject="default servant";e.id=d;throw e;}this._defaultServantMap.set(d,c)},removeServant:function(c,e){b.assert(null!==this._instance);null===e&&(e="");var g=this._servantMapMap.get(c);if(void 0===g||!g.has(e))throw g=new a.NotRegisteredException,
g.id=this._instance.identityToString(c),g.kindOfObject="servant",0<e.length&&(g.id+=" -f "+d.escapeString(e,"")),g;var h=g.get(e);g.delete(e);0===g.size&&this._servantMapMap.delete(c);return h},removeDefaultServant:function(c){b.assert(null!==this._instance);var d=this._defaultServantMap.get(c);if(void 0===d)throw d=new a.NotRegisteredException,d.kindOfObject="default servant",d.id=c,d;this._defaultServantMap.delete(c);return d},removeAllFacets:function(c){b.assert(null!==this._instance);var d=this._servantMapMap.get(c);
if(void 0===d)throw d=new a.NotRegisteredException,d.id=this._instance.identityToString(c),d.kindOfObject="servant",d;this._servantMapMap.delete(c);return d},findServant:function(a,b){null===b&&(b="");var c=this._servantMapMap.get(a),d=null;void 0===c?(d=this._defaultServantMap.get(a.category),void 0===d&&(d=this._defaultServantMap.get(""))):d=c.get(b);return void 0===d?null:d},findDefaultServant:function(a){b.assert(null!==this._instance);a=this._defaultServantMap.get(a);return void 0===a?null:a},
findAllFacets:function(a){b.assert(null!==this._instance);a=this._servantMapMap.get(a);return void 0!==a?a.clone():new e},hasServant:function(a){a=this._servantMapMap.get(a);if(void 0===a)return!1;b.assert(0<a.size);return!0},addServantLocator:function(c,e){b.assert(null!==this._instance);if(void 0!==this._locatorMap.get(e)){var g=new a.AlreadyRegisteredException;g.id=d.escapeString(e,"");g.kindOfObject="servant locator";throw g;}this._locatorMap.set(e,c)},removeServantLocator:function(c){b.assert(null!==
this._instance);var e=this._locatorMap.get(c);if(void 0===e)throw e=new a.NotRegisteredException,e.id=d.escapeString(c,""),e.kindOfObject="servant locator",e;this._locatorMap.delete(c);return e},findServantLocator:function(a){a=this._locatorMap.get(a);return void 0===a?null:a},destroy:function(){b.assert(null!==this._instance);var a=this._instance.initializationData().logger;this._servantMapMap.clear();var d=this._locatorMap.clone();this._locatorMap.clear();this._instance=null;for(d=d.entries;null!==
d;d=d.next){var e=d.value;try{e.deactivate(d.key)}catch(h){e="exception during locator deactivation:\nobject adapter: `"+this._adapterName+"'\nlocator category: `"+d.key+"'\n"+c.toString(h),a.error(e)}}}});a.ServantManager=g;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b={generateUUID:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var d=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?d:d&7|8).toString(16)})}};a.UUID=b;a.generateUUID=b.generateUUID;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.ExUtil,e=a.HashMap,d=a.Promise,g=a.Protocol,k=a.LocatorRegisterPrx,m=a.Class,p=m({__init__:function(a,b,c){this._locator=a;this._locatorRegistry=null;this._table=b;this._background=c;this._adapterRequests=new e;this._objectRequests=new e;this._objectRequests.keyComparator=e.compareEquals},destroy:function(){this._locatorRegistry=null;this._table.clear()},equals:function(a){return this===a?!0:a instanceof p?this._locator.equals(a._locator):!1},hashCode:function(){return this._locator.hashCode()},
getLocator:function(){return this._locator},getLocatorRegistry:function(){if(null!==this._locatorRegistry)return(new d).succeed(this._locatorRegistry);var a=this;return this._locator.getRegistry().then(function(b){a._locatorRegistry=k.uncheckedCast(b.ice_locator(null));return a._locatorRegistry})},getEndpoints:function(a,c,e,h){h=h||new d;b.assert(a.isIndirect());var l=null,g={value:!1};if(a.isWellKnown()){c=this._table.getObjectReference(a.getIdentity(),e,g);if(!g.value)if(this._background&&null!==
c)this.getObjectRequest(a).addCallback(a,null,e,null);else return this.getObjectRequest(a).addCallback(a,null,e,h),h;if(!c.isIndirect())l=c.getEndpoints();else if(!c.isWellKnown())return this.getEndpoints(c,a,e,h),h}else if(l=this._table.getAdapterEndpoints(a.getAdapterId(),e,g),!g.value)if(this._background&&null!==l)this.getAdapterRequest(a).addCallback(a,c,e,null);else return this.getAdapterRequest(a).addCallback(a,c,e,h),h;b.assert(null!==l);1<=a.getInstance().traceLevels().location&&this.getEndpointsTrace(a,
l,!0);h.succeed(l,!0);return h},clearCache:function(a){b.assert(a.isIndirect());if(a.isWellKnown()){var c=this._table.removeObjectReference(a.getIdentity());null!==c&&(c.isIndirect()?c.isWellKnown()||this.clearCache(c):2<=a.getInstance().traceLevels().location&&this.trace("removed endpoints from locator table",a,c.getEndpoints()))}else c=this._table.removeAdapterEndpoints(a.getAdapterId()),null!==c&&2<=a.getInstance().traceLevels().location&&this.trace("removed endpoints from locator table\n",a,c)},
trace:function(a,c,d){b.assert(c.isIndirect());var e=[];e.push(a);e.push("\n");c.isWellKnown()?(e.push("object = "),e.push(c.getInstance().identityToString(c.getIdentity()))):(e.push("adapter = "),e.push(c.getAdapterId()));e.push("\n");e.push("endpoints = ");for(a=0;a<d.length;a++)e.push(d[a].toString()),a+1<d.length&&e.push(":");c.getInstance().initializationData().logger.trace(c.getInstance().traceLevels().locationCat,e.join(""))},getEndpointsException:function(d,e){b.assert(d.isIndirect());var h=
d.getInstance(),l;try{throw e;}catch(g){if(g instanceof a.AdapterNotFoundException)throw 1<=h.traceLevels().location&&(l=[],l.push("adapter not found\n"),l.push("adapter = "),l.push(d.getAdapterId()),h.initializationData().logger.trace(h.traceLevels().locationCat,l.join(""))),l=new a.NotRegisteredException,l.kindOfObject="object adapter",l.id=d.getAdapterId(),l;if(g instanceof a.ObjectNotFoundException)throw 1<=h.traceLevels().location&&(l=[],l.push("object not found\n"),l.push("object = "),l.push(h.identityToString(d.getIdentity())),
h.initializationData().logger.trace(h.traceLevels().locationCat,l.join(""))),l=new a.NotRegisteredException,l.kindOfObject="object",l.id=h.identityToString(d.getIdentity()),l;if(g instanceof a.NotRegisteredException)throw g;if(g instanceof a.LocalException)throw 1<=h.traceLevels().location&&(l=[],l.push("couldn't contact the locator to retrieve adapter endpoints\n"),0<d.getAdapterId().length?(l.push("adapter = "),l.push(d.getAdapterId())):(l.push("object = "),l.push(h.identityToString(d.getIdentity()))),
l.push("\n"),l.push("reason = "+c.toString(g)),h.initializationData().logger.trace(h.traceLevels().locationCat,l.join(""))),g;b.assert(!1)}},getEndpointsTrace:function(a,b,c){null!==b&&0<b.length?c?this.trace("found endpoints in locator table",a,b):this.trace("retrieved endpoints from locator, adding to locator table",a,b):(b=a.getInstance(),c=[],c.push("no endpoints configured for "),0<a.getAdapterId().length?(c.push("adapter\n"),c.push("adapter = "),c.push(a.getAdapterId())):(c.push("object\n"),
c.push("object = "),c.push(b.identityToString(a.getIdentity()))),c.push("\n"),b.initializationData().logger.trace(b.traceLevels().locationCat,c.join("")))},getAdapterRequest:function(a){if(1<=a.getInstance().traceLevels().location){var b=a.getInstance(),c=[];c.push("searching for adapter by id\n");c.push("adapter = ");c.push(a.getAdapterId());b.initializationData().logger.trace(b.traceLevels().locationCat,c.join(""))}b=this._adapterRequests.get(a.getAdapterId());if(void 0!==b)return b;b=new n(this,
a);this._adapterRequests.set(a.getAdapterId(),b);return b},getObjectRequest:function(a){if(1<=a.getInstance().traceLevels().location){var b=a.getInstance(),c=[];c.push("searching for object by id\n");c.push("object = ");c.push(b.identityToString(a.getIdentity()));b.initializationData().logger.trace(b.traceLevels().locationCat,c.join(""))}b=this._objectRequests.get(a.getIdentity());if(void 0!==b)return b;b=new q(this,a);this._objectRequests.set(a.getIdentity(),b);return b},finishRequest:function(a,
c,d,e){if(null===d||d.__reference().isIndirect())for(var h=0;h<c.length;++h)this._table.removeObjectReference(c[h].getIdentity());a.isWellKnown()?(null===d||d.__reference().isWellKnown()?e&&this._table.removeObjectReference(a.getIdentity()):this._table.addObjectReference(a.getIdentity(),d.__reference()),b.assert(this._objectRequests.has(a.getIdentity())),this._objectRequests.delete(a.getIdentity())):(null===d||d.__reference().isIndirect()?e&&this._table.removeAdapterEndpoints(a.getAdapterId()):this._table.addAdapterEndpoints(a.getAdapterId(),
d.__reference().getEndpoints()),b.assert(this._adapterRequests.has(a.getAdapterId())),this._adapterRequests.delete(a.getAdapterId()))}});a.LocatorInfo=p;f.Ice=a;var h=m({__init__:function(a,b,c){this._ref=a;this._ttl=b;this._promise=c},response:function(a,b){var c=null;if(null!==b){var d=b.__reference();if(!this._ref.isWellKnown()||g.isSupported(this._ref.getEncoding(),d.getEncoding()))if(!d.isIndirect())c=d.getEndpoints();else if(this._ref.isWellKnown()&&!d.isWellKnown()){var e=this;a.getEndpoints(d,
this._ref,this._ttl).then(function(a,b){null!==e._promise&&e._promise.succeed(a,b)},function(a){null!==e._promise&&e._promise.fail(a)});return}}1<=this._ref.getInstance().traceLevels().location&&a.getEndpointsTrace(this._ref,c,!1);null!==this._promise&&this._promise.succeed(null===c?[]:c,!1)},exception:function(a,b){try{a.getEndpointsException(this._ref,b)}catch(c){null!==this._promise&&this._promise.fail(c)}}}),l=m({__init__:function(a,b){this._locatorInfo=a;this._ref=b;this._callbacks=[];this._wellKnownRefs=
[];this._response=this._sent=!1;this._exception=this._proxy=null},addCallback:function(a,b,c,d){a=new h(a,c,d);this._response?a.response(this._locatorInfo,this._proxy):null!==this._exception?a.exception(this._locatorInfo,this._exception):(this._callbacks.push(a),null!==b&&this._wellKnownRefs.push(b),this._sent||(this._sent=!0,this.send()))},response:function(a){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,a,!1);this._response=!0;this._proxy=a;for(var b=0;b<this._callbacks.length;++b)this._callbacks[b].response(this._locatorInfo,
a)},exception:function(b){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,null,b instanceof a.UserException);this._exception=b;for(var c=0;c<this._callbacks.length;++c)this._callbacks[c].exception(this._locatorInfo,b)}}),q=m(l,{__init__:function(a,c){l.call(this,a,c);b.assert(c.isWellKnown())},send:function(){try{var a=this;this._locatorInfo.getLocator().findObjectById(this._ref.getIdentity()).then(function(b){a.response(b)},function(b){a.exception(b)})}catch(b){this.exception(b)}}}),
n=m(l,{__init__:function(a,c){l.call(this,a,c);b.assert(c.isIndirect())},send:function(){try{var a=this;this._locatorInfo.getLocator().findAdapterById(this._ref.getAdapterId()).then(function(b){a.response(b)},function(b){a.exception(b)})}catch(b){this.exception(b)}}})})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ArrayUtil,c=a.Debug,e=a.HashMap,d=a.HashUtil,g=a.ExUtil,k=a.OpaqueEndpointI,m=a.Promise,p=a.ReferenceMode,h=a.StringUtil,l=a.StringSeqHelper,q=a.EndpointSelectionType,n=a.Identity,s=a.RouterPrx,r=a.LocatorPrx,u=a.PropertyNames,v=a.Class,w="EndpointSelection ConnectionCached PreferSecure EncodingVersion LocatorCacheTimeout Locator Router CollocationOptimized".split(" "),t=v({__init__:function(a,b){this._instance=a;this._communicator=b;this._defaultLocator=this._defaultRouter=
null},create:function(a,b,c,d){return 0===a.name.length&&0===a.category.length?null:this.createImpl(a,b,c.getMode(),c.getSecure(),c.getProtocol(),c.getEncoding(),d,null,null)},createWithAdapterId:function(a,b,c,d){return 0===a.name.length&&0===a.category.length?null:this.createImpl(a,b,c.getMode(),c.getSecure(),c.getProtocol(),c.getEncoding(),null,d,null)},createFixed:function(a,b){return 0===a.name.length&&0===a.category.length?null:new z(this._instance,this._communicator,a,"",b.endpoint().datagram()?
p.ModeDatagram:p.ModeTwoway,b.endpoint().secure(),this._instance.defaultsAndOverrides().defaultEncoding,b)},copy:function(a){var b=a.getIdentity();return 0===b.name.length&&0===b.category.length?null:a.clone()},createFromString:function(b,d){if(void 0===b||null===b||0===b.length)return null;var e,l;e=h.findFirstNotOf(b," \t\n\r",0);if(-1==e)throw new a.ProxyParseException("no non-whitespace characters found in `"+b+"'");var g=null;l=h.checkQuote(b,e);if(-1===l)throw new a.ProxyParseException("mismatched quotes around identity in `"+
b+"'");0===l?(l=h.findFirstOf(b," \t\n\r:@",e),-1===l&&(l=b.length),g=b.substring(e,l)):(e++,g=b.substring(e,l),l++);if(e===l)throw new a.ProxyParseException("no identity in `"+b+"'");g=this._instance.stringToIdentity(g);if(0===g.name.length){if(0<g.category.length)throw new a.IllegalIdentityException(g);if(-1!=h.findFirstNotOf(b," \t\n\r",l))throw new a.ProxyParseException("invalid characters after identity in `"+b+"'");return null}for(var k="",f=p.ModeTwoway,n=!1,m=this._instance.defaultsAndOverrides().defaultEncoding,
z=a.Protocol_1_0,q="";;){e=h.findFirstNotOf(b," \t\n\r",l);if(-1===e)break;if(":"==b.charAt(e)||"@"==b.charAt(e))break;l=h.findFirstOf(b," \t\n\r:@",e);-1==l&&(l=b.length);if(e==l)break;var r=b.substring(e,l);if(2!=r.length||"-"!=r.charAt(0))throw new a.ProxyParseException("expected a proxy option but found `"+r+"' in `"+b+"'");var s=null,u=h.findFirstNotOf(b," \t\n\r",l);if(-1!=u){var B=b.charAt(u);if("@"!=B&&":"!=B&&"-"!=B){e=u;l=h.checkQuote(b,e);if(-1==l)throw new a.ProxyParseException("mismatched quotes around value for "+
r+" option in `"+b+"'");0===l?(l=h.findFirstOf(b," \t\n\r:@",e),-1===l&&(l=b.length),s=b.substring(e,l)):(e++,s=b.substring(e,l),l++)}}switch(r.charAt(1)){case "f":if(null===s)throw new a.ProxyParseException("no argument provided for -f option in `"+b+"'");try{k=h.unescapeString(s,0,s.length)}catch(v){throw new a.ProxyParseException("invalid facet in `"+b+"': "+v.message);}break;case "t":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+s+"' provided for -t option in `"+b+"'");f=
p.ModeTwoway;break;case "o":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+s+"' provided for -o option in `"+b+"'");f=p.ModeOneway;break;case "O":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+s+"' provided for -O option in `"+b+"'");f=p.ModeBatchOneway;break;case "d":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+s+"' provided for -d option in `"+b+"'");f=p.ModeDatagram;break;case "D":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+
s+"' provided for -D option in `"+b+"'");f=p.ModeBatchDatagram;break;case "s":if(null!==s)throw new a.ProxyParseException("unexpected argument `"+s+"' provided for -s option in `"+b+"'");n=!0;break;case "e":if(null===s)throw new a.ProxyParseException("no argument provided for -e option in `"+b+"'");try{m=a.stringToEncodingVersion(s)}catch(t){throw new a.ProxyParseException("invalid encoding version `"+s+"' in `"+b+"':\n"+t.str);}break;case "p":if(null===s)throw new a.ProxyParseException("no argument provided for -p option in `"+
b+"'");try{z=a.stringToProtocolVersion(s)}catch(w){throw new a.ProxyParseException("invalid protocol version `"+s+"' in `"+b+"':\n"+w.str);}break;default:throw new a.ProxyParseException("unknown option `"+r+"' in `"+b+"'");}}if(-1===e)return this.createImpl(g,k,f,n,z,m,null,null,d);r=[];if(":"==b.charAt(e)){q=[];for(l=e;l<b.length&&":"==b.charAt(l);){for(l=e=l+1;;)if(l=b.indexOf(":",l),-1==l){l=b.length;break}else{s=!1;for(u=e;!(u=b.indexOf('"',u),-1==u||l<u);){u=b.indexOf('"',++u);if(-1==u)break;
else if(l<u){s=!0;break}++u}if(!s)break;++l}e=b.substring(e,l);s=this._instance.endpointFactoryManager().create(e,!1);null!==s?r.push(s):q.push(e)}if(0===r.length)throw c.assert(0<q.length),new a.EndpointParseException("invalid endpoint `"+q[0]+"' in `"+b+"'");if(0!==q.length&&0<this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Endpoints",1)){l=[];l.push("Proxy contains unknown endpoints:");for(e=0;e<q.length;++e)l.push(" `"),l.push(q[e]),l.push("'");this._instance.initializationData().logger.warning(l.join(""))}return this.createImpl(g,
k,f,n,z,m,r,null,d)}if("@"==b.charAt(e)){e=h.findFirstNotOf(b," \t\n\r",e+1);if(-1==e)throw new a.ProxyParseException("missing adapter id in `"+b+"'");r=null;l=h.checkQuote(b,e);if(-1===l)throw new a.ProxyParseException("mismatched quotes around adapter id in `"+b+"'");0===l?(l=h.findFirstOf(b," \t\n\r",e),-1===l&&(l=b.length),r=b.substring(e,l)):(e++,r=b.substring(e,l),l++);if(l!==b.length&&-1!==h.findFirstNotOf(b," \t\n\r",l))throw new a.ProxyParseException("invalid trailing characters after `"+
b.substring(0,l+1)+"' in `"+b+"'");try{q=h.unescapeString(r,0,r.length)}catch(x){throw new a.ProxyParseException("invalid adapter id in `"+b+"': "+x.message);}if(0===q.length)throw new a.ProxyParseException("empty adapter id in `"+b+"'");return this.createImpl(g,k,f,n,z,m,null,q,d)}throw new a.ProxyParseException("malformed proxy `"+b+"'");},createFromStream:function(b,c){if(0===b.name.length&&0===b.category.length)return null;var d=l.read(c);if(0<d.length){if(1<d.length)throw new a.ProxyUnmarshalException;
d=d[0]}else d="";var e=c.readByte();if(0>e||e>p.ModeLast)throw new a.ProxyUnmarshalException;var h=c.readBool(),g=null,k=null;c.getReadEncoding().equals(a.Encoding_1_0)?(g=a.Protocol_1_0,k=a.Encoding_1_0):(g=new a.ProtocolVersion,g.__read(c),k=new a.EncodingVersion,k.__read(c));var f=null,n=null,m=c.readSize();if(0<m)for(var f=[],z=0;z<m;z++)f[z]=this._instance.endpointFactoryManager().read(c);else n=c.readString();return this.createImpl(b,d,e,h,g,k,f,n,null)},setDefaultRouter:function(a){if(null===
this._defaultRouter?null===a:this._defaultRouter.equals(a))return this;var b=new t(this._instance,this._communicator);b._defaultLocator=this._defaultLocator;b._defaultRouter=a;return b},getDefaultRouter:function(){return this._defaultRouter},setDefaultLocator:function(a){if(null===this._defaultLocator?null===a:this._defaultLocator.equals(a))return this;var b=new t(this._instance,this._communicator);b._defaultRouter=this._defaultRouter;b._defaultLocator=a;return b},getDefaultLocator:function(){return this._defaultLocator},
checkForUnknownProperties:function(a){var b=[],c,d;for(c=0;c<u.clPropNames.length;++c)if(0===a.indexOf(u.clPropNames[c]+"."))return;for(var e=this._instance.initializationData().properties.getPropertiesForPrefix(a+".").entries;null!==e;e=e.next){var h=!1;c=0;for(d=w.length;c<d;++c)if(e.key===a+"."+w[c]){h=!0;break}h||b.push(e.key)}if(0<b.length){e=[];e.push("found unknown properties for proxy '");e.push(a);e.push("':");c=0;for(d=b.length;c<d;++c)e.push("\n    "),e.push(b[c]);this._instance.initializationData().logger.warning(e.join(""))}},
createImpl:function(b,c,d,e,h,l,g,k,f){var n=this._instance.defaultsAndOverrides(),m=null;null!==this._defaultLocator&&(m=this._defaultLocator.__reference().getEncoding().equals(l)?this._instance.locatorManager().find(this._defaultLocator):this._instance.locatorManager().find(this._defaultLocator.ice_encodingVersion(l)));var z=this._instance.routerManager().find(this._defaultRouter),p=!0,u=n.defaultPreferSecure,v=n.defaultEndpointSelection,n=n.defaultLocatorCacheTimeout;if(null!==f&&0<f.length){var t=
this._instance.initializationData().properties;0<t.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)&&this.checkForUnknownProperties(f);var w;w=r.uncheckedCast(this._communicator.propertyToProxy(f+".Locator"));null!==w&&(m=w.__reference().getEncoding().equals(l)?this._instance.locatorManager().find(w):this._instance.locatorManager().find(w.ice_encodingVersion(l)));w=f+".Router";var x=s.uncheckedCast(this._communicator.propertyToProxy(w));null!==x&&(f.lastIndexOf(".Router")==f.length-7?(w=
"`"+w+"="+t.getProperty(w)+"': cannot set a router on a router; setting ignored",this._instance.initializationData().logger.warning(w)):z=this._instance.routerManager().find(x));p=0<t.getPropertyAsIntWithDefault(f+".ConnectionCached",p?1:0);u=0<t.getPropertyAsIntWithDefault(f+".PreferSecure",u?1:0);w=f+".EndpointSelection";if(0<t.getProperty(w).length)if(v=t.getProperty(w),"Random"==v)v=q.Random;else if("Ordered"==v)v=q.Ordered;else throw new a.EndpointSelectionTypeParseException("illegal value `"+
v+"'; expected `Random' or `Ordered'");n=t.getPropertyAsIntWithDefault(f+".LocatorCacheTimeout",n)}return new B(this._instance,this._communicator,b,c,d,e,h,l,g,k,m,z,p,u,v,n)}});a.ReferenceFactory=t;var x=v({__init__:function(a,b,d,e,h,l,g,k){c.assert(void 0===d||null!==d.name);c.assert(void 0===d||null!==d.category);c.assert(void 0===e||null!==e);this._instance=a;this._communicator=b;this._mode=h;this._secure=l;this._identity=d;this._context=x._emptyContext;this._facet=e;this._protocol=g;this._encoding=
k;this._compress=this._overrideCompress=this._hashInitialized=!1},getMode:function(){return this._mode},getSecure:function(){return this._secure},getProtocol:function(){return this._protocol},getEncoding:function(){return this._encoding},getIdentity:function(){return this._identity},getFacet:function(){return this._facet},getInstance:function(){return this._instance},getContext:function(){return this._context},getCommunicator:function(){return this._communicator},getEndpoints:function(){c.assert(!1);
return null},getAdapterId:function(){c.assert(!1);return""},getRouterInfo:function(){c.assert(!1);return null},getLocatorInfo:function(){c.assert(!1);return null},getCacheConnection:function(){c.assert(!1);return!1},getPreferSecure:function(){c.assert(!1);return!1},getEndpointSelection:function(){c.assert(!1);return null},getLocatorCacheTimeout:function(){c.assert(!1);return 0},getConnectionId:function(){c.assert(!1);return""},changeContext:function(a){if(void 0===a||null===a)a=x._emptyContext;var b=
this._instance.referenceFactory().copy(this);b._context=0===a.size?x._emptyContext:new e(a);return b},changeMode:function(a){if(a===this._mode)return this;var b=this._instance.referenceFactory().copy(this);b._mode=a;return b},changeSecure:function(a){if(a===this._secure)return this;var b=this._instance.referenceFactory().copy(this);b._secure=a;return b},changeIdentity:function(a){if(a.equals(this._identity))return this;var b=this._instance.referenceFactory().copy(this);b._identity=new n(a.name,a.category);
return b},changeFacet:function(a){if(a===this._facet)return this;var b=this._instance.referenceFactory().copy(this);b._facet=a;return b},changeEncoding:function(a){if(a.equals(this._encoding))return this;var b=this._instance.referenceFactory().copy(this);b._encoding=a;return b},changeCompress:function(a){if(this._overrideCompress&&this._compress===a)return this;var b=this._instance.referenceFactory().copy(this);b._compress=a;b._overrideCompress=!0;return b},changeAdapterId:function(a){c.assert(!1);
return null},changeEndpoints:function(a){c.assert(!1);return null},changeLocator:function(a){c.assert(!1);return null},changeRouter:function(a){c.assert(!1);return null},changeCacheConnection:function(a){c.assert(!1);return null},changePreferSecure:function(a){c.assert(!1);return null},changeEndpointSelection:function(a){c.assert(!1);return null},changeLocatorCacheTimeout:function(a){c.assert(!1);return null},changeTimeout:function(a){c.assert(!1);return null},changeConnectionId:function(a){c.assert(!1);
return null},hashCode:function(){if(this._hashInitialized)return this._hashValue;var a;a=d.addNumber(5381,this._mode);a=d.addBoolean(a,this._secure);a=d.addHashable(a,this._identity);if(null!==this._context&&void 0!==this._context)for(var b=this._context.entries;null!==b;b=b.next)a=d.addString(a,b.key),a=d.addString(a,b.value);a=d.addString(a,this._facet);a=d.addBoolean(a,this._overrideCompress);this._overrideCompress&&(a=d.addBoolean(a,this._compress));a=d.addHashable(a,this._protocol);this._hashValue=
a=d.addHashable(a,this._encoding);this._hashInitialized=!0;return this._hashValue},isIndirect:function(){c.assert(!1);return!1},isWellKnown:function(){c.assert(!1);return!1},streamWrite:function(b){0===this._facet.length?b.writeSize(0):(b.writeSize(1),b.writeString(this._facet));b.writeByte(this._mode);b.writeBool(this._secure);b.getWriteEncoding().equals(a.Encoding_1_0)||(this._protocol.__write(b),this._encoding.__write(b))},toString:function(){var b=[],c=this._instance.identityToString(this._identity);
-1!=c.search(/[ :@]/)?(b.push('"'),b.push(c),b.push('"')):b.push(c);0<this._facet.length&&(b.push(" -f "),c=h.escapeString(this._facet,""),-1!=c.search(/[ :@]/)?(b.push('"'),b.push(c),b.push('"')):b.push(c));switch(this._mode){case p.ModeTwoway:b.push(" -t");break;case p.ModeOneway:b.push(" -o");break;case p.ModeBatchOneway:b.push(" -O");break;case p.ModeDatagram:b.push(" -d");break;case p.ModeBatchDatagram:b.push(" -D")}this._secure&&b.push(" -s");this._protocol.equals(a.Protocol_1_0)||(b.push(" -p "),
b.push(a.protocolVersionToString(this._protocol)));b.push(" -e ");b.push(a.encodingVersionToString(this._encoding));return b.join("")},toProperty:function(a){c.assert(!1);return null},getConnection:function(){c.assert(!1)},equals:function(a){return this._mode===a._mode&&this._secure===a._secure&&this._identity.equals(a._identity)&&this._context.equals(a._context)&&this._facet===a._facet&&this._overrideCompress===a._overrideCompress&&(!this._overrideCompress||this._compress===a._compress)&&this._protocol.equals(a._protocol)&&
this._encoding.equals(a._encoding)?!0:!1},clone:function(){c.assert(!1);return null},copyMembers:function(a){a._context=this._context;a._overrideCompress=this._overrideCompress;a._compress=this._compress}});x._emptyContext=new e;x._emptyEndpoints=[];a.Reference=x;var z=v(x,{__init__:function(b,c,d,e,h,l,g,k){x.call(this,b,c,d,e,h,l,a.Protocol_1_0,g);this._fixedConnection=k},getEndpoints:function(){return x._emptyEndpoints},getAdapterId:function(){return""},getRouterInfo:function(){return null},getLocatorInfo:function(){return null},
getCacheConnection:function(){return!1},getPreferSecure:function(){return!1},getEndpointSelection:function(){return q.Random},getLocatorCacheTimeout:function(){return 0},getConnectionId:function(){return""},changeAdapterId:function(b){throw new a.FixedProxyException;},changeEndpoints:function(b){throw new a.FixedProxyException;},changeLocator:function(b){throw new a.FixedProxyException;},changeRouter:function(b){throw new a.FixedProxyException;},changeCacheConnection:function(b){throw new a.FixedProxyException;
},changePreferSecure:function(b){throw new a.FixedProxyException;},changeEndpointSelection:function(b){throw new a.FixedProxyException;},changeLocatorCacheTimeout:function(b){throw new a.FixedProxyException;},changeTimeout:function(b){throw new a.FixedProxyException;},changeConnectionId:function(b){throw new a.FixedProxyException;},isIndirect:function(){return!1},isWellKnown:function(){return!1},streamWrite:function(b){throw new a.FixedProxyException;},toString:function(){throw new a.FixedProxyException;
},toProperty:function(b){throw new a.FixedProxyException;},clone:function(){var a=new z(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getEncoding(),this._fixedConnection);this.copyMembers(a);return a},getConnectionInternal:function(b){switch(this.getMode()){case p.ModeTwoway:case p.ModeOneway:case p.ModeBatchOneway:if(this._fixedConnection.endpoint().datagram())throw new a.NoEndpointException("");break;case p.ModeDatagram:case p.ModeBatchDatagram:if(!this._fixedConnection.endpoint().datagram())throw new a.NoEndpointException("");
}var c=this.getInstance().defaultsAndOverrides();if((c.overrideSecure?c.overrideSecureValue:this.getSecure())&&!this._fixedConnection.endpoint().secure())throw new a.NoEndpointException("");this._fixedConnection.throwException();b.value=c.overrideCompress?c.overrideCompressValue:this._overrideCompress?this._compress:this._fixedConnection.endpoint().compress();return this._fixedConnection},getConnection:function(){var a=new m;try{var b={value:!1},c=this.getConnectionInternal(b);a.succeed(c,b.value)}catch(d){a.fail(d)}return a},
equals:function(a){return this===a?!0:a instanceof z&&x.prototype.equals.call(this,a)?this._fixedConnection.equals(a._fixedConnection):!1}});a.FixedReference=z;var B=v(x,{__init__:function(a,b,d,e,h,l,g,k,f,n,m,z,q,r,s,p){x.call(this,a,b,d,e,h,l,g,k);this._endpoints=f;this._adapterId=n;this._locatorInfo=m;this._routerInfo=z;this._cacheConnection=q;this._preferSecure=r;this._endpointSelection=s;this._locatorCacheTimeout=p;this._overrideTimeout=!1;this._timeout=-1;null===this._endpoints&&(this._endpoints=
x._emptyEndpoints);null===this._adapterId&&(this._adapterId="");this._connectionId="";c.assert(0===this._adapterId.length||0===this._endpoints.length)},getEndpoints:function(){return this._endpoints},getAdapterId:function(){return this._adapterId},getRouterInfo:function(){return this._routerInfo},getLocatorInfo:function(){return this._locatorInfo},getCacheConnection:function(){return this._cacheConnection},getPreferSecure:function(){return this._preferSecure},getEndpointSelection:function(){return this._endpointSelection},
getLocatorCacheTimeout:function(){return this._locatorCacheTimeout},getConnectionId:function(){return this._connectionId},changeEncoding:function(a){var b=x.prototype.changeEncoding.call(this,a);if(b!==this){var c=b._locatorInfo;null===c||c.getLocator().ice_getEncodingVersion().equals(a)||(b._locatorInfo=this.getInstance().locatorManager().find(c.getLocator().ice_encodingVersion(a)))}return b},changeCompress:function(a){var b=x.prototype.changeCompress.call(this,a);if(b!==this&&0<this._endpoints.length){for(var c=
[],d=0;d<this._endpoints.length;d++)c[d]=this._endpoints[d].changeCompress(a);b._endpoints=c}return b},changeAdapterId:function(a){if(this._adapterId===a)return this;var b=this.getInstance().referenceFactory().copy(this);b._adapterId=a;b._endpoints=x._emptyEndpoints;return b},changeEndpoints:function(a){if(b.equals(a,this._endpoints,function(a,b){return a.equals(b)}))return this;var c=this.getInstance().referenceFactory().copy(this);c._endpoints=a;c._adapterId="";c.applyOverrides(c._endpoints);return c},
changeLocator:function(a){a=this.getInstance().locatorManager().find(a);if(null!==a&&null!==this._locatorInfo&&a.equals(this._locatorInfo))return this;var b=this.getInstance().referenceFactory().copy(this);b._locatorInfo=a;return b},changeRouter:function(a){a=this.getInstance().routerManager().find(a);if(null!==a&&null!==this._routerInfo&&a.equals(this._routerInfo))return this;var b=this.getInstance().referenceFactory().copy(this);b._routerInfo=a;return b},changeCacheConnection:function(a){if(a===
this._cacheConnection)return this;var b=this.getInstance().referenceFactory().copy(this);b._cacheConnection=a;return b},changePreferSecure:function(a){if(a===this._preferSecure)return this;var b=this.getInstance().referenceFactory().copy(this);b._preferSecure=a;return b},changeEndpointSelection:function(a){if(a===this._endpointSelection)return this;var b=this.getInstance().referenceFactory().copy(this);b._endpointSelection=a;return b},changeLocatorCacheTimeout:function(a){if(this._locatorCacheTimeout===
a)return this;var b=this.getInstance().referenceFactory().copy(this);b._locatorCacheTimeout=a;return b},changeTimeout:function(a){if(this._overrideTimeout&&this._timeout===a)return this;var b=this.getInstance().referenceFactory().copy(this);b._timeout=a;b._overrideTimeout=!0;if(0<this._endpoints.length){for(var c=[],d=0;d<this._endpoints.length;d++)c[d]=this._endpoints[d].changeTimeout(a);b._endpoints=c}return b},changeConnectionId:function(a){if(this._connectionId===a)return this;var b=this.getInstance().referenceFactory().copy(this);
b._connectionId=a;if(0<this._endpoints.length){for(var c=[],d=0;d<this._endpoints.length;d++)c[d]=this._endpoints[d].changeConnectionId(a);b._endpoints=c}return b},isIndirect:function(){return 0===this._endpoints.length},isWellKnown:function(){return 0===this._endpoints.length&&0===this._adapterId.length},streamWrite:function(a){x.prototype.streamWrite.call(this,a);a.writeSize(this._endpoints.length);if(0<this._endpoints.length){c.assert(0===this._adapterId.length);for(var b=0;b<this._endpoints.length;++b)this._endpoints[b].streamWrite(a)}else a.writeString(this._adapterId)},
toString:function(){var a=[];a.push(x.prototype.toString.call(this));if(0<this._endpoints.length)for(var b=0;b<this._endpoints.length;++b){var c=this._endpoints[b].toString();null!==c&&0<c.length&&(a.push(":"),a.push(c))}else 0<this._adapterId.length&&(a.push(" @ "),b=h.escapeString(this._adapterId,null),-1!=b.search(/[ :@]/)?(a.push('"'),a.push(b),a.push('"')):a.push(b));return a.join("")},toProperty:function(a){var b=new e,c;b.set(a,this.toString());b.set(a+".CollocationOptimized","0");b.set(a+
".ConnectionCached",this._cacheConnection?"1":"0");b.set(a+".PreferSecure",this._preferSecure?"1":"0");b.set(a+".EndpointSelection",this._endpointSelection===q.Random?"Random":"Ordered");b.set(a+".LocatorCacheTimeout",""+this._locatorCacheTimeout);if(null!==this._routerInfo)for(c=this._routerInfo.getRouter().__reference().toProperty(a+".Router").entries;null!==c;c=c.next)b.set(c.key,c.value);if(null!==this._locatorInfo)for(c=this._locatorInfo.getLocator().__reference().toProperty(a+".Locator").entries;null!==
c;c=c.next)b.set(c.key,c.value);return b},hashCode:function(){this._hashInitialized||(x.prototype.hashCode.call(this),this._hashValue=d.addString(this._hashValue,this._adapterId));return this._hashValue},equals:function(a){return this===a?!0:a instanceof B&&x.prototype.equals.call(this,a)&&(null===this._locatorInfo?null===a._locatorInfo:this._locatorInfo.equals(a._locatorInfo))&&(null===this._routerInfo?null===a._routerInfo:this._routerInfo.equals(a._routerInfo))&&this._cacheConnection===a._cacheConnection&&
this._preferSecure===a._preferSecure&&this._endpointSelection===a._endpointSelection&&this._locatorCacheTimeout===a._locatorCacheTimeout&&this._connectionId===a._connectionId&&this._overrideTimeout===a._overrideTimeout&&(!this._overrideTimeout||this._timeout===a._timeout)&&b.equals(this._endpoints,a._endpoints,function(a,b){return a.equals(b)})&&this._adapterId===a._adapterId?!0:!1},getConnection:function(){var a=new m;if(null!==this._routerInfo){var b=this;this._routerInfo.getClientEndpoints().then(function(c){0<
c.length?(b.applyOverrides(c),b.createConnection(c).then(function(b,c){a.succeed(b,c)},function(b){a.fail(b)})):b.getConnectionNoRouterInfo(a)}).exception(function(b){a.fail(b)})}else this.getConnectionNoRouterInfo(a);return a},getConnectionNoRouterInfo:function(b){if(0<this._endpoints.length)this.createConnection(this._endpoints).then(function(a,c){b.succeed(a,c)}).exception(function(a){b.fail(a)});else{var d=this;null!==this._locatorInfo?this._locatorInfo.getEndpoints(this,null,this._locatorCacheTimeout).then(function(e,
h){0===e.length?b.fail(new a.NoEndpointException(d.toString())):(d.applyOverrides(e),d.createConnection(e).then(function(a,c){b.succeed(a,c)},function(e){if(e instanceof a.NoEndpointException)b.fail(e);else if(c.assert(null!==d._locatorInfo),d.getLocatorInfo().clearCache(d),h){var l=d.getInstance().traceLevels();2<=l.retry&&(e="connection to cached endpoints failed\nremoving endpoints from cache and trying one more time\n"+g.toString(e),d.getInstance().initializationData().logger.trace(l.retryCat,
e));d.getConnectionNoRouterInfo(b)}else b.fail(e)}))}).exception(function(a){b.fail(a)}):b.fail(new a.NoEndpointException(this.toString()))}},clone:function(){var a=new B(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getProtocol(),this.getEncoding(),this._endpoints,this._adapterId,this._locatorInfo,this._routerInfo,this._cacheConnection,this._preferSecure,this._endpointSelection,this._locatorCacheTimeout);this.copyMembers(a);return a},
copyMembers:function(a){x.prototype.copyMembers.call(this,a);a._overrideTimeout=this._overrideTimeout;a._timeout=this._timeout;a._connectionId=this._connectionId},applyOverrides:function(a){for(var b=0;b<a.length;++b)a[b]=a[b].changeConnectionId(this._connectionId),this._overrideCompress&&(a[b]=a[b].changeCompress(this._compress)),this._overrideTimeout&&(a[b]=a[b].changeTimeout(this._timeout))},filterEndpoints:function(a){for(var d=[],e=0;e<a.length;++e)a[e]instanceof k||d.push(a[e]);switch(this.getMode()){case p.ModeTwoway:case p.ModeOneway:case p.ModeBatchOneway:d=
b.filter(d,function(a,b,c){return!a.datagram()});break;case p.ModeDatagram:case p.ModeBatchDatagram:d=b.filter(d,function(a,b,c){return a.datagram()})}switch(this.getEndpointSelection()){case q.Random:b.shuffle(d);break;case q.Ordered:break;default:c.assert(!1)}a=this.getInstance().defaultsAndOverrides();if(a.overrideSecure?a.overrideSecureValue:this.getSecure())d=b.filter(d,function(a,b,c){return a.secure()});else{var h=this.getPreferSecure();d.sort(function(a,b){var c=a.secure(),d=b.secure();return c&&
d||!c&&!d?0:!c&&d?h?1:-1:h?-1:1})}return d},createConnection:function(b){b=this.filterEndpoints(b);if(0===b.length)return(new m).fail(new a.NoEndpointException(this.toString()));var c=new m,d=this.getInstance().outgoingConnectionFactory(),e;if(this.getCacheConnection()||1==b.length)e=new y(this,null,c),d.create(b,!1,this.getEndpointSelection()).then(function(a,b){e.setConnection(a,b)}).exception(function(a){e.setException(a)});else{var h=[b[0]];e=new y(this,b,c);d.create(h,!0,this.getEndpointSelection()).then(function(a,
b){e.setConnection(a,b)}).exception(function(a){e.setException(a)})}return c}});a.RoutableReference=B;f.Ice=a;var y=v({__init__:function(a,b,c){this.ref=a;this.endpoints=b;this.promise=c;this.i=0;this.exception=null},setConnection:function(a,b){null!==this.ref.getRouterInfo()&&null!==this.ref.getRouterInfo().getAdapter()&&a.setAdapter(this.ref.getRouterInfo().getAdapter());this.promise.succeed(a,b)},setException:function(a){null===this.exception&&(this.exception=a);if(null===this.endpoints||++this.i===
this.endpoints.length)this.promise.fail(this.exception);else{a=this.i!=this.endpoints.length-1;var b=[this.endpoints[this.i]],c=this;this.ref.getInstance().outgoingConnectionFactory().create(b,a,this.ref.getEndpointSelection()).then(function(a,b){c.setConnection(a,b)}).exception(function(a){c.setException(a)})}}})})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.ExUtil,e=a.HashMap,d=a.ObjectPrx,g=a.StringUtil,k=a.Identity,m=a.Class({__init__:function(a){this._instance=a;a=this._instance.initializationData().properties.getPropertyAsList("Ice.RetryIntervals");if(0<a.length){this._retryIntervals=[];for(var b=0;b<a.length;b++){var c;try{c=g.toInt(a[b])}catch(d){c=0}if(0===b&&-1===c){this._retryIntervals=[0];break}this._retryIntervals[b]=0<c?c:0}}else this._retryIntervals=[0]},stringToProxy:function(a){a=this._instance.referenceFactory().createFromString(a,
null);return this.referenceToProxy(a)},proxyToString:function(a){return null!==a?a.__reference().toString():""},propertyToProxy:function(a){var b=this._instance.initializationData().properties.getProperty(a);a=this._instance.referenceFactory().createFromString(b,a);return this.referenceToProxy(a)},proxyToProperty:function(a,b){return null!==a?a.__reference().toProperty(b):new e},streamToProxy:function(a,b){var c=new k;c.__read(a);c=this._instance.referenceFactory().createFromStream(c,a);return this.referenceToProxy(c,
b)},referenceToProxy:function(a,b){if(null!==a){var c=b?new b:new d;c.__setup(a);return c}return null},proxyToStream:function(a,b){if(null!==a){var c=a.__reference();c.getIdentity().__write(b);c.streamWrite(b)}else(new k("","")).__write(b)},checkRetryAfterException:function(d,e,l,g){var k=this._instance.traceLevels(),f=this._instance.initializationData().logger;if(e.getMode()===a.Reference.ModeBatchOneway||e.getMode()===a.Reference.ModeBatchDatagram)throw d;if(d instanceof a.ObjectNotExistException){if(null!==
e.getRouterInfo()&&"ice_add_proxy"===d.operation)return e.getRouterInfo().clearCache(e),1<=k.retry&&f.trace(k.retryCat,"retrying operation call to add proxy to router\n"+c.toString(d)),null!==l&&(l.value=0),g;if(e.isIndirect()){if(e.isWellKnown()){var m=e.getLocatorInfo();null!==m&&m.clearCache(e)}}else throw d;}else if(d instanceof a.RequestFailedException)throw d;if(d instanceof a.MarshalException)throw d;++g;b.assert(0<g);if(g===this._retryIntervals.length+1&&d instanceof a.CloseConnectionException)e=
0;else{if(g>this._retryIntervals.length)throw 1<=k.retry&&f.trace(k.retryCat,"cannot retry operation call because retry limit has been exceeded\n"+c.toString(d)),d;e=this._retryIntervals[g-1]}1<=k.retry&&(m="retrying operation call",0<e&&(m+=" in "+e+"ms"),m+=" because of exception\n"+c.toString(d),f.trace(k.retryCat,m));b.assert(null!==l);l.value=e;return g}});a.ProxyFactory=m;f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{},c=f.IceWS||{};c.ConnectionInfo=Slice.defineLocalObject(function(a,c,g,k,f,p,h){b.IPConnectionInfo.call(this,a,c,g,k,f,p,h)},b.IPConnectionInfo);f.IceWS=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=a.Class,c=b({__init__:function(a){this._instance=a;this._requests=[]},add:function(a,b){var c=new e(this,a);this._instance.timer().schedule(function(){c.run()},b);this._requests.push(c)},destroy:function(){for(var a=0;a<this._requests.length;++a)this._requests[a].destroy();this._requests=[]},remove:function(a){a=this._requests.indexOf(a);return 0<=a?(this._requests.splice(a,1),!0):!1}});a.RetryQueue=c;var e=b({__init__:function(a,b,c){this.queue=a;this.outAsync=b},run:function(){if(this.queue.remove(this))try{this.outAsync.__send()}catch(a){this.outAsync.__exception(a)}},
destroy:function(){this.outAsync.__exception(new a.CommunicatorDestroyedException)}});f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ArrayUtil,c=a.Debug,e=a.HashMap,d=a.Promise,g=a.Class({__init__:function(a){this._router=a;c.assert(null!==this._router);this._adapter=this._serverEndpoints=this._clientEndpoints=null;this._identities=new e;this._identities.keyComparator=e.compareEquals;this._evictedIdentities=[]},destroy:function(){this._clientEndpoints=[];this._serverEndpoints=[];this._adapter=null;this._identities.clear()},equals:function(a){return this===a?!0:a instanceof g?this._router.equals(a._router):
!1},hashCode:function(){return this._router.hashCode()},getRouter:function(){return this._router},getClientEndpoints:function(){var a=new d;if(null!==this._clientEndpoints)a.succeed(this._clientEndpoints);else{var b=this;this._router.getClientProxy().then(function(c){b.setClientEndpoints(c,a)}).exception(function(b){a.fail(b)})}return a},getServerEndpoints:function(){if(null!==this._serverEndpoints)return(new d).succeed(this._serverEndpoints);var a=this;return this._router.getServerProxy().then(function(b){return a.setServerEndpoints(b)})},
addProxy:function(a){c.assert(null!==a);if(this._identities.has(a.ice_getIdentity()))return(new d).succeed();var b=this;return this._router.addProxies([a]).then(function(c){b.addAndEvictProxies(a,c)})},setAdapter:function(a){this._adapter=a},getAdapter:function(){return this._adapter},clearCache:function(a){this._identities.delete(a.getIdentity())},setClientEndpoints:function(a,b){if(null===this._clientEndpoints)if(null===a)this._clientEndpoints=this._router.__reference().getEndpoints(),b.succeed(this._clientEndpoints);
else{a=a.ice_router(null);var c=this;this._router.ice_getConnection().then(function(d){d=a.ice_timeout(d.timeout());c._clientEndpoints=d.__reference().getEndpoints();b.succeed(c._clientEndpoints)}).exception(function(a){b.fail(a)})}else b.succeed(this._clientEndpoints)},setServerEndpoints:function(b){if(null===b)throw new a.NoEndpointException;b=b.ice_router(null);return this._serverEndpoints=b.__reference().getEndpoints()},addAndEvictProxies:function(a,c){var d=b.indexOf(this._evictedIdentities,
a.ice_getIdentity(),function(a,b){return a.equals(b)});0<=d?this._evictedIdentities.splice(d,1):this._identities.set(a.ice_getIdentity(),1);for(d=0;d<c.length;++d)this._identities.delete(c[d].ice_getIdentity())}});a.RouterInfo=g;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.RouterInfo,e=a.RouterPrx,d=a.Class({__init__:function(){this._table=new b;this._table.keyComparator=b.compareEquals},destroy:function(){for(var a=this._table.entries;null!==a;a=a.next)a.value.destroy();this._table.clear()},find:function(a){if(null===a)return null;a=e.uncheckedCast(a.ice_router(null));var b=this._table.get(a);void 0===b&&(b=new c(a),this._table.set(a,b));return b},erase:function(a){var b=null;null!==a&&(a=e.uncheckedCast(a.ice_router(null)),
b=this._table.get(a),this._table.delete(a));return b}});a.RouterManager=d;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){function a(a){return"local address = <not available>\nremote address = "+a.host+":"+a.port}function b(a,b){if(a<m)return new c.ConnectFailedException(b.code,b);if(1E3===b)throw new c.ConnectionLostException;return new c.SocketException(b.code,b)}var c=f.Ice||{},e=f.IceWS||{},d=c.Debug,g=c.ExUtil,k=c.SocketOperation,m=2,p=-1!==navigator.userAgent.indexOf("Firefox"),h=c.Class({__init__:function(a){this._traceLevels=a.traceLevels();this._logger=a.initializationData().logger;this._readBuffers=
[];this._readPosition=0},setCallbacks:function(a,b,c){this._connectedCallback=a;this._bytesAvailableCallback=b;this._bytesWrittenCallback=c},initialize:function(c,e){try{if(this._exception)throw this._exception;if(0===this._state){this._state=1;this._fd=new WebSocket(this._url,"ice.zeroc.com");this._fd.binaryType="arraybuffer";var h=this;this._fd.onopen=function(a){h.socketConnected(a)};this._fd.onmessage=function(a){h.socketBytesAvailable(a.data)};this._fd.onclose=function(a){h.socketClosed(a)};
return k.Connect}1===this._state&&(this._desc=a(this._addr),this._state=m)}catch(g){this._exception||(this._exception=b(this._state,g));if(2<=this._traceLevels.network){var f=[];f.push("failed to establish "+this.type()+" connection\n");f.push(a(this._addr));this._logger.trace(this._traceLevels.networkCat,f.join(""))}throw this._exception;}d.assert(this._state===m);1<=this._traceLevels.network&&this._logger.trace(this._traceLevels.networkCat,this.type()+" connection established\n"+this._desc);return k.None},
register:function(){this._registered=!0;if(this._hasBytesAvailable||this._exception)this._bytesAvailableCallback(),this._hasBytesAvailable=!1},unregister:function(){this._registered=!1},close:function(){if(null===this._fd)d.assert(this._exception);else if(this._fd.readyState===WebSocket.CONNECTING&&p)this._state=3;else{this._state==m&&1<=this._traceLevels.network&&this._logger.trace(this._traceLevels.networkCat,"closing "+this.type()+" connection\n"+this._desc);d.assert(null!==this._fd);try{this._state=
4,this._fd.close()}catch(a){throw b(this._state,a);}finally{this._fd=null}}},write:function(a){if(this._exception)throw this._exception;var b=a.remaining;d.assert(0<b);d.assert(this._fd);if(1024>this._fd.bufferedAmount){var c=a.b.slice(a.position,a.position+b);a.position+=b;this._fd.send(c);0<b&&3<=this._traceLevels.network&&(a="sent "+b+" of "+b+" bytes via "+this.type()+"\n"+this._desc,this._logger.trace(this._traceLevels.networkCat,a));return!0}var e=this,h=function(){e._fd&&(0===e._fd.bufferedAmount||
this._exception?e._bytesWrittenCallback():setTimeout(h,50))};setTimeout(h,50);return!1},read:function(a,b){if(this._exception)throw this._exception;b.value=!1;if(0===this._readBuffers.length)return!1;var c=this._readBuffers[0].byteLength-this._readPosition;d.assert(0<c);for(var e=a.remaining;0<a.remaining;)if(c>a.remaining&&(c=a.remaining),(new Uint8Array(a.b)).set(new Uint8Array(this._readBuffers[0],this._readPosition,c),a.position),a.position+=c,this._readPosition+=c,this._readPosition===this._readBuffers[0].byteLength)if(this._readPosition=
0,this._readBuffers.shift(),0===this._readBuffers.length)break;else c=this._readBuffers[0].byteLength;c=e-a.remaining;0<c&&3<=this._traceLevels.network&&(e="received "+c+" of "+e+" bytes via "+this.type()+"\n"+this._desc,this._logger.trace(this._traceLevels.networkCat,e));b.value=0<this._readBuffers.byteLength;return 0===a.remaining},type:function(){return this._secure?"wss":"ws"},getInfo:function(){d.assert(null!==this._fd);var a=this.createInfo();a.localAddress="";a.localPort=-1;a.remoteAddress=
this._addr.host;a.remotePort=this._addr.port;return a},createInfo:function(){return new e.ConnectionInfo},checkSendSize:function(a,b){a.size>b&&g.throwMemoryLimitException(a.size,b)},toString:function(){return this._desc},socketConnected:function(a){3==this._state?this.close():(d.assert(null!==this._connectedCallback),this._connectedCallback())},socketBytesAvailable:function(a){d.assert(null!==this._bytesAvailableCallback);0<a.byteLength&&(this._readBuffers.push(a),this._registered?this._bytesAvailableCallback():
this._hasBytesAvailable||(this._hasBytesAvailable=!0))},socketClosed:function(a){3==this._state?this.close():(this._exception=b(this._state,a),this._state<m?this._connectedCallback():this._registered&&this._bytesAvailableCallback())}});h.createOutgoing=function(a,b,c,d){a=new h(a);var e;e=(b?"wss":"ws")+("://"+c.host);80!==c.port&&(e+=":"+c.port);e+=d?d:"/";a._url=e;a._fd=null;a._addr=c;a._desc="remote address: "+c.host+":"+c.port+" <not connected>";a._state=0;a._secure=b;a._exception=null;return a};
e.Transceiver=h;f.IceWS=e})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResultBase,c=a.Debug,e=a.Identity,d=a.PropertyNames,g=a.ServantManager,k=a.UUID,m="ACM AdapterId Endpoints Locator Locator.EncodingVersion Locator.EndpointSelection Locator.ConnectionCached Locator.PreferSecure Locator.CollocationOptimized Locator.Router PublishedEndpoints RegisterProcess ReplicaGroupId Router Router.EncodingVersion Router.EndpointSelection Router.ConnectionCached Router.PreferSecure Router.CollocationOptimized Router.Locator Router.Locator.EndpointSelection Router.Locator.ConnectionCached Router.Locator.PreferSecure Router.Locator.CollocationOptimized Router.Locator.LocatorCacheTimeout Router.LocatorCacheTimeout ProxyOptions ThreadPool.Size ThreadPool.SizeMax ThreadPool.SizeWarn ThreadPool.StackSize ThreadPool.Serialize".split(" "),p=
a.Class({__init__:function(b,d,e,f,k,m,u){this._deactivated=!1;this._instance=b;this._communicator=d;this._objectAdapterFactory=e;this._servantManager=new g(b,f);this._name=f;this._routerEndpoints=[];this._routerInfo=null;this._destroyed=!1;if(this._noConfig=m)this._reference=this._instance.referenceFactory().createFromString("dummy -t",""),u.succeed(this,u);else{b=this._instance.initializationData().properties;d=[];e=this.filterProperties(d);if(0!==d.length&&0<b.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",
1)){m=["found unknown properties for object adapter `"+f+"':"];for(var p=0;p<d.length;++p)m.push("\n    "+d[p]);this._instance.initializationData().logger.warning(m.join(""))}if(null===k&&e)throw k=new a.InitializationException,k.reason="object adapter `"+this._name+"' requires configuration",k;d=b.getPropertyWithDefault(this._name+".ProxyOptions","-t");try{this._reference=this._instance.referenceFactory().createFromString("dummy "+d,"")}catch(w){if(w instanceof a.ProxyParseException)throw k=new a.InitializationException,
k.reason="invalid proxy options `"+d+"' for object adapter `"+f+"'",k;throw w;}try{if(null===k&&(k=a.RouterPrx.uncheckedCast(this._instance.proxyFactory().propertyToProxy(this._name+".Router"))),null!==k){this._routerInfo=this._instance.routerManager().find(k);c.assert(null!==this._routerInfo);if(null!==this._routerInfo.getAdapter())throw new a.AlreadyRegisteredException("object adapter with router",this._instance.identityToString(k.ice_getIdentity()));var t=this;this._routerInfo.getServerEndpoints().then(function(a){var b;
for(b=0;b<a.length;++b)t._routerEndpoints.push(a[b]);t._routerEndpoints.sort(function(a,b){return a.compareTo(b)});for(b=0;b<t._routerEndpoints.length-1;)t._routerEndpoints[b].equals(t._routerEndpoints[b+1])?t._routerEndpoints.splice(b,1):++b;t._routerInfo.setAdapter(t);return t._instance.outgoingConnectionFactory().setRouterInfo(t._routerInfo)}).then(function(){u.succeed(t,u)},function(a){u.fail(a,u)})}else{if(0<b.getProperty(this._name+".Endpoints").length)throw new a.FeatureNotSupportedException("object adapter endpoints not supported");
u.succeed(this,u)}}catch(x){throw this.destroy(),x;}}},getName:function(){return this._noConfig?"":this._name},getCommunicator:function(){return this._communicator},activate:function(){},hold:function(){this.checkForDeactivation()},waitForHold:function(){var a=new b(this._communicator,"waitForHold",null,null,this);return adapter.checkForDeactivation(a)?a:a.succeed(a)},deactivate:function(){var a=new b(this._communicator,"deactivate",null,null,this);this._deactivated||(this._deactivated=!0,this._instance.outgoingConnectionFactory().removeAdapter(this));
return a.succeed(a)},waitForDeactivate:function(){var a=new b(this._communicator,"deactivate",null,null,this);return a.succeed(a)},isDeactivated:function(){return this._deactivated},destroy:function(){var a=new b(this._communicator,"destroy",null,null,this);this._deactivated||this.deactivate();this._destroyed||(this._destroyed=!0,this._servantManager.destroy(),this._objectAdapterFactory.removeObjectAdapter(this));return a.succeed(a)},add:function(a,b){return this.addFacet(a,b,"")},addFacet:function(a,
b,c){this.checkForDeactivation();this.checkIdentity(b);b=b.clone();this._servantManager.addServant(a,b,c);return this.newProxy(b,c)},addWithUUID:function(a){return this.addFacetWithUUID(a,"")},addFacetWithUUID:function(a,b){return this.addFacet(a,new e(k.generateUUID(),""),b)},addDefaultServant:function(a,b){this.checkForDeactivation();this._servantManager.addDefaultServant(a,b)},remove:function(a){return this.removeFacet(a,"")},removeFacet:function(a,b){this.checkForDeactivation();this.checkIdentity(a);
return this._servantManager.removeServant(a,b)},removeAllFacets:function(a){this.checkForDeactivation();this.checkIdentity(a);return this._servantManager.removeAllFacets(a)},removeDefaultServant:function(a){this.checkForDeactivation();return this._servantManager.removeDefaultServant(a)},find:function(a){return this.findFacet(a,"")},findFacet:function(a,b){this.checkForDeactivation();this.checkIdentity(a);return this._servantManager.findServant(a,b)},findAllFacets:function(a){this.checkForDeactivation();
this.checkIdentity(a);return this._servantManager.findAllFacets(a)},findByProxy:function(a){this.checkForDeactivation();a=a.__reference();return this.findFacet(a.getIdentity(),a.getFacet())},findDefaultServant:function(a){this.checkForDeactivation();return this._servantManager.findDefaultServant(a)},addServantLocator:function(a,b){this.checkForDeactivation();this._servantManager.addServantLocator(a,b)},removeServantLocator:function(a){this.checkForDeactivation();return this._servantManager.removeServantLocator(a)},
findServantLocator:function(a){this.checkForDeactivation();return this._servantManager.findServantLocator(a)},createProxy:function(a){this.checkForDeactivation();this.checkIdentity(a);return this.newProxy(a,"")},createDirectProxy:function(a){return this.createProxy(a)},createIndirectProxy:function(b){throw new a.FeatureNotSupportedException("setLocator not supported");},setLocator:function(b){throw new a.FeatureNotSupportedException("setLocator not supported");},refreshPublishedEndpoints:function(){throw new a.FeatureNotSupportedException("refreshPublishedEndpoints not supported");
},getEndpoints:function(){return[]},getPublishedEndpoints:function(){return[]},getServantManager:function(){return this._servantManager},newProxy:function(a,b){for(var c=[],d=0;d<this._routerEndpoints.length;++d)c.push(this._routerEndpoints[d]);c=this._instance.referenceFactory().create(a,b,this._reference,c);return this._instance.proxyFactory().referenceToProxy(c)},checkForDeactivation:function(b){if(this._deactivated){var c=new a.ObjectAdapterDeactivatedException;c.name=this.getName();if(void 0!==
b)return b.fail(c,b),!0;throw c;}return!1},checkIdentity:function(b){if(void 0===b.name||null===b.name||0===b.name.length){var c=new a.IllegalIdentityException;c.id=b.clone();throw c;}if(void 0===b.category||null===b.category)b.category=""},filterProperties:function(a){var b=!0,c,e=this._name+".";for(c=0;c<d.clPropNames.length;++c)if(0===e.indexOf(d.clPropNames[c]+".")){b=!1;break}for(var g=!0,f=this._instance.initializationData().properties.getPropertiesForPrefix(e).entries;null!==f;f=f.next){var k=
!1;for(c=0;c<m.length;++c)if(f.key===e+m[c]){g=!1;k=!0;break}!k&&b&&a.push(f.key)}return g}});a.ObjectAdapterI=p;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.BasicStream,c=a.Current,e=a.Debug,d=a.FormatType,g=a.HashMap,k=a.Identity,m=a.Protocol,p=a.StringUtil,h=a.Class({__init__:function(a,d,e,h,g,f){this._instance=a;this._response=h;this._compress=g;this._response&&(this._os=new b(a,m.currentProtocolEncoding));this._connection=d;this._current=new c;this._current.id=new k;this._current.adapter=e;this._current.con=this._connection;this._current.requestId=f;this._locator=this._servant=null;this._cookie={value:null};h&&(this._os.writeBlob(m.replyHdr),
this._os.writeInt(f));this._cb=this._is=null;this._active=!0},__startWriteParams:function(a){this._response&&(e.assert(this._os.size==m.headerSize+4),e.assert(null!==this._current.encoding),this._os.writeByte(0),this._os.startWriteEncaps(this._current.encoding,a));return this._os},__endWriteParams:function(a){if(this._response){var b=this._os.pos;this._os.pos=m.headerSize+4;this._os.writeByte(a?m.replyOK:m.replyUserException);this._os.pos=b;this._os.endWriteEncaps()}},__writeEmptyParams:function(){this._response&&
(e.assert(this._os.size===m.headerSize+4),e.assert(null!==this._current.encoding),this._os.writeByte(m.replyOK),this._os.writeEmptyEncaps(this._current.encoding))},__writeParamEncaps:function(a,b){this._response&&(e.assert(this._os.size===m.headerSize+4),e.assert(null!==this._current.encoding),this._os.writeByte(b?m.replyOK:m.replyUserException),null===a||0===a.length?this._os.writeEmptyEncaps(this._current.encoding):this._os.writeEncaps(a))},__writeUserException:function(a,b){this.__startWriteParams(b).writeUserException(a);
this.__endWriteParams(!1)},__warning:function(b){e.assert(null!==this._instance);var c=[];c.push("dispatch exception:");c.push("\nidentity: "+this._instance.identityToString(this._current.id));c.push("\nfacet: "+p.escapeString(this._current.facet,""));c.push("\noperation: "+this._current.operation);if(null!==this._connection){var d=this._connection.getInfo();d instanceof a.IPConnectionInfo&&c.push("\nremote host: "+d.remoteAddress+" remote port: "+d.remotePort)}b.stack&&(c.push("\n"),c.push(b.stack));
this._instance.initializationData().logger.warning(c.join(""))},__servantLocatorFinished:function(){e.assert(null!==this._locator&&null!==this._servant);try{return this._locator.finished(this._current,this._servant,this._cookie.value),!0}catch(b){return b instanceof a.UserException?(e.assert(null!==this._connection),this._response?(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUserException),this._os.startWriteEncaps(),this._os.writeUserException(b),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,
this._compress)):this._connection.sendNoResponse(),this._connection=null):this.__handleException(b),!1}},__handleException:function(b){e.assert(null!==this._connection);var c=this._instance.initializationData().properties;if(b instanceof a.RequestFailedException){null===b.id&&(b.id=this._current.id);null===b.facet&&(b.facet=this._current.facet);if(null===b.operation||0===b.operation.length)b.operation=this._current.operation;1<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b);
this._response?(this._os.resize(m.headerSize+4),b instanceof a.ObjectNotExistException?this._os.writeByte(m.replyObjectNotExist):b instanceof a.FacetNotExistException?this._os.writeByte(m.replyFacetNotExist):b instanceof a.OperationNotExistException?this._os.writeByte(m.replyOperationNotExist):e.assert(!1),b.id.__write(this._os),null===b.facet||0===b.facet.length?a.StringSeqHelper.write(this._os,null):a.StringSeqHelper.write(this._os,[b.facet]),this._os.writeString(b.operation),this._connection.sendResponse(this._os,
this._compress)):this._connection.sendNoResponse()}else b instanceof a.UnknownLocalException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownLocalException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):b instanceof a.UnknownUserException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?
(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownUserException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):b instanceof a.UnknownException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownException),this._os.writeString(b.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):
b instanceof a.LocalException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownLocalException),c=[b.ice_name()],b.stack&&(c.push("\n"),c.push(b.stack)),this._os.writeString(c.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):b instanceof a.UserException?(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?
(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownUserException),c=[b.ice_name()],b.stack&&(c.push("\n"),c.push(b.stack)),this._os.writeString(c.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):(0<c.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)&&this.__warning(b),this._response?(this._os.resize(m.headerSize+4),this._os.writeByte(m.replyUnknownException),this._os.writeString(b.stack?b.stack:""),this._connection.sendResponse(this._os,
this._compress)):this._connection.sendNoResponse());this._connection=null},invoke:function(b,c){this._is=c;this._current.id.__read(this._is);var h=a.StringSeqHelper.read(this._is);if(0<h.length){if(1<h.length)throw new a.MarshalException;this._current.facet=h[0]}else this._current.facet="";this._current.operation=this._is.readString();this._current.mode=a.OperationMode.valueOf(this._is.readByte());this._current.ctx=new g;for(h=this._is.readSize();0<h--;){var f=this._is.readString(),k=this._is.readString();
this._current.ctx.set(f,k)}if(null!==b&&(this._servant=b.findServant(this._current.id,this._current.facet),null===this._servant&&(this._locator=b.findServantLocator(this._current.id.category),null===this._locator&&0<this._current.id.category.length&&(this._locator=b.findServantLocator("")),null!==this._locator)))try{this._servant=this._locator.locate(this._current,this._cookie)}catch(p){p instanceof a.UserException?(h=this._is.skipEncaps(),this._response?(this._os.writeByte(m.replyUserException),
this._os.startWriteEncaps(h,d.DefaultFormat),this._os.writeUserException(p),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),this._connection=null):(this._is.skipEncaps(),this.__handleException(p));return}try{if(null!==this._servant){if(this._servant.__dispatch(this,this._current)===a.DispatchStatus.DispatchAsync||null!==this._locator&&!this.__servantLocatorFinished())return}else{this._is.skipEncaps();if(null!==b&&b.hasServant(this._current.id))throw new a.FacetNotExistException(this._current.id,
this._current.facet,this._current.operation);throw new a.ObjectNotExistException(this._current.id,this._current.facet,this._current.operation);}}catch(v){if(null!==this._servant&&null!==this._locator&&!this.__servantLocatorFinished())return;this.__handleException(v);return}e.assert(null!==this._connection);this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse();this._connection=null},startReadParams:function(){this._current.encoding=this._is.startReadEncaps();
return this._is},endReadParams:function(){this._is.endReadEncaps()},readEmptyParams:function(){this._current.encoding=new a.EncodingVersion;this._is.skipEmptyEncaps(this._current.encoding)},readParamEncaps:function(){this._current.encoding=new a.EncodingVersion;return this._is.readEncaps(this._current.encoding)},__response:function(){try{if(null===this._locator||this.__servantLocatorFinished())e.assert(null!==this._connection),this._response?this._connection.sendResponse(this._os,this._compress):
this._connection.sendNoResponse(),this._connection=null}catch(a){this._connection.invokeException(a,1)}},__exception:function(a){try{(null===this._locator||this.__servantLocatorFinished())&&this.__handleException(a)}catch(b){this._connection.invokeException(b,1)}},__validateResponse:function(a){if(!this._active)return!1;this._active=!1;return!0},ice_exception:function(a){this._active&&(this._active=!1,null!==this._connection?this.__exception(a):0<this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",
1)&&this.__warning(a))}});a.IncomingAsync=h;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncStatus,c=a.AsyncResultBase,e=a.BasicStream,d=a.ConnectionBatchOutgoingAsync,g=a.Debug,k=a.ExUtil,m=a.HashMap,p=a.IncomingAsync,h=a.LocalExceptionWrapper,l=a.Promise,q=a.Protocol,n=a.SocketOperation,s=a.TraceUtil,r=a.ProtocolVersion,u=a.EncodingVersion,v=function(a){this.stream=new e(a,q.currentProtocolEncoding,!1);this.requestId=this.invokeNum=0;this.compress=!1;this.outAsync=this.adapter=this.servantManager=null},w=a.Class,t=w({__init__:function(a,b,c,d,h,g,
f){this._communicator=a;this._instance=b;this._reaper=c;this._transceiver=d;this._desc=d.toString();this._type=d.type();this._endpoint=h;this._incoming=g;this._adapter=f;a=b.initializationData();this._logger=a.logger;this._traceLevels=b.traceLevels();this._timer=b.timer();this._writeTimeoutId=0;this._writeTimeoutScheduled=!1;this._readTimeoutId=0;this._readTimeoutScheduled=!1;this._hasMoreData={value:!1};this._warn=0<a.properties.getPropertyAsInt("Ice.Warn.Connections");this._warnUdp=0<b.initializationData().properties.getPropertyAsInt("Ice.Warn.Datagrams");
this._acmAbsoluteTimeoutMillis=0;this._nextRequestId=1;this._batchAutoFlush=0<a.properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlush",1)?!0:!1;this._batchStream=new e(b,q.currentProtocolEncoding,this._batchAutoFlush);this._batchStreamInUse=!1;this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;this._sendStreams=[];this._readStream=new e(b,q.currentProtocolEncoding);this._readHeader=!1;this._writeStream=new e(b,q.currentProtocolEncoding);this._writeStreamPos=this._readStreamPos=
-1;this._state=this._dispatchCount=0;this._validated=this._shutdownInitiated=!1;this._readProtocol=new r;this._readProtocolEncoding=new u;this._asyncRequests=new m;this._startPromise=this._exception=null;this._closePromises=[];this._holdPromises=[];this._finishedPromises=[];this._servantManager=null!==this._adapter?this._adapter.getServantManager():null;this._endpoint.datagram()?this._acmTimeout=0:this._acmTimeout=null!==this._adapter?this._adapter.getACM():this._instance.clientACM()},start:function(){g.assert(null===
this._startPromise);try{if(5<=this._state)return g.assert(null!==this._exception),(new l).fail(this._exception);this._startPromise=new l;var b=this;this._transceiver.setCallbacks(function(){b.message(n.Write)},function(){b.message(n.Read)},function(){b.message(n.Write)});this.initialize()}catch(c){return c instanceof a.LocalException&&this.exception(c),(new l).fail(c)}return this._startPromise},activate:function(){1>=this._state||(0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*
this._acmTimeout),this.setState(2))},hold:function(){1>=this._state||this.setState(3)},destroy:function(b){switch(b){case t.ObjectAdapterDeactivated:this.setStateEx(4,new a.ObjectAdapterDeactivatedException);break;case t.CommunicatorDestroyed:this.setStateEx(4,new a.CommunicatorDestroyedException)}},close:function(b){var d=new c(this._communicator,"close",this,null,null);b?(this.setStateEx(5,new a.ForcedCloseConnectionException),d.succeed(d)):(this._closePromises.push(d),this.checkClose());return d},
checkClose:function(){if(0===this._asyncRequests.size&&0<this._closePromises.length){this.setStateEx(4,new a.CloseConnectionException);for(var b=0;b<this._closePromises.length;++b)this._closePromises[b].succeed(this._closePromises[b]);this._closePromises=[]}},isActiveOrHolding:function(){return 1<this._state&&4>this._state},isFinished:function(){if(6!==this._state||0!==this._dispatchCount)return!1;g.assert(6===this._state);return!0},throwException:function(){if(null!==this._exception)throw g.assert(4<=
this._state),this._exception;},waitUntilHolding:function(){var a=new l;this._holdPromises.push(a);this.checkState();return a},waitUntilFinished:function(){var a=new l;this._finishedPromises.push(a);this.checkState();return a},monitor:function(b){2===this._state&&(0>=this._acmTimeout||0<this._asyncRequests.size||0<this._dispatchCount||this._readStream.size>q.headerSize||!this._writeStream.isEmpty()||!this._batchStream.isEmpty()||b>=this._acmAbsoluteTimeoutMillis&&this.setStateEx(4,new a.ConnectionTimeoutException))},
sendAsyncRequest:function(b,c,d){var e=0,f=b.__os();if(null!==this._exception)throw new h(this._exception,!0);g.assert(1<this._state);g.assert(4>this._state);this._transceiver.checkSendSize(f,this._instance.messageSizeMax());d&&(e=this._nextRequestId++,0>=e&&(this._nextRequestId=1,e=this._nextRequestId++),f.pos=q.headerSize,f.writeInt(e));var k;try{k=this.sendMessage(x.create(b,b.__os(),c,e))}catch(l){if(l instanceof a.LocalException)throw this.setStateEx(5,l),g.assert(null!==this._exception),this._exception;
throw l;}d&&this._asyncRequests.set(e,b);return k},prepareBatchRequest:function(b){if(null!==this._exception){if(this._batchStream.isEmpty())throw new h(this._exception,!0);throw this._exception;}g.assert(1<this._state);g.assert(4>this._state);if(this._batchStream.isEmpty())try{this._batchStream.writeBlob(q.requestBatchHdr)}catch(c){throw c instanceof a.LocalException&&this.setStateEx(5,c),c;}this._batchStreamInUse=!0;this._batchMarker=this._batchStream.size;this._batchStream.swap(b)},finishBatchRequest:function(b,
c){try{this._batchStream.swap(b);if(null!==this._exception)throw this._exception;var d=!1;if(this._batchAutoFlush)try{this._transceiver.checkSendSize(this._batchStream.buffer,this._instance.messageSizeMax())}catch(h){if(h instanceof a.LocalException)if(0<this._batchRequestNum)d=!0;else throw h;else throw h;}if(d){var f=this._batchStream.size-this._batchMarker;this._batchStream.pos=this._batchMarker;var l=this._batchStream.readBlob(f);this._batchStream.resize(this._batchMarker,!1);try{this._batchStream.pos=
q.headerSize,this._batchStream.writeInt(this._batchRequestNum),this.sendMessage(x.createForStream(this._batchStream,this._batchRequestCompress,!0))}catch(m){if(m instanceof a.LocalException)throw this.setStateEx(5,m),g.assert(null!==this._exception),this._exception;throw m;}this._batchStream=new e(this._instance,q.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;q.requestBatchHdr.length+l.length>this._instance.messageSizeMax()&&
k.throwMemoryLimitException(q.requestBatchHdr.length+l.length,this._instance.messageSizeMax());this._batchStream.writeBlob(q.requestBatchHdr);this._batchStream.writeBlob(l)}++this._batchRequestNum;c&&(this._batchRequestCompress=!0);g.assert(this._batchStreamInUse);this._batchStreamInUse=!1}catch(n){throw n instanceof a.LocalException&&this.abortBatchRequest(),n;}},abortBatchRequest:function(){this._batchStream=new e(this._instance,q.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=
0;this._batchRequestCompress=!1;this._batchMarker=0;g.assert(this._batchStreamInUse);this._batchStreamInUse=!1},flushBatchRequests:function(){var a=new d(this,this._communicator,"flushBatchRequests");try{a.__send()}catch(b){a.__exception(b)}return a},flushAsyncBatchRequests:function(c){if(null!==this._exception)throw this._exception;var d;if(0===this._batchRequestNum)return c.__sent(this),b.Sent;this._batchStream.pos=q.headerSize;this._batchStream.writeInt(this._batchRequestNum);this._batchStream.swap(c.__os());
try{d=this.sendMessage(x.create(c,c.__os(),this._batchRequestCompress,0))}catch(h){if(h instanceof a.LocalException)throw this.setStateEx(5,h),g.assert(null!==this._exception),this._exception;throw h;}this._batchStream=new e(this._instance,q.currentProtocolEncoding,this._batchAutoFlush);this._batchRequestNum=0;this._batchRequestCompress=!1;this._batchMarker=0;return d},sendResponse:function(b,c){g.assert(1<this._state);try{0===--this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState());
if(5<=this._state)throw g.assert(null!==this._exception),this._exception;this.sendMessage(x.createForStream(b,0!==c,!0));4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(d){if(d instanceof a.LocalException)this.setStateEx(5,d);else throw d;}},sendNoResponse:function(){g.assert(1<this._state);try{0===--this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState());if(5<=this._state)throw g.assert(null!==this._exception),this._exception;4===this._state&&0===
this._dispatchCount&&this.initiateShutdown()}catch(b){if(b instanceof a.LocalException)this.setStateEx(5,b);else throw b;}},endpoint:function(){return this._endpoint},setAdapter:function(a){1>=this._state||4<=this._state||(g.assert(4>this._state),this._adapter=a,null!==this._adapter?(this._servantManager=this._adapter.getServantManager(),null===this._servantManager&&(this._adapter=null)):this._servantManager=null)},getAdapter:function(){return this._adapter},getEndpoint:function(){return this._endpoint},
createProxy:function(a){return this._instance.proxyFactory().referenceToProxy(this._instance.referenceFactory().createFixed(a,this))},message:function(b){if(!(5<=this._state)){this.unscheduleTimeout(b);this._hasMoreData.value=0!==(b&n.Read);do{var c=null;try{if(0!==(b&n.Write)&&0<this._writeStream.buffer.remaining){if(!this._transceiver.write(this._writeStream.buffer)){g.assert(!this._writeStream.isEmpty());this.scheduleTimeout(n.Write,this._endpoint.timeout());break}g.assert(0===this._writeStream.buffer.remaining)}if(0!==
(b&n.Read)&&!this._readStream.isEmpty()){if(this._readHeader){if(!this._transceiver.read(this._readStream.buffer,this._hasMoreData))break;g.assert(0===this._readStream.buffer.remaining);this._readHeader=!1;var d=this._readStream.pos;if(d<q.headerSize)throw new a.IllegalMessageSizeException;this._readStream.pos=0;var e=this._readStream.readByte(),h=this._readStream.readByte(),f=this._readStream.readByte(),l=this._readStream.readByte();if(e!==q.magic[0]||h!==q.magic[1]||f!==q.magic[2]||l!==q.magic[3]){var m=
new a.BadMagicException;m.badMagic=a.Buffer.createNative([e,h,f,l]);throw m;}this._readProtocol.__read(this._readStream);q.checkSupportedProtocol(this._readProtocol);this._readProtocolEncoding.__read(this._readStream);q.checkSupportedProtocolEncoding(this._readProtocolEncoding);this._readStream.readByte();this._readStream.readByte();var r=this._readStream.readInt();if(r<q.headerSize)throw new a.IllegalMessageSizeException;r>this._instance.messageSizeMax()&&k.throwMemoryLimitException(r,this._instance.messageSizeMax());
r>this._readStream.size&&this._readStream.resize(r);this._readStream.pos=d}if(this._readStream.pos!=this._readStream.size){if(this._endpoint.datagram())throw new a.DatagramLimitException;if(!this._transceiver.read(this._readStream.buffer,this._hasMoreData)){g.assert(!this._readStream.isEmpty());this.scheduleTimeout(n.Read,this._endpoint.timeout());break}g.assert(0===this._readStream.buffer.remaining)}}if(1>=this._state){if(0===this._state&&!this.initialize())break;if(1>=this._state&&!this.validate())break;
this._transceiver.unregister();this.setState(3)}else g.assert(4>=this._state),0!==(b&n.Read)&&(c=this.parseMessage()),0!==(b&n.Write)&&this.sendNextMessage(),null!==c&&null!==c.outAsync&&++this._dispatchCount}catch(s){if(s instanceof a.DatagramLimitException){this._warnUdp&&this._logger.warning("maximum datagram size of "+this._readStream.pos+" exceeded");this._readStream.resize(q.headerSize);this._readStream.pos=0;this._readHeader=!0;break}else if(s instanceof a.SocketException){this.setStateEx(5,
s);break}else if(s instanceof a.LocalException){this._endpoint.datagram()?(this._warn&&this._logger.warning("datagram connection exception:\n"+s+"\n"+this._desc),this._readStream.resize(q.headerSize),this._readStream.pos=0,this._readHeader=!0):this.setStateEx(5,s);break}else throw s;}0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*this._acmTimeout);this.dispatch(c)}while(this._hasMoreData.value)}},dispatch:function(b){null!==this._startPromise&&(this._startPromise.succeed(),this._startPromise=
null);null!==b&&(null!==b.outAsync&&b.outAsync.__finished(b.stream),0<b.invokeNum&&this.invokeAll(b.stream,b.invokeNum,b.requestId,b.compress,b.servantManager,b.adapter));if(null!==b&&null!==b.outAsync&&0===--this._dispatchCount){if(4!==this._state||this._shutdownInitiated)6===this._state&&this._reaper.add(this);else try{this.initiateShutdown()}catch(c){if(c instanceof a.LocalException)this.setStateEx(5,c);else throw c;}this.checkState()}},finish:function(){g.assert(5===this._state);this.unscheduleTimeout(n.Read|
n.Write|n.Connect);null!==this._startPromise&&(this._startPromise.fail(this._exception),this._startPromise=null);if(0<this._sendStreams.length){this._writeStream.isEmpty()||this._writeStream.swap(this._sendStreams[0].stream);for(var a=0;a<this._sendStreams.length;++a){var b=this._sendStreams[a];0<b.requestId&&this._asyncRequests.delete(b.requestId);b.finished(this._exception)}this._sendStreams=[]}for(a=this._asyncRequests.entries;null!==a;a=a.next)a.value.__finishedEx(this._exception,!0);this._asyncRequests.clear();
0===this._dispatchCount&&this._reaper.add(this);this.setState(6)},toString:function(){return this._desc},timedOut:function(b){1>=this._state?this.setStateEx(5,new a.ConnectTimeoutException):4>this._state?this.setStateEx(5,new a.TimeoutException):4===this._state&&this.setStateEx(5,new a.CloseTimeoutException)},type:function(){return this._type},timeout:function(){return this._endpoint.timeout()},getInfo:function(){if(5<=this._state)throw this._exception;var a=this._transceiver.getInfo();a.adapterName=
null!==this._adapter?this._adapter.getName():"";a.incoming=this._incoming;return a},exception:function(a){this.setStateEx(5,a)},invokeException:function(a,b){this.setStateEx(5,a);0<b&&(g.assert(0<this._dispatchCount),this._dispatchCount-=b,g.assert(0<=this._dispatchCount),0===this._dispatchCount&&(6===this._state&&this._reaper.add(this),this.checkState()))},setStateEx:function(b,c){g.assert(c instanceof a.LocalException);g.assert(4<=b);this._state!==b&&(null===this._exception&&(this._exception=c,
this._warn&&this._validated&&(this._exception instanceof a.CloseConnectionException||this._exception instanceof a.ForcedCloseConnectionException||this._exception instanceof a.ConnectionTimeoutException||this._exception instanceof a.CommunicatorDestroyedException||this._exception instanceof a.ObjectAdapterDeactivatedException||this._exception instanceof a.ConnectionLostException&&4===this._state||this.warning("connection exception",this._exception))),this.setState(b))},setState:function(b){this._endpoint.datagram()&&
4===b&&(b=5);1>=this._state&&4===b&&(b=5);if(this._state!==b){try{switch(b){case 0:g.assert(!1);break;case 1:if(0!==this._state){g.assert(5===this._state);return}this._endpoint.datagram()||this._incoming||this._transceiver.register();break;case 2:if(3!==this._state&&1!==this._state)return;this._transceiver.register();break;case 3:if(2!==this._state&&1!==this._state)return;2===this._state&&this._transceiver.unregister();break;case 4:if(5<=this._state)return;3===this._state&&this._transceiver.register();
break;case 5:if(6===this._state)return;this._transceiver.unregister();break;case 6:g.assert(5===this._state),this._transceiver.close(),this._communicator=null}}catch(c){if(c instanceof a.LocalException){var d="unexpected connection exception:\n "+this._desc+"\n"+k.toString(c);this._instance.initializationData().logger.error(d)}else throw c;}0<this._acmTimeout&&(2===b?this._instance.connectionMonitor().add(this):2===this._state&&this._instance.connectionMonitor().remove(this));this._state=b;if(4===
this._state&&0===this._dispatchCount)try{this.initiateShutdown()}catch(e){if(e instanceof a.LocalException)this.setStateEx(5,e);else throw e;}else 5===this._state&&this.finish();this.checkState()}},initiateShutdown:function(){g.assert(4===this._state);g.assert(0===this._dispatchCount);g.assert(!this._shutdownInitiated);if(!this._endpoint.datagram()){var a=new e(this._instance,q.currentProtocolEncoding,!1);a.writeBlob(q.magic);q.currentProtocol.__write(a);q.currentProtocolEncoding.__write(a);a.writeByte(q.closeConnectionMsg);
a.writeByte(0);a.writeInt(q.headerSize);0<(this.sendMessage(x.createForStream(a,!1,!1))&b.Sent)&&this.scheduleTimeout(n.Write,this.closeTimeout())}},initialize:function(){var a=this._transceiver.initialize(this._readStream.buffer,this._writeStream.buffer);if(a!=n.None)return this.scheduleTimeout(a,this.connectTimeout()),!1;this._desc=this._transceiver.toString();this.setState(1);return!0},validate:function(){if(!this._endpoint.datagram())if(null!==this._adapter){if(0===this._writeStream.size&&(this._writeStream.writeBlob(q.magic),
q.currentProtocol.__write(this._writeStream),q.currentProtocolEncoding.__write(this._writeStream),this._writeStream.writeByte(q.validateConnectionMsg),this._writeStream.writeByte(0),this._writeStream.writeInt(q.headerSize),s.traceSend(this._writeStream,this._logger,this._traceLevels),this._writeStream.prepareWrite()),this._writeStream.pos!=this._writeStream.size&&!this._transceiver.write(this._writeStream.buffer))return this.scheduleTimeout(n.Write,this.connectTimeout()),!1}else{0===this._readStream.size&&
(this._readStream.resize(q.headerSize),this._readStream.pos=0);if(this._readStream.pos!==this._readStream.size&&!this._transceiver.read(this._readStream.buffer,this._hasMoreData))return this.scheduleTimeout(n.Read,this.connectTimeout()),!1;g.assert(this._readStream.pos===q.headerSize);this._readStream.pos=0;var b=this._readStream.readBlob(4);if(b[0]!==q.magic[0]||b[1]!==q.magic[1]||b[2]!==q.magic[2]||b[3]!==q.magic[3]){var c=new a.BadMagicException;c.badMagic=b;throw c;}this._readProtocol.__read(this._readStream);
q.checkSupportedProtocol(this._readProtocol);this._readProtocolEncoding.__read(this._readStream);q.checkSupportedProtocolEncoding(this._readProtocolEncoding);if(this._readStream.readByte()!==q.validateConnectionMsg)throw new a.ConnectionNotValidatedException;this._readStream.readByte();if(this._readStream.readInt()!==q.headerSize)throw new a.IllegalMessageSizeException;s.traceRecv(this._readStream,this._logger,this._traceLevels);this._validated=!0}this._writeStream.resize(0);this._writeStream.pos=
0;this._readStream.resize(q.headerSize);this._readHeader=!0;this._readStream.pos=0;return!0},sendNextMessage:function(){if(0!==this._sendStreams.length){g.assert(!this._writeStream.isEmpty()&&this._writeStream.pos===this._writeStream.size);try{for(;;){var b=this._sendStreams.shift();this._writeStream.swap(b.stream);b.sent(this);if(0===this._sendStreams.length)break;if(5<=this._state)return;b=this._sendStreams[0];g.assert(!b.prepared);var c=b.stream;c.pos=10;c.writeInt(c.size);c.prepareWrite();b.prepared=
!0;null!==b.outAsync?s.trace("sending asynchronous request",c,this._logger,this._traceLevels):s.traceSend(c,this._logger,this._traceLevels);this._writeStream.swap(b.stream);if(this._writeStream.pos!=this._writeStream.size&&!this._transceiver.write(this._writeStream.buffer)){g.assert(!this._writeStream.isEmpty());this.scheduleTimeout(n.Write,this._endpoint.timeout());return}}}catch(d){if(d instanceof a.LocalException){this.setState(5,d);return}throw d;}g.assert(this._writeStream.isEmpty());4===this._state&&
this.scheduleTimeout(n.Write,this.closeTimeout())}},sendMessage:function(a){if(0<this._sendStreams.length)return a.doAdopt(),this._sendStreams.push(a),b.Queued;g.assert(5>this._state);g.assert(!a.prepared);var c=a.stream;c.pos=10;c.writeInt(c.size);c.prepareWrite();a.prepared=!0;s.trace("sending asynchronous request",a.stream,this._logger,this._traceLevels);if(this._transceiver.write(a.stream.buffer))return a.sent(this),0<this._acmTimeout&&(this._acmAbsoluteTimeoutMillis=Date.now()+1E3*this._acmTimeout),
b.Sent;a.doAdopt();this._writeStream.swap(a.stream);this._sendStreams.push(a);this.scheduleTimeout(n.Write,this._endpoint.timeout());return b.Queued},parseMessage:function(){g.assert(1<this._state&&5>this._state);var b=new v(this._instance);this._readStream.swap(b.stream);this._readStream.resize(q.headerSize);this._readStream.pos=0;this._validated=this._readHeader=!0;g.assert(b.stream.pos===b.stream.size);try{b.stream.pos=8;var c=b.stream.readByte();b.compress=b.stream.readByte();if(2===b.compress){var d=
new a.FeatureNotSupportedException;d.unsupportedFeature="Cannot uncompress compressed message";throw d;}b.stream.pos=q.headerSize;switch(c){case q.closeConnectionMsg:s.traceRecv(b.stream,this._logger,this._traceLevels);this._endpoint.datagram()?this._warn&&this._logger.warning("ignoring close connection message for datagram connection:\n"+this._desc):this.setStateEx(5,new a.CloseConnectionException);break;case q.requestMsg:4===this._state?s.trace("received request during closing\n(ignored by server, client will retry)",
b.stream,this._logger,this._traceLevels):(s.traceRecv(b.stream,this._logger,this._traceLevels),b.requestId=b.stream.readInt(),b.invokeNum=1,b.servantManager=this._servantManager,b.adapter=this._adapter,++this._dispatchCount);break;case q.requestBatchMsg:if(4===this._state)s.trace("received batch request during closing\n(ignored by server, client will retry)",b.stream,this._logger,this._traceLevels);else{s.traceRecv(b.stream,this._logger,this._traceLevels);b.invokeNum=b.stream.readInt();if(0>b.invokeNum)throw b.invokeNum=
0,new a.UnmarshalOutOfBoundsException;b.servantManager=this._servantManager;b.adapter=this._adapter;this._dispatchCount+=b.invokeNum}break;case q.replyMsg:s.traceRecv(b.stream,this._logger,this._traceLevels);b.requestId=b.stream.readInt();b.outAsync=this._asyncRequests.get(b.requestId);this._asyncRequests.delete(b.requestId);if(void 0===b.outAsync)throw new a.UnknownRequestIdException;this.checkClose();break;case q.validateConnectionMsg:s.traceRecv(b.stream,this._logger,this._traceLevels);this._warn&&
this._logger.warning("ignoring unexpected validate connection message:\n"+this._desc);break;default:throw s.trace("received unknown message\n(invalid, closing connection)",b.stream,this._logger,this._traceLevels),new a.UnknownMessageException;}}catch(e){if(e instanceof a.LocalException)this._endpoint.datagram()?this._warn&&this._logger.warning("datagram connection exception:\n"+e+"\n"+this._desc):this.setStateEx(5,e);else throw e;}return b},invokeAll:function(b,c,d,e,h,g){var f=null;try{for(;0<c;){var k=
!this._endpoint.datagram()&&0!==d,f=new p(this._instance,this,g,k,e,d);f.invoke(h,b);--c;f=null}b.clear()}catch(l){if(l instanceof a.LocalException)this.invokeException(l,c);else throw l;}},scheduleTimeout:function(a,b){if(!(0>b)){var c=this;0!==(a&n.Read)&&(this._readTimeoutId=this._timer.schedule(function(){c.timedOut()},b),this._readTimeoutScheduled=!0);0!==(a&(n.Write|n.Connect))&&(this._writeTimeoutId=this._timer.schedule(function(){c.timedOut()},b),this._writeTimeoutScheduled=!0)}},unscheduleTimeout:function(a){0!==
(a&n.Read)&&this._readTimeoutScheduled&&(this._timer.cancel(this._readTimeoutId),this._readTimeoutScheduled=!1);0!==(a&(n.Write|n.Connect))&&this._writeTimeoutScheduled&&(this._timer.cancel(this._writeTimeoutId),this._writeTimeoutScheduled=!1)},connectTimeout:function(){var a=this._instance.defaultsAndOverrides();return a.overrideConnectTimeout?a.overrideConnectTimeoutValue:this._endpoint.timeout()},closeTimeout:function(){var a=this._instance.defaultsAndOverrides();return a.overrideCloseTimeout?
a.overrideCloseTimeoutValue:this._endpoint.timeout()},warning:function(a,b){this._logger.warning(a+":\n"+this._desc+"\n"+k.toString(b))},checkState:function(){if(!(3>this._state||0<this._dispatchCount)){var a;if(0<this._holdPromises.length){for(a=0;a<this._holdPromises.length;++a)this._holdPromises[a].succeed();this._holdPromises=[]}if(6===this._state&&0<this._finishedPromises.length){this._adapter=null;for(a=0;a<this._finishedPromises.length;++a)this._finishedPromises[a].succeed();this._finishedPromises=
[]}}}});t.ObjectAdapterDeactivated=0;t.CommunicatorDestroyed=1;a.ConnectionI=t;f.Ice=a;var x=w({__init__:function(){this.outAsync=this.stream=null;this.compress=!1;this.requestId=0;this.isSent=this.prepared=!1},doAdopt:function(){if(this.adopt){var a=new e(this.stream.instance,q.currentProtocolEncoding);a.swap(this.stream);this.stream=a;this.adopt=!1}},sent:function(a){this.isSent=!0;null!==this.outAsync&&this.outAsync.__sent(a)},finished:function(a){null!==this.outAsync&&this.outAsync.__finishedEx(a,
this.isSent)}});x.createForStream=function(a,b,c){var d=new x;d.stream=a;d.compress=b;d.adopt=c;d.isSent=!1;d.requestId=0;d.outAsync=null;return d};x.create=function(a,b,c,d){var e=new x;e.stream=b;e.compress=c;e.outAsync=a;e.requestId=d;e.isSent=!1;e.adopt=!1;return e}})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{};a.TraceLevels=function(a){var c=a.getPropertyAsInt("Ice.Trace.Network"),e=a.getPropertyAsInt("Ice.Trace.Protocol"),d=a.getPropertyAsInt("Ice.Trace.Retry"),g=a.getPropertyAsInt("Ice.Trace.Locator"),f=a.getPropertyAsInt("Ice.Trace.Slicing");a.getPropertyAsInt("Ice.Trace.ThreadPool");return Object.create(null,{network:{get:function(){return c}},networkCat:{get:function(){return"Network"}},protocol:{get:function(){return e}},protocolCat:{get:function(){return"Protocol"}},
retry:{get:function(){return d}},retryCat:{get:function(){return"Retry"}},location:{get:function(){return g}},locationCat:{get:function(){return"Locator"}},slicing:{get:function(){return f}},slicingCat:{get:function(){return"Slicing"}}})};f.Ice=a})("undefined"===typeof global?window:global);
(function(f,a){var b=f.Ice||{},c=f.IceWS||{};Object.defineProperty(c,"WSEndpointType",{value:4});Object.defineProperty(c,"WSSEndpointType",{value:5});c.EndpointInfo=Slice.defineLocalObject(function(a,c,f,k,m){b.IPEndpointInfo.call(this,a,c,f,k);this.resource=void 0!==m?m:null},b.IPEndpointInfo);f.IceWS=c})("undefined"===typeof global?window:global,"undefined"===typeof require?void 0:require);
(function(f){var a=f.Ice||{},b=f.IceWS||{},c=a.Address,e=a.HashUtil,d=a.StringUtil,g=b.Transceiver,k=a.Class,m=k(a.Endpoint,{__init__:function(a,b,c,d,e,f,g,k){this._instance=a;this._secure=b;this._host=c;this._port=d;this._timeout=e;this._connectionId=f;this._compress=g;this._resource=k;this.calcHashValue()},toString:function(){var a=this._secure?"wss":"ws";null!==this._host&&0<this._host.length&&(a=a+" -h "+(-1!==this._host.indexOf(":")?'"'+this._host+'"':this._host));a+=" -p "+this._port;-1!=this._timeout&&
(a+=" -t "+this._timeout);this._compress&&(a+=" -z");null!==this._resource&&0<this._resource.length&&(a+=" -r ",a+=-1!==this._resource.indexOf(":")?'"'+this._resource+'"':this._resource);return a},getInfo:function(){return new p(this._secure,this._timeout,this._compress,this._host,this._port,this._resource)},streamWrite:function(a){a.writeShort(this._secure?b.WSSEndpointType:b.WSEndpointType);a.startWriteEncaps();a.writeString(this._host);a.writeInt(this._port);a.writeInt(this._timeout);a.writeBool(this._compress);
a.writeString(this._resource);a.endWriteEncaps()},type:function(){return this._secure?b.WSSEndpointType:b.WSEndpointType},timeout:function(){return this._timeout},changeTimeout:function(a){return a===this._timeout?this:new m(this._instance,this._secure,this._host,this._port,a,this._connectionId,this._compress,this._resource)},changeConnectionId:function(a){return a===this._connectionId?this:new m(this._instance,this._secure,this._host,this._port,this._timeout,a,this._compress,this._resource)},compress:function(){return this._compress},
changeCompress:function(a){return a===this._compress?this:new m(this._instance,this._secure,this._host,this._port,this._timeout,this._connectionId,a,this._resource)},datagram:function(){return!1},secure:function(){return this._secure},transceiver:function(a){return null},acceptor:function(a,b){return null},connect:function(){2<=this._instance.traceLevels().network&&this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,"trying to establish "+(this._secure?"wss":"ws")+
" connection to "+this._host+":"+this._port);return g.createOutgoing(this._instance,this._secure,new c(this._host,this._port),this._resource)},hashCode:function(){return this._hashCode},equals:function(a){return a instanceof m?this===a?!0:this._host!==a._host||this._port!==a._port||this._timeout!==a._timeout||this._connectionId!==a._connectionId||this._compress!==a._compress||this._resource!==a._resource?!1:!0:!1},compareTo:function(a){return this===a?0:null===a?1:a instanceof m?this._port<a._port?
-1:a._port<this._port?1:this._timeout<a._timeout?-1:a._timeout<this._timeout?1:this._connectionId!=a._connectionId?this._connectionId<a._connectionId?-1:1:!this._compress&&a._compress?-1:!a._compress&&this._compress?1:this._host<a._host?-1:a._host<this._host?1:this._resource==a._resource?0:this._resource<a._resource?-1:1:this.type()<a.type()?-1:1},calcHashValue:function(){var a;a=e.addNumber(5381,this._secure?b.WSSEndpointType:b.WSEndpointType);a=e.addString(a,this._host);a=e.addNumber(a,this._port);
a=e.addNumber(a,this._timeout);a=e.addString(a,this._connectionId);a=e.addBoolean(a,this._compress);this._hashCode=a=e.addString(a,this._resource)}});m.fromString=function(b,c,e,f){for(var g=null,k=0,p=-1,v=!1,w="",t=c?"wss":"ws",x=e.split(/[ \t\n\r]+/),z=0;z<x.length;)if(0===x[z].length)z++;else{var B=x[z++];if(2!=B.length&&"-"!=B.charAt(0))throw new a.EndpointParseException("expected an endpoint option but found `"+B+"' in endpoint `"+t+" "+e+"'");var y=null;z<x.length&&"-"!=x[z].charAt(0)&&(y=
x[z++],'"'==y.charAt(0)&&'"'==y.charAt(y.length-1)&&(y=y.substring(1,y.length-1)));switch(B.charAt(1)){case "h":if(null===y)throw new a.EndpointParseException("no argument provided for -h option in endpoint `"+t+" "+e+"'");g=y;break;case "p":if(null===y)throw new a.EndpointParseException("no argument provided for -p option in endpoint `"+t+" "+e+"'");try{k=d.toInt(y)}catch(A){throw new a.EndpointParseException("invalid port value `"+y+"' in endpoint `"+t+" "+e+"'");}if(0>k||65535<k)throw new a.EndpointParseException("port value `"+
y+"' out of range in endpoint `"+t+" "+e+"'");break;case "r":if(null===y)throw new a.EndpointParseException("no argument provided for -r option in endpoint `"+t+" "+e+"'");w=y;break;case "t":if(null===y)throw new a.EndpointParseException("no argument provided for -t option in endpoint `"+t+" "+e+"'");try{p=d.toInt(y)}catch(C){throw new a.EndpointParseException("invalid timeout value `"+y+"' in endpoint `"+t+" "+e+"'");}break;case "z":if(null!==y)throw new a.EndpointParseException("unexpected argument `"+
y+"' provided for -z option in `"+t+" "+e+"'");v=!0;break;default:throw new a.EndpointParseException("unknown option `"+B+"' in `"+t+" "+e+"'");}}if(null===g)g=b.defaultsAndOverrides().defaultHost;else if("*"==g)if(f)g=null;else throw new a.EndpointParseException("`-h *' not valid for proxy endpoint `"+t+" "+e+"'");null===g&&(g="");return new m(b,c,g,k,p,"",v,w)};m.fromStream=function(a,b){a.startReadEncaps();var c=a.readString(),d=a.readInt(),e=a.readInt(),g=a.readBool(),f=a.readString();a.endReadEncaps();
return new m(a.instance,b,c,d,e,"",g,f)};b.EndpointI=m;f.IceWS=b;var p=k(b.EndpointInfo,{__init__:function(a,c,d,e,g,f){b.EndpointInfo.call(this,c,d,e,g,f);this.secure=a},type:function(){return this._secure?b.WSSEndpointType:b.WSEndpointType},datagram:function(){return!1},secure:function(){return this._secure}})})("undefined"===typeof global?window:global);
(function(f){var a=f.IceWS||{},b=a.EndpointI,c=(f.Ice||{}).Class({__init__:function(a,b){this._instance=a;this._secure=b},type:function(){return this._secure?a.WSSEndpointType:a.WSEndpointType},protocol:function(){return this._secure?"wss":"ws"},create:function(a,c){return b.fromString(this._instance,this._secure,a,c)},read:function(a){return b.fromStream(a,this._secure)},destroy:function(){this._instance=null}});a.EndpointFactory=c;f.IceWS=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResultBase,c=a.ConnectionI,e=a.ConnectionReaper,d=a.Debug,g=a.ExUtil,k=a.HashMap,m=a.Promise,p=a.Class,h=p({__init__:function(a,b){this._communicator=a;this._instance=b;this._destroyed=!1;this._reaper=new e;this._connectionsByEndpoint=new l;this._pending=new k;this._pending.keyComparator=k.compareEquals;this._pendingConnectCount=0;this._waitPromise=null},destroy:function(){this._destroyed||(this._connectionsByEndpoint.forEach(function(a){a.destroy(c.CommunicatorDestroyed)}),
this._destroyed=!0,this._communicator=null,this.checkFinished())},waitUntilFinished:function(){this._waitPromise=new m;this.checkFinished();return this._waitPromise},create:function(a,b,c){d.assert(0<a.length);a=this.applyOverrides(a);try{var e={value:!1},g=this.findConnectionByEndpoint(a,e);if(null!==g)return(new m).succeed(g,e.value)}catch(f){return(new m).fail(f)}return(new q(this,a,b,c)).start()},setRouterInfo:function(b){var c=this;return a.Promise.try(function(){if(c._destroyed)throw new a.CommunicatorDestroyedException;
return b.getClientEndpoints()}).then(function(a){for(var d=b.getAdapter(),e=c._instance.defaultsAndOverrides(),g=0;g<a.length;++g){var f=a[g];e.overrideTimeout&&(f=f.changeTimeout(e.overrideTimeoutValue));f=f.changeCompress(!1);c._connectionsByEndpoint.forEach(function(a){a.endpoint().equals(f)&&a.setAdapter(d)})}})},removeAdapter:function(a){this._destroyed||this._connectionsByEndpoint.forEach(function(b){b.getAdapter()===a&&b.setAdapter(null)})},flushAsyncBatchRequests:function(){var c=new b(this._communicator,
"flushBatchRequests",null,null,null);if(this._destroyed)c.succeed();else return m.all(this._connectionsByEndpoint.map(function(b){if(b.isActiveOrHolding())return b.flushBatchRequests().exception(function(b){if(!(b instanceof a.LocalException))throw b;})})).then(function(){c.succeed(c)},function(a){c.fail(a,c)}),c},applyOverrides:function(a){for(var b=this._instance.defaultsAndOverrides(),c=[],d=0;d<a.length;++d){var e=a[d];b.overrideTimeout?c.push(e.changeTimeout(b.overrideTimeoutValue)):c.push(e)}return c},
findConnectionByEndpoint:function(b,c){if(this._destroyed)throw new a.CommunicatorDestroyedException;var e=this._instance.defaultsAndOverrides();d.assert(0<b.length);for(var g=0;g<b.length;++g){var f=b[g];if(!this._pending.has(f)){var h=this._connectionsByEndpoint.get(f);if(void 0!==h)for(var k=0;k<h.length;++k)if(h[k].isActiveOrHolding())return c.value=e.overrideCompress?e.overrideCompressValue:f.compress(),h[k]}}return null},incPendingConnectCount:function(){if(this._destroyed)throw new a.CommunicatorDestroyedException;
++this._pendingConnectCount},decPendingConnectCount:function(){--this._pendingConnectCount;d.assert(0<=this._pendingConnectCount);this._destroyed&&0===this._pendingConnectCount&&this.checkFinished()},getConnection:function(b,c,d){if(this._destroyed)throw new a.CommunicatorDestroyedException;var e=this._reaper.swapConnections();if(null!==e)for(var g=0;g<e.length;++g){var f=e[g];this._connectionsByEndpoint.removeConnection(f.endpoint(),f);this._connectionsByEndpoint.removeConnection(f.endpoint().changeCompress(!0),
f)}for(;;){if(this._destroyed)throw new a.CommunicatorDestroyedException;d=this.findConnectionByEndpoint(b,d);if(null!==d)return d;if(this.addToPending(c,b))return null;break}c.nextEndpoint();return null},createConnection:function(b,e){d.assert(this._pending.has(e)&&null!==b);var f=null;try{if(this._destroyed)throw new a.CommunicatorDestroyedException;f=new c(this._communicator,this._instance,this._reaper,b,e.changeCompress(!1),!1,null)}catch(g){if(g instanceof a.LocalException)try{b.close()}catch(h){}throw g;
}this._connectionsByEndpoint.set(f.endpoint(),f);this._connectionsByEndpoint.set(f.endpoint().changeCompress(!0),f);return f},finishGetConnection:function(a,b,c,d){var e=[];null!==d&&e.push(d);var f,g;d=[];for(f=0;f<a.length;++f){g=a[f];var h=this._pending.get(g);if(void 0!==h){this._pending.delete(g);for(var k=0;k<h.length;++k)g=h[k],g.hasEndpoint(b)?-1===e.indexOf(g)&&e.push(g):-1===d.indexOf(g)&&d.push(g)}}for(f=0;f<e.length;++f)g=e[f],g.removeFromPending(),a=d.indexOf(g),-1!==a&&d.splice(a,1);
for(f=0;f<d.length;++f)g=d[f],g.removeFromPending();f=this._instance.defaultsAndOverrides();b=f.overrideCompress?f.overrideCompressValue:b.compress();for(f=0;f<d.length;++f)g=d[f],g.getConnection();for(f=0;f<e.length;++f)g=e[f],g.setConnection(c,b);this.checkFinished()},finishGetConnectionEx:function(a,b,c){var e=[];null!==c&&e.push(c);var f,g=[];for(c=0;c<a.length;++c){f=a[c];var h=this._pending.get(f);if(void 0!==h){this._pending.delete(f);for(var k=0;k<h.length;++k)f=h[k],f.removeEndpoints(a)?
-1===e.indexOf(f)&&e.push(f):-1===g.indexOf(f)&&g.push(f)}}for(c=0;c<g.length;++c)f=g[c],d.assert(-1===e.indexOf(f)),f.removeFromPending();this.checkFinished();for(c=0;c<g.length;++c)f=g[c],f.getConnection();for(c=0;c<e.length;++c)f=e[c],f.setException(b)},addToPending:function(a,b){var c=!1,d,e;if(null!==a)for(e=0;e<b.length;++e)d=b[e],d=this._pending.get(d),void 0!==d&&(c=!0,-1===d.indexOf(a)&&d.push(a));if(c)return!0;for(e=0;e<b.length;++e)d=b[e],this._pending.has(d)||this._pending.set(d,[]);return!1},
removeFromPending:function(a,b){for(var c=0;c<b.length;++c){var d=this._pending.get(b[c]);if(void 0!==d){var e=d.indexOf(a);-1!==e&&d.splice(e,1)}}},handleConnectionException:function(b,c){var d=this._instance.traceLevels();if(2<=d.retry){var e=[];e.push("connection to endpoint failed");b instanceof a.CommunicatorDestroyedException?e.push("\n"):c?e.push(", trying next endpoint\n"):e.push(" and no more endpoints to try\n");e.push(g.toString(b));this._instance.initializationData().logger.trace(d.retryCat,
e.join(""))}},handleException:function(b,c){var d=this._instance.traceLevels();if(2<=d.retry){var e=[];e.push("couldn't resolve endpoint host");b instanceof a.CommunicatorDestroyedException?e.push("\n"):c?e.push(", trying next endpoint\n"):e.push(" and no more endpoints to try\n");e.push(g.toString(b));this._instance.initializationData().logger.trace(d.retryCat,e.join(""))}},checkFinished:function(){if(this._waitPromise&&this._destroyed&&!(0<this._pending.size||0<this._pendingConnectCount)){var a=
this;m.all(a._connectionsByEndpoint.map(function(a){return a.waitUntilFinished().exception(function(a){d.assert(!1)})})).then(function(){var b=a._reaper.swapConnections();if(null!==b){for(var c=[],e=a._connectionsByEndpoint.entries;null!==e;e=e.next)for(var f=e.value,g=0;g<f.length;++g)-1===c.indexOf(f[g])&&c.push(f[g]);d.assert(b.length===c.length);a._connectionsByEndpoint.clear()}else d.assert(0===a._connectionsByEndpoint.size);d.assert(null!==a._waitPromise);a._waitPromise.succeed()})}}});a.OutgoingConnectionFactory=
h;f.Ice=a;var l=p(k,{__init__:function(a){k.call(this,a);this.keyComparator=k.compareEquals},set:function(a,b){var e=this.get(a);void 0===e&&(e=[],k.prototype.set.call(this,a,e));d.assert(b instanceof c);e.push(b)},removeConnection:function(a,b){var c=this.get(a);d.assert(null!==c);var e=c.indexOf(b);d.assert(-1!==e);c.splice(e,1);0===c.length&&this.delete(a)},map:function(a){var b=[];this.forEach(function(c){b.push(a(c))});return b},forEach:function(a){for(var b=this._head;null!==b;b=b._next)for(var c=
0;c<b.value.length;++c)a(b.value[c])}}),q=p({__init__:function(a,b,c,d){this._factory=a;this._endpoints=b;this._hasMore=c;this._selType=d;this._promise=new m;this._index=0;this._current=null},connectionStartCompleted:function(a){a.activate();this._factory.finishGetConnection(this._endpoints,this._current,a,this)},connectionStartFailed:function(b,c){d.assert(null!==this._current);c instanceof a.LocalException?(this._factory.handleConnectionException(c,this._hasMore||this._index<this._endpoints.length),
c instanceof a.CommunicatorDestroyedException?this._factory.finishGetConnectionEx(this._endpoints,c,this):this._index<this._endpoints.length?this.nextEndpoint():this._factory.finishGetConnectionEx(this._endpoints,c,this)):this._factory.finishGetConnectionEx(this._endpoints,c,this)},setConnection:function(a,b){this._promise.succeed(a,b);this._factory.decPendingConnectCount()},setException:function(a){this._promise.fail(a);this._factory.decPendingConnectCount()},hasEndpoint:function(a){return-1!==this.findEndpoint(a)},
findEndpoint:function(a){for(var b=0;b<this._endpoints.length;++b)if(a.equals(this._endpoints[b]))return b;return-1},removeEndpoints:function(a){for(var b=0;b<a.length;++b){var c=this.findEndpoint(a[b]);-1!==c&&this._endpoints.splice(c,1)}this._index=0;return 0===this._endpoints.length},removeFromPending:function(){this._factory.removeFromPending(this,this._endpoints)},start:function(){try{this._factory.incPendingConnectCount()}catch(a){this._promise.fail(a);return}this.getConnection();return this._promise},
getConnection:function(){try{var a={value:!1},b=this._factory.getConnection(this._endpoints,this,a);null!==b&&(this._promise.succeed(b,a.value),this._factory.decPendingConnectCount())}catch(c){this._promise.fail(c),this._factory.decPendingConnectCount()}},nextEndpoint:function(){var a=null;try{d.assert(this._index<this._endpoints.length);this._current=this._endpoints[this._index++];var a=this._factory.createConnection(this._current.connect(),this._current),b=this;a.start().then(function(){b.connectionStartCompleted(a)},
function(c){b.connectionStartFailed(a,c)})}catch(c){this.connectionStartFailed(a,c)}}})})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Debug,c=a.BasicStream,e=a.EndpointParseException,d=a.OpaqueEndpointI,g=a.Protocol,k=a.Class({__init__:function(a){this._instance=a;this._factories=[]},add:function(a){for(var c=0;c<this._factories.length;++c)b.assert(this._factories[c].type()!=a.type());this._factories.push(a)},get:function(a){for(var b=0;b<this._factories.length;++b)if(this._factories[b].type()===a)return this._factories[b];return null},create:function(a,b){var f=a.trim();if(0===f.length)throw new e("value has no non-whitespace characters");
var k,q="",n;n=f.search(/[ \t\n\r]+/);-1===n?k=f:(k=f.substring(0,n),n<f.length&&(q=f.substring(n)));"default"===k&&(k=this._instance.defaultsAndOverrides().defaultProtocol);f=0;for(n=this._factories.length;f<n;++f)if(this._factories[f].protocol()===k)return this._factories[f].create(q,b);if("opaque"===k){k=d.fromString(q);f=0;for(n=this._factories.length;f<n;++f)if(this._factories[f].type()==k.type())return q=new c(this._instance,g.currentProtocolEncoding,!0),k.streamWrite(q),q.pos=0,q.readShort(),
this._factories[f].read(q);return k}return null},read:function(a){for(var b=a.readShort(),c=0;c<this._factories.length;++c)if(this._factories[c].type()==b)return this._factories[c].read(a);return d.fromStream(b,a)},destroy:function(){for(var a=0;a<this._factories.length;++a)this._factories[a].destroy();this._factories=[]}});a.EndpointFactoryManager=k;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.HashMap,c=a.LocatorInfo,e=a.LocatorTable,d=a.LocatorPrx,g=a.Class({__init__:function(a){this._background=0<a.getPropertyAsInt("Ice.BackgroundLocatorCacheUpdates");this._table=new b;this._table.keyComparator=b.compareEquals;this._locatorTables=new b;this._locatorTables.keyComparator=b.compareEquals},destroy:function(){for(var a=this._table.entries;null!==a;a=a.next)a.value.destroy();this._table.clear();this._locatorTables.clear()},find:function(a){if(null===a)return null;
a=d.uncheckedCast(a.ice_locator(null));var b=this._table.get(a);void 0===b&&(b=this._locatorTables.get(a.ice_getIdentity()),void 0===b&&(b=new e,this._locatorTables.set(a.ice_getIdentity(),b)),b=new c(a,b,this._background),this._table.set(a,b));return b}});a.LocatorManager=g;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.ObjectAdapterI,c=a.Promise,e=a.UUID,d=a.Class({__init__:function(a,b){this._instance=a;this._communicator=b;this._adapters=[];this._adapterNamesInUse=[];this._shutdownPromise=new c},shutdown:function(){if(null===this._instance)return this._shutdownPromise;this._communicator=this._instance=null;var a=this;c.all(this._adapters.map(function(a){return a.deactivate()})).then(function(){a._shutdownPromise.succeed()},function(b){a._shutdownPromise.fail(b)});return this._shutdownPromise},
waitForShutdown:function(){var a=this;return this._shutdownPromise.then(function(){return c.all(a._adapters.map(function(a){return a.waitForDeactivate()}))})},isShutdown:function(){return null===this._instance},destroy:function(){var a=this;return this.waitForShutdown().then(function(){return c.all(a._adapters.map(function(a){return a.destroy()}))})},createObjectAdapter:function(c,d,f){if(null===this._instance)throw new a.ObjectAdapterDeactivatedException;var p=null;try{if(0===c.length)var h=e.generateUUID(),
p=new b(this._instance,this._communicator,this,h,null,!0,f);else{if(-1!==this._adapterNamesInUse.indexOf(c))throw new a.AlreadyRegisteredException("object adapter",c);p=new b(this._instance,this._communicator,this,c,d,!1,f);this._adapterNamesInUse.push(c)}this._adapters.push(p)}catch(l){f.fail(l,f)}},removeObjectAdapter:function(a){if(null!==this._instance){var b=this._adapters.indexOf(a);-1!==b&&this._adapters.splice(b,1);b=this._adapterNamesInUse.indexOf(a.getName());-1!==b&&this._adapterNamesInUse.splice(b,
1)}}});a.ObjectAdapterFactory=d;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.AsyncResultBase,c=a.ConnectionMonitor,e=a.Debug,d=a.DefaultsAndOverrides,g=a.EndpointFactoryManager,k=a.ImplicitContextI,m=a.LocatorManager,p=a.ObjectAdapterFactory,h=a.ObjectFactoryManager,l=a.OutgoingConnectionFactory,q=a.Properties,n=a.ProxyFactory,s=a.RetryQueue,r=a.RouterManager,u=a.Timer,v=a.TraceLevels,w=a.ReferenceFactory,t=a.Class({__init__:function(a){this._state=0;this._initData=a;this._endpointFactoryManager=this._endpointHostResolver=this._retryQueue=
this._protocolSupport=this._objectAdapterFactory=this._servantFactoryManager=this._connectionMonitor=this._outgoingConnectionFactory=this._proxyFactory=this._referenceFactory=this._locatorManager=this._routerManager=this._implicitContext=this._serverACM=this._clientACM=this._messageSizeMax=this._defaultsAndOverrides=this._traceLevels=null},initializationData:function(){return this._initData},traceLevels:function(){e.assert(null!==this._traceLevels);return this._traceLevels},defaultsAndOverrides:function(){e.assert(null!==
this._defaultsAndOverrides);return this._defaultsAndOverrides},routerManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._routerManager);return this._routerManager},locatorManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._locatorManager);return this._locatorManager},referenceFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._referenceFactory);return this._referenceFactory},
proxyFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._proxyFactory);return this._proxyFactory},outgoingConnectionFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._outgoingConnectionFactory);return this._outgoingConnectionFactory},preferIPv6:function(){return this._preferIPv6},connectionMonitor:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._connectionMonitor);
return this._connectionMonitor},servantFactoryManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._servantFactoryManager);return this._servantFactoryManager},objectAdapterFactory:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._objectAdapterFactory);return this._objectAdapterFactory},protocolSupport:function(){if(2==this._state)throw new a.CommunicatorDestroyedException;return this._protocolSupport},retryQueue:function(){if(2===
this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._retryQueue);return this._retryQueue},timer:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._timer);return this._timer},endpointFactoryManager:function(){if(2===this._state)throw new a.CommunicatorDestroyedException;e.assert(null!==this._endpointFactoryManager);return this._endpointFactoryManager},messageSizeMax:function(){return this._messageSizeMax},clientACM:function(){return this._clientACM},
serverACM:function(){return this._serverACM},getImplicitContext:function(){return this._implicitContext},stringToIdentity:function(b){return a.stringToIdentity(b)},identityToString:function(b){return a.identityToString(b)},setDefaultLocator:function(b){if(2==this._state)throw new a.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultLocator(b)},setDefaultRouter:function(b){if(2==this._state)throw new a.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultRouter(b)},
setLogger:function(a){this._initData.logger=a},finishSetup:function(b,e){try{this._timer=new u;null===this._initData.properties&&(this._initData.properties=q.createProperties());null===this._initData.logger&&(this._initData.logger=a.getProcessLogger());this._traceLevels=new v(this._initData.properties);this._defaultsAndOverrides=new d(this._initData.properties);var f=this._initData.properties.getPropertyAsIntWithDefault("Ice.MessageSizeMax",1024);this._messageSizeMax=1>f?1048576:2097151.9990234375<
f?2147483647:1024*f;this._clientACM=this._initData.properties.getPropertyAsIntWithDefault("Ice.ACM.Client",60);this._serverACM=this._initData.properties.getPropertyAsInt("Ice.ACM.Server");this._implicitContext=k.create(this._initData.properties.getProperty("Ice.ImplicitContext"));this._routerManager=new r;this._locatorManager=new m(this._initData.properties);this._referenceFactory=new w(this,b);this._proxyFactory=new n(this);this._endpointFactoryManager=new g(this);"undefined"!==typeof a.TcpEndpointFactory&&
this._endpointFactoryManager.add(new a.TcpEndpointFactory(this));"undefined"!==typeof IceWS&&"undefined"!==typeof IceWS.EndpointFactory&&(this._endpointFactoryManager.add(new IceWS.EndpointFactory(this,!1)),this._endpointFactoryManager.add(new IceWS.EndpointFactory(this,!0)));this._outgoingConnectionFactory=new l(b,this);this._servantFactoryManager=new h;this._objectAdapterFactory=new p(this,b);this._retryQueue=new s(this);var t=a.RouterPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Router"));
null!==t&&(this._referenceFactory=this._referenceFactory.setDefaultRouter(t));var A=a.LocatorPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Locator"));null!==A&&(this._referenceFactory=this._referenceFactory.setDefaultLocator(A));var C=this._initData.properties.getPropertyAsInt("Ice.MonitorConnections");this._connectionMonitor=new c(this,C);this._connectionMonitor.checkIntervalForACM(this._clientACM);this._connectionMonitor.checkIntervalForACM(this._serverACM);null!==e&&e.succeed(b)}catch(D){if(null!==
e)D instanceof a.LocalException?this.destroy().finally(function(){e.fail(D)}):e.fail(D);else throw D instanceof a.LocalException&&this.destroy(),D;}},destroy:function(){var c=new b(null,"destroy",null,this,null);if(0!=this._state)return c.succeed(c),c;this._state=1;var d=this;a.Promise.try(function(){if(d._objectAdapterFactory)return d._objectAdapterFactory.shutdown()}).then(function(){null!==d._outgoingConnectionFactory&&d._outgoingConnectionFactory.destroy();if(null!==d._objectAdapterFactory)return d._objectAdapterFactory.destroy()}).then(function(){if(null!==
d._outgoingConnectionFactory)return d._outgoingConnectionFactory.waitUntilFinished()}).then(function(){d._retryQueue&&d._retryQueue.destroy();d._objectAdapterFactory=null;d._outgoingConnectionFactory=null;d._retryQueue=null;d._connectionMonitor&&(d._connectionMonitor.destroy(),d._connectionMonitor=null);d._timer&&(d._timer.destroy(),d._timer=null);d._servantFactoryManager&&(d._servantFactoryManager.destroy(),d._servantFactoryManager=null);d._referenceFactory&&(d._referenceFactory=null);d._proxyFactory=
null;d._routerManager&&(d._routerManager.destroy(),d._routerManager=null);d._locatorManager&&(d._locatorManager.destroy(),d._locatorManager=null);d._endpointFactoryManager&&(d._endpointFactoryManager.destroy(),d._endpointFactoryManager=null);d._state=2;if(0<d._initData.properties.getPropertyAsInt("Ice.Warn.UnusedProperties")){var a=d._initData.properties.getUnusedProperties();if(0<a.length){var b=[];b.push("The following properties were set but never read:");for(var e=0;e<a.length;++e)b.push("\n    "),
b.push(a[e]);d._initData.logger.warning(b.join(""))}}c.succeed(c)}).exception(function(a){c.fail(a)});return c}});a.Instance=t;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Instance,c=a.UUID,e=a.Class({__init__:function(a){this._instance=new b(a)},finishSetup:function(a){this._instance.finishSetup(this,a)},destroy:function(){return this._instance.destroy()},shutdown:function(){this._instance.objectAdapterFactory().shutdown()},waitForShutdown:function(){return this._instance.objectAdapterFactory().waitForShutdown()},isShutdown:function(){return this._instance.objectAdapterFactory().isShutdown()},stringToProxy:function(a){return this._instance.proxyFactory().stringToProxy(a)},
proxyToString:function(a){return this._instance.proxyFactory().proxyToString(a)},propertyToProxy:function(a){return this._instance.proxyFactory().propertyToProxy(a)},proxyToProperty:function(a,b){return this._instance.proxyFactory().proxyToProperty(a,b)},stringToIdentity:function(a){return this._instance.stringToIdentity(a)},identityToString:function(a){return this._instance.identityToString(a)},createObjectAdapter:function(b){var c=new a.AsyncResultBase(this,"createObjectAdapter",this,null,null);
this._instance.objectAdapterFactory().createObjectAdapter(b,null,c);return c},createObjectAdapterWithEndpoints:function(b,e){0===b.length&&(b=c.generateUUID());this.getProperties().setProperty(b+".Endpoints",e);var f=new a.AsyncResultBase(this,"createObjectAdapterWithEndpoints",this,null,null);this._instance.objectAdapterFactory().createObjectAdapter(b,null,f);return f},createObjectAdapterWithRouter:function(b,e){0===b.length&&(b=c.generateUUID());for(var f=new a.AsyncResultBase(this,"createObjectAdapterWithRouter",
this,null,null),m=this.proxyToProperty(e,b+".Router").entries;null!==m;m=m.next)this.getProperties().setProperty(m.key,m.value);this._instance.objectAdapterFactory().createObjectAdapter(b,e,f);return f},addObjectFactory:function(a,b){this._instance.servantFactoryManager().add(a,b)},findObjectFactory:function(a){return this._instance.servantFactoryManager().find(a)},getImplicitContext:function(){return this._instance.getImplicitContext()},getProperties:function(){return this._instance.initializationData().properties},
getLogger:function(){return this._instance.initializationData().logger},getDefaultRouter:function(){return this._instance.referenceFactory().getDefaultRouter()},setDefaultRouter:function(a){this._instance.setDefaultRouter(a)},getDefaultLocator:function(){return this._instance.referenceFactory().getDefaultLocator()},setDefaultLocator:function(a){this._instance.setDefaultLocator(a)},flushBatchRequests:function(){return this._instance.outgoingConnectionFactory().flushAsyncBatchRequests()}});Object.defineProperty(e.prototype,
"instance",{get:function(){return this._instance}});a.Communicator=e;f.Ice=a})("undefined"===typeof global?window:global);
(function(f){var a=f.Ice||{},b=a.Protocol;a.InitializationData=function(){this.logger=this.properties=null};a.InitializationData.prototype.clone=function(){var b=new a.InitializationData;b.properties=this.properties;b.logger=this.logger;return b};a.initialize=function(b,e){var d=null,f=null;if(b instanceof Array)d=b;else if(b instanceof a.InitializationData)f=b;else if(void 0!==b&&null!==b)throw new a.InitializationException("invalid argument to initialize");if(void 0!==e&&null!==e)if(e instanceof
a.InitializationData&&null===f)f=e;else throw new a.InitializationException("invalid argument to initialize");f=null===f?new a.InitializationData:f.clone();f.properties=a.createProperties(d,f.properties);d=new a.Communicator(f);d.finishSetup(null);return d};a.createProperties=function(b,e){return new a.Properties(b,e)};a.currentProtocol=function(){return b.currentProtocol.clone()};a.currentEncoding=function(){return b.currentEncoding.clone()};f.Ice=a})("undefined"===typeof global?window:global);
